var K0=t=>{throw TypeError(t)};var fm=(t,e,n)=>e.has(t)||K0("Cannot "+n);var D=(t,e,n)=>(fm(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?K0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Z=(t,e,n,r)=>(fm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),je=(t,e,n)=>(fm(t,e,"access private method"),n);var Vu=(t,e,n,r)=>({set _(s){Z(t,e,s,n)},get _(){return D(t,e,r)}});function YP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function V1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F1={exports:{}},Bh={},z1={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),XP=Symbol.for("react.portal"),JP=Symbol.for("react.fragment"),ZP=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),rR=Symbol.for("react.forward_ref"),sR=Symbol.for("react.suspense"),iR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),G0=Symbol.iterator;function aR(t){return t===null||typeof t!="object"?null:(t=G0&&t[G0]||t["@@iterator"],typeof t=="function"?t:null)}var U1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$1=Object.assign,B1={};function Ka(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||U1}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H1(){}H1.prototype=Ka.prototype;function yy(t,e,n){this.props=t,this.context=e,this.refs=B1,this.updater=n||U1}var vy=yy.prototype=new H1;vy.constructor=yy;$1(vy,Ka.prototype);vy.isPureReactComponent=!0;var Q0=Array.isArray,q1=Object.prototype.hasOwnProperty,xy={current:null},W1={key:!0,ref:!0,__self:!0,__source:!0};function K1(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)q1.call(e,r)&&!W1.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Yc,type:t,key:i,ref:a,props:s,_owner:xy.current}}function lR(t,e){return{$$typeof:Yc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yc}function cR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y0=/\/+/g;function mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cR(""+t.key):e.toString(36)}function gd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Yc:case XP:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+mm(a,0):r,Q0(s)?(n="",t!=null&&(n=t.replace(Y0,"$&/")+"/"),gd(s,e,n,"",function(d){return d})):s!=null&&(wy(s)&&(s=lR(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Y0,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Q0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+mm(i,l);a+=gd(i,e,n,c,s)}else if(c=aR(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+mm(i,l++),a+=gd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fu(t,e,n){if(t==null)return t;var r=[],s=0;return gd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},yd={transition:null},dR={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:yd,ReactCurrentOwner:xy};function G1(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Ka;Re.Fragment=JP;Re.Profiler=eR;Re.PureComponent=yy;Re.StrictMode=ZP;Re.Suspense=sR;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;Re.act=G1;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$1({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=xy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)q1.call(e,c)&&!W1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Yc,type:t.type,key:s,ref:i,props:r,_owner:a}};Re.createContext=function(t){return t={$$typeof:nR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tR,_context:t},t.Consumer=t};Re.createElement=K1;Re.createFactory=function(t){var e=K1.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:rR,render:t}};Re.isValidElement=wy;Re.lazy=function(t){return{$$typeof:oR,_payload:{_status:-1,_result:t},_init:uR}};Re.memo=function(t,e){return{$$typeof:iR,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};Re.unstable_act=G1;Re.useCallback=function(t,e){return ln.current.useCallback(t,e)};Re.useContext=function(t){return ln.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Re.useEffect=function(t,e){return ln.current.useEffect(t,e)};Re.useId=function(){return ln.current.useId()};Re.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return ln.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Re.useRef=function(t){return ln.current.useRef(t)};Re.useState=function(t){return ln.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return ln.current.useTransition()};Re.version="18.3.1";z1.exports=Re;var g=z1.exports;const ys=V1(g),Q1=YP({__proto__:null,default:ys},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=g,fR=Symbol.for("react.element"),mR=Symbol.for("react.fragment"),pR=Object.prototype.hasOwnProperty,gR=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pR.call(e,r)&&!yR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:fR,type:t,key:i,ref:a,props:s,_owner:gR.current}}Bh.Fragment=mR;Bh.jsx=Y1;Bh.jsxs=Y1;F1.exports=Bh;var o=F1.exports,X1={exports:{}},An={},J1={exports:{}},Z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,K){var ne=F.length;F.push(K);e:for(;0<ne;){var le=ne-1>>>1,Ce=F[le];if(0<s(Ce,K))F[le]=K,F[ne]=Ce,ne=le;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],ne=F.pop();if(ne!==K){F[0]=ne;e:for(var le=0,Ce=F.length,ze=Ce>>>1;le<ze;){var ot=2*(le+1)-1,W=F[ot],H=ot+1,ee=F[H];if(0>s(W,ne))H<Ce&&0>s(ee,W)?(F[le]=ee,F[H]=ne,le=H):(F[le]=W,F[ot]=ne,le=ot);else if(H<Ce&&0>s(ee,ne))F[le]=ee,F[H]=ne,le=H;else break e}}return K}function s(F,K){var ne=F.sortIndex-K.sortIndex;return ne!==0?ne:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,m=3,x=!1,T=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=F)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function A(F){if(v=!1,S(F),!T)if(n(c)!==null)T=!0,G(O);else{var K=n(d);K!==null&&J(A,K.startTime-F)}}function O(F,K){T=!1,v&&(v=!1,b(N),N=-1),x=!0;var ne=m;try{for(S(K),f=n(c);f!==null&&(!(f.expirationTime>K)||F&&!k());){var le=f.callback;if(typeof le=="function"){f.callback=null,m=f.priorityLevel;var Ce=le(f.expirationTime<=K);K=t.unstable_now(),typeof Ce=="function"?f.callback=Ce:f===n(c)&&r(c),S(K)}else r(c);f=n(c)}if(f!==null)var ze=!0;else{var ot=n(d);ot!==null&&J(A,ot.startTime-K),ze=!1}return ze}finally{f=null,m=ne,x=!1}}var M=!1,j=null,N=-1,E=5,I=-1;function k(){return!(t.unstable_now()-I<E)}function C(){if(j!==null){var F=t.unstable_now();I=F;var K=!0;try{K=j(!0,F)}finally{K?R():(M=!1,j=null)}}else M=!1}var R;if(typeof y=="function")R=function(){y(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=C,R=function(){Y.postMessage(null)}}else R=function(){_(C,0)};function G(F){j=F,M||(M=!0,R())}function J(F,K){N=_(function(){F(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,G(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var ne=m;m=K;try{return F()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ne=m;m=F;try{return K()}finally{m=ne}},t.unstable_scheduleCallback=function(F,K,ne){var le=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,F){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ne+Ce,F={id:h++,callback:K,priorityLevel:F,startTime:ne,expirationTime:Ce,sortIndex:-1},ne>le?(F.sortIndex=ne,e(d,F),n(c)===null&&F===n(d)&&(v?(b(N),N=-1):v=!0,J(A,ne-le))):(F.sortIndex=Ce,e(c,F),T||x||(T=!0,G(O))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var K=m;return function(){var ne=m;m=K;try{return F.apply(this,arguments)}finally{m=ne}}}})(Z1);J1.exports=Z1;var vR=J1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=g,Rn=vR;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eE=new Set,hc={};function vo(t,e){Ea(t,e),Ea(t+"Capture",e)}function Ea(t,e){for(hc[t]=e,t=0;t<e.length;t++)eE.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,wR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X0={},J0={};function _R(t){return mp.call(J0,t)?!0:mp.call(X0,t)?!1:wR.test(t)?J0[t]=!0:(X0[t]=!0,!1)}function bR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ER(t,e,n,r){if(e===null||typeof e>"u"||bR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _y=/[\-:]([a-z])/g;function by(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_y,by);At[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_y,by);At[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_y,by);At[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var s=At.hasOwnProperty(e)?At[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ER(e,n,s,r)&&(n=null),r||s===null?_R(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var as=xR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Mo=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),rE=Symbol.for("react.offscreen"),Z0=Symbol.iterator;function El(t){return t===null||typeof t!="object"?null:(t=Z0&&t[Z0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,pm;function Dl(t){if(pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var gm=!1;function ym(t,e){if(!t||gm)return"";gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{gm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Dl(t):""}function NR(t){switch(t.tag){case 5:return Dl(t.type);case 16:return Dl("Lazy");case 13:return Dl("Suspense");case 19:return Dl("SuspenseList");case 0:case 2:case 15:return t=ym(t.type,!1),t;case 11:return t=ym(t.type.render,!1),t;case 1:return t=ym(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lo:return"Fragment";case Mo:return"Portal";case pp:return"Profiler";case Ny:return"StrictMode";case gp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nE:return(t.displayName||"Context")+".Consumer";case tE:return(t._context.displayName||"Context")+".Provider";case Sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ty:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function SR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===Ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TR(t){var e=sE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uu(t){t._valueTracker||(t._valueTracker=TR(t))}function iE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ew(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oE(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function wp(t,e){oE(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,n):e.hasOwnProperty("defaultValue")&&_p(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _p(t,e,n){(e!=="number"||$d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ml=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Ml(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function aE(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $u,cE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jR=["Webkit","ms","Moz","O"];Object.keys(Yl).forEach(function(t){jR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yl[e]=Yl[t]})});function uE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yl.hasOwnProperty(t)&&Yl[t]?(""+e).trim():e+"px"}function dE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var IR=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Np(t,e){if(e){if(IR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp=null;function jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jp=null,Yo=null,Xo=null;function sw(t){if(t=Zc(t)){if(typeof jp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Gh(e),jp(t.stateNode,t.type,e))}}function hE(t){Yo?Xo?Xo.push(t):Xo=[t]:Yo=t}function fE(){if(Yo){var t=Yo,e=Xo;if(Xo=Yo=null,sw(t),e)for(t=0;t<e.length;t++)sw(e[t])}}function mE(t,e){return t(e)}function pE(){}var vm=!1;function gE(t,e,n){if(vm)return t(e,n);vm=!0;try{return mE(t,e,n)}finally{vm=!1,(Yo!==null||Xo!==null)&&(pE(),fE())}}function mc(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Ip=!1;if(Xr)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Ip=!1}function CR(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Xl=!1,Bd=null,Hd=!1,Cp=null,PR={onError:function(t){Xl=!0,Bd=t}};function RR(t,e,n,r,s,i,a,l,c){Xl=!1,Bd=null,CR.apply(PR,arguments)}function AR(t,e,n,r,s,i,a,l,c){if(RR.apply(this,arguments),Xl){if(Xl){var d=Bd;Xl=!1,Bd=null}else throw Error(q(198));Hd||(Hd=!0,Cp=d)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iw(t){if(xo(t)!==t)throw Error(q(188))}function kR(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return iw(s),t;if(i===r)return iw(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function vE(t){return t=kR(t),t!==null?xE(t):null}function xE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xE(t);if(e!==null)return e;t=t.sibling}return null}var wE=Rn.unstable_scheduleCallback,ow=Rn.unstable_cancelCallback,OR=Rn.unstable_shouldYield,DR=Rn.unstable_requestPaint,dt=Rn.unstable_now,MR=Rn.unstable_getCurrentPriorityLevel,Iy=Rn.unstable_ImmediatePriority,_E=Rn.unstable_UserBlockingPriority,qd=Rn.unstable_NormalPriority,LR=Rn.unstable_LowPriority,bE=Rn.unstable_IdlePriority,Hh=null,wr=null;function VR(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Hh,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:UR,FR=Math.log,zR=Math.LN2;function UR(t){return t>>>=0,t===0?32:31-(FR(t)/zR|0)|0}var Bu=64,Hu=4194304;function Ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ll(l):(i&=a,i!==0&&(r=Ll(i)))}else a=n&~s,a!==0?r=Ll(a):i!==0&&(r=Ll(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function $R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-tr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=$R(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EE(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function HR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Cy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function NE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SE,Py,TE,jE,IE,Rp=!1,qu=[],Fs=null,zs=null,Us=null,pc=new Map,gc=new Map,bs=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aw(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(e.pointerId)}}function Sl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zc(e),e!==null&&Py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function WR(t,e,n,r,s){switch(e){case"focusin":return Fs=Sl(Fs,t,e,n,r,s),!0;case"dragenter":return zs=Sl(zs,t,e,n,r,s),!0;case"mouseover":return Us=Sl(Us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pc.set(i,Sl(pc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gc.set(i,Sl(gc.get(i)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=Oi(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=yE(n),e!==null){t.blockedOn=e,IE(t.priority,function(){TE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tp=r,n.target.dispatchEvent(r),Tp=null}else return e=Zc(n),e!==null&&Py(e),t.blockedOn=n,!1;e.shift()}return!0}function lw(t,e,n){vd(t)&&n.delete(e)}function KR(){Rp=!1,Fs!==null&&vd(Fs)&&(Fs=null),zs!==null&&vd(zs)&&(zs=null),Us!==null&&vd(Us)&&(Us=null),pc.forEach(lw),gc.forEach(lw)}function Tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,KR)))}function yc(t){function e(s){return Tl(s,t)}if(0<qu.length){Tl(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Tl(Fs,t),zs!==null&&Tl(zs,t),Us!==null&&Tl(Us,t),pc.forEach(e),gc.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&bs.shift()}var Jo=as.ReactCurrentBatchConfig,Kd=!0;function GR(t,e,n,r){var s=Be,i=Jo.transition;Jo.transition=null;try{Be=1,Ry(t,e,n,r)}finally{Be=s,Jo.transition=i}}function QR(t,e,n,r){var s=Be,i=Jo.transition;Jo.transition=null;try{Be=4,Ry(t,e,n,r)}finally{Be=s,Jo.transition=i}}function Ry(t,e,n,r){if(Kd){var s=Ap(t,e,n,r);if(s===null)Cm(t,e,r,Gd,n),aw(t,r);else if(WR(s,t,e,n,r))r.stopPropagation();else if(aw(t,r),e&4&&-1<qR.indexOf(t)){for(;s!==null;){var i=Zc(s);if(i!==null&&SE(i),i=Ap(t,e,n,r),i===null&&Cm(t,e,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cm(t,e,r,null,n)}}var Gd=null;function Ap(t,e,n,r){if(Gd=null,t=jy(r),t=Oi(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function PE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MR()){case Iy:return 1;case _E:return 4;case qd:case LR:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Ms=null,Ay=null,xd=null;function RE(){if(xd)return xd;var t,e=Ay,n=e.length,r,s="value"in Ms?Ms.value:Ms.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return xd=s.slice(t,1<r?1-r:void 0)}function wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wu(){return!0}function cw(){return!1}function kn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wu:cw,this.isPropagationStopped=cw,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=kn(Ga),Jc=st({},Ga,{view:0,detail:0}),YR=kn(Jc),wm,_m,jl,qh=st({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(wm=t.screenX-jl.screenX,_m=t.screenY-jl.screenY):_m=wm=0,jl=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),uw=kn(qh),XR=st({},qh,{dataTransfer:0}),JR=kn(XR),ZR=st({},Jc,{relatedTarget:0}),bm=kn(ZR),eA=st({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),tA=kn(eA),nA=st({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rA=kn(nA),sA=st({},Ga,{data:0}),dw=kn(sA),iA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aA[t])?!!e[t]:!1}function Oy(){return lA}var cA=st({},Jc,{key:function(t){if(t.key){var e=iA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(t){return t.type==="keypress"?wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uA=kn(cA),dA=st({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=kn(dA),hA=st({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),fA=kn(hA),mA=st({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),pA=kn(mA),gA=st({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=kn(gA),vA=[9,13,27,32],Dy=Xr&&"CompositionEvent"in window,Jl=null;Xr&&"documentMode"in document&&(Jl=document.documentMode);var xA=Xr&&"TextEvent"in window&&!Jl,AE=Xr&&(!Dy||Jl&&8<Jl&&11>=Jl),fw=" ",mw=!1;function kE(t,e){switch(t){case"keyup":return vA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function wA(t,e){switch(t){case"compositionend":return OE(e);case"keypress":return e.which!==32?null:(mw=!0,fw);case"textInput":return t=e.data,t===fw&&mw?null:t;default:return null}}function _A(t,e){if(Vo)return t==="compositionend"||!Dy&&kE(t,e)?(t=RE(),xd=Ay=Ms=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AE&&e.locale!=="ko"?null:e.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bA[t.type]:e==="textarea"}function DE(t,e,n,r){hE(r),e=Qd(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zl=null,vc=null;function EA(t){WE(t,0)}function Wh(t){var e=Uo(t);if(iE(e))return t}function NA(t,e){if(t==="change")return e}var ME=!1;if(Xr){var Em;if(Xr){var Nm="oninput"in document;if(!Nm){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),Nm=typeof gw.oninput=="function"}Em=Nm}else Em=!1;ME=Em&&(!document.documentMode||9<document.documentMode)}function yw(){Zl&&(Zl.detachEvent("onpropertychange",LE),vc=Zl=null)}function LE(t){if(t.propertyName==="value"&&Wh(vc)){var e=[];DE(e,vc,t,jy(t)),gE(EA,e)}}function SA(t,e,n){t==="focusin"?(yw(),Zl=e,vc=n,Zl.attachEvent("onpropertychange",LE)):t==="focusout"&&yw()}function TA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(vc)}function jA(t,e){if(t==="click")return Wh(e)}function IA(t,e){if(t==="input"||t==="change")return Wh(e)}function CA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:CA;function xc(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mp.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xw(t,e){var n=vw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vw(n)}}function VE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FE(){for(var t=window,e=$d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$d(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PA(t){var e=FE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VE(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=xw(n,i);var a=xw(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RA=Xr&&"documentMode"in document&&11>=document.documentMode,Fo=null,kp=null,ec=null,Op=!1;function ww(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Fo==null||Fo!==$d(r)||(r=Fo,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&xc(ec,r)||(ec=r,r=Qd(kp,"onSelect"),0<r.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function Ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Sm={},zE={};Xr&&(zE=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Kh(t){if(Sm[t])return Sm[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zE)return Sm[t]=e[n];return t}var UE=Kh("animationend"),$E=Kh("animationiteration"),BE=Kh("animationstart"),HE=Kh("transitionend"),qE=new Map,_w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){qE.set(t,e),vo(e,[t])}for(var Tm=0;Tm<_w.length;Tm++){var jm=_w[Tm],AA=jm.toLowerCase(),kA=jm[0].toUpperCase()+jm.slice(1);gi(AA,"on"+kA)}gi(UE,"onAnimationEnd");gi($E,"onAnimationIteration");gi(BE,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(HE,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function bw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AR(r,e,void 0,t),t.currentTarget=null}function WE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;bw(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;bw(s,l,d),i=c}}}if(Hd)throw t=Cp,Hd=!1,Cp=null,t}function Xe(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(KE(e,t,2,!1),n.add(r))}function Im(t,e,n){var r=0;e&&(r|=4),KE(n,t,r,e)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function wc(t){if(!t[Gu]){t[Gu]=!0,eE.forEach(function(n){n!=="selectionchange"&&(OA.has(n)||Im(n,!1,t),Im(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gu]||(e[Gu]=!0,Im("selectionchange",!1,e))}}function KE(t,e,n,r){switch(PE(e)){case 1:var s=GR;break;case 4:s=QR;break;default:s=Ry}n=s.bind(null,e,n,t),s=void 0,!Ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Oi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}gE(function(){var d=i,h=jy(n),f=[];e:{var m=qE.get(t);if(m!==void 0){var x=ky,T=t;switch(t){case"keypress":if(wd(n)===0)break e;case"keydown":case"keyup":x=uA;break;case"focusin":T="focus",x=bm;break;case"focusout":T="blur",x=bm;break;case"beforeblur":case"afterblur":x=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=JR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=fA;break;case UE:case $E:case BE:x=tA;break;case HE:x=pA;break;case"scroll":x=YR;break;case"wheel":x=yA;break;case"copy":case"cut":case"paste":x=rA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=hw}var v=(e&4)!==0,_=!v&&t==="scroll",b=v?m!==null?m+"Capture":null:m;v=[];for(var y=d,S;y!==null;){S=y;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,b!==null&&(A=mc(y,b),A!=null&&v.push(_c(y,A,S)))),_)break;y=y.return}0<v.length&&(m=new x(m,T,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==Tp&&(T=n.relatedTarget||n.fromElement)&&(Oi(T)||T[Jr]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(T=n.relatedTarget||n.toElement,x=d,T=T?Oi(T):null,T!==null&&(_=xo(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=d),x!==T)){if(v=uw,A="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=hw,A="onPointerLeave",b="onPointerEnter",y="pointer"),_=x==null?m:Uo(x),S=T==null?m:Uo(T),m=new v(A,y+"leave",x,n,h),m.target=_,m.relatedTarget=S,A=null,Oi(h)===d&&(v=new v(b,y+"enter",T,n,h),v.target=S,v.relatedTarget=_,A=v),_=A,x&&T)t:{for(v=x,b=T,y=0,S=v;S;S=jo(S))y++;for(S=0,A=b;A;A=jo(A))S++;for(;0<y-S;)v=jo(v),y--;for(;0<S-y;)b=jo(b),S--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=jo(v),b=jo(b)}v=null}else v=null;x!==null&&Ew(f,m,x,v,!1),T!==null&&_!==null&&Ew(f,_,T,v,!0)}}e:{if(m=d?Uo(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var O=NA;else if(pw(m))if(ME)O=IA;else{O=TA;var M=SA}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=jA);if(O&&(O=O(t,d))){DE(f,O,n,h);break e}M&&M(t,m,d),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&_p(m,"number",m.value)}switch(M=d?Uo(d):window,t){case"focusin":(pw(M)||M.contentEditable==="true")&&(Fo=M,kp=d,ec=null);break;case"focusout":ec=kp=Fo=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,ww(f,n,h);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":ww(f,n,h)}var j;if(Dy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vo?kE(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(AE&&n.locale!=="ko"&&(Vo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vo&&(j=RE()):(Ms=h,Ay="value"in Ms?Ms.value:Ms.textContent,Vo=!0)),M=Qd(d,N),0<M.length&&(N=new dw(N,t,null,n,h),f.push({event:N,listeners:M}),j?N.data=j:(j=OE(n),j!==null&&(N.data=j)))),(j=xA?wA(t,n):_A(t,n))&&(d=Qd(d,"onBeforeInput"),0<d.length&&(h=new dw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=j))}WE(f,e)})}function _c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mc(t,n),i!=null&&r.unshift(_c(t,i,s)),i=mc(t,e),i!=null&&r.push(_c(t,i,s))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ew(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=mc(n,i),c!=null&&a.unshift(_c(n,c,l))):s||(c=mc(n,i),c!=null&&a.push(_c(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Nw(t){return(typeof t=="string"?t:""+t).replace(DA,`
`).replace(MA,"")}function Qu(t,e,n){if(e=Nw(e),Nw(t)!==e&&n)throw Error(q(425))}function Yd(){}var Dp=null,Mp=null;function Lp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(t){return Sw.resolve(null).then(t).catch(FA)}:Vp;function FA(t){setTimeout(function(){throw t})}function Pm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yc(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),yr="__reactFiber$"+Qa,bc="__reactProps$"+Qa,Jr="__reactContainer$"+Qa,Fp="__reactEvents$"+Qa,zA="__reactListeners$"+Qa,UA="__reactHandles$"+Qa;function Oi(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tw(t);t!==null;){if(n=t[yr])return n;t=Tw(t)}return e}t=n,n=t.parentNode}return null}function Zc(t){return t=t[yr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Gh(t){return t[bc]||null}var zp=[],$o=-1;function yi(t){return{current:t}}function et(t){0>$o||(t.current=zp[$o],zp[$o]=null,$o--)}function Ke(t,e){$o++,zp[$o]=t.current,t.current=e}var ni={},Kt=yi(ni),gn=yi(!1),Xi=ni;function Na(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function Xd(){et(gn),et(Kt)}function jw(t,e,n){if(Kt.current!==ni)throw Error(q(168));Ke(Kt,e),Ke(gn,n)}function GE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,SR(t)||"Unknown",s));return st({},n,r)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,Xi=Kt.current,Ke(Kt,t),Ke(gn,gn.current),!0}function Iw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=GE(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,et(gn),et(Kt),Ke(Kt,t)):et(gn),Ke(gn,n)}var Ur=null,Qh=!1,Rm=!1;function QE(t){Ur===null?Ur=[t]:Ur.push(t)}function $A(t){Qh=!0,QE(t)}function vi(){if(!Rm&&Ur!==null){Rm=!0;var t=0,e=Be;try{var n=Ur;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Qh=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(t+1)),wE(Iy,vi),s}finally{Be=e,Rm=!1}}return null}var Bo=[],Ho=0,Zd=null,eh=0,Ln=[],Vn=0,Ji=null,Hr=1,qr="";function Ri(t,e){Bo[Ho++]=eh,Bo[Ho++]=Zd,Zd=t,eh=e}function YE(t,e,n){Ln[Vn++]=Hr,Ln[Vn++]=qr,Ln[Vn++]=Ji,Ji=t;var r=Hr;t=qr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Hr=1<<32-tr(e)+s|n<<s|r,qr=i+t}else Hr=1<<i|n<<s|r,qr=t}function Ly(t){t.return!==null&&(Ri(t,1),YE(t,1,0))}function Vy(t){for(;t===Zd;)Zd=Bo[--Ho],Bo[Ho]=null,eh=Bo[--Ho],Bo[Ho]=null;for(;t===Ji;)Ji=Ln[--Vn],Ln[Vn]=null,qr=Ln[--Vn],Ln[Vn]=null,Hr=Ln[--Vn],Ln[Vn]=null}var In=null,Tn=null,tt=!1,Jn=null;function XE(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Tn=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:Hr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Tn=null,!0):!1;default:return!1}}function Up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $p(t){if(tt){var e=Tn;if(e){var n=e;if(!Cw(t,e)){if(Up(t))throw Error(q(418));e=$s(n.nextSibling);var r=In;e&&Cw(t,e)?XE(r,n):(t.flags=t.flags&-4097|2,tt=!1,In=t)}}else{if(Up(t))throw Error(q(418));t.flags=t.flags&-4097|2,tt=!1,In=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Yu(t){if(t!==In)return!1;if(!tt)return Pw(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lp(t.type,t.memoizedProps)),e&&(e=Tn)){if(Up(t))throw JE(),Error(q(418));for(;e;)XE(t,e),e=$s(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=In?$s(t.stateNode.nextSibling):null;return!0}function JE(){for(var t=Tn;t;)t=$s(t.nextSibling)}function Sa(){Tn=In=null,tt=!1}function Fy(t){Jn===null?Jn=[t]:Jn.push(t)}var BA=as.ReactCurrentBatchConfig;function Il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Xu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rw(t){var e=t._init;return e(t._payload)}function ZE(t){function e(b,y){if(t){var S=b.deletions;S===null?(b.deletions=[y],b.flags|=16):S.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Ws(b,y),b.index=0,b.sibling=null,b}function i(b,y,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<y?(b.flags|=2,y):S):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,S,A){return y===null||y.tag!==6?(y=Vm(S,b.mode,A),y.return=b,y):(y=s(y,S),y.return=b,y)}function c(b,y,S,A){var O=S.type;return O===Lo?h(b,y,S.props.children,A,S.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ws&&Rw(O)===y.type)?(A=s(y,S.props),A.ref=Il(b,y,S),A.return=b,A):(A=jd(S.type,S.key,S.props,null,b.mode,A),A.ref=Il(b,y,S),A.return=b,A)}function d(b,y,S,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Fm(S,b.mode,A),y.return=b,y):(y=s(y,S.children||[]),y.return=b,y)}function h(b,y,S,A,O){return y===null||y.tag!==7?(y=Wi(S,b.mode,A,O),y.return=b,y):(y=s(y,S),y.return=b,y)}function f(b,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vm(""+y,b.mode,S),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return S=jd(y.type,y.key,y.props,null,b.mode,S),S.ref=Il(b,null,y),S.return=b,S;case Mo:return y=Fm(y,b.mode,S),y.return=b,y;case ws:var A=y._init;return f(b,A(y._payload),S)}if(Ml(y)||El(y))return y=Wi(y,b.mode,S,null),y.return=b,y;Xu(b,y)}return null}function m(b,y,S,A){var O=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:l(b,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zu:return S.key===O?c(b,y,S,A):null;case Mo:return S.key===O?d(b,y,S,A):null;case ws:return O=S._init,m(b,y,O(S._payload),A)}if(Ml(S)||El(S))return O!==null?null:h(b,y,S,A,null);Xu(b,S)}return null}function x(b,y,S,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(S)||null,l(y,b,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zu:return b=b.get(A.key===null?S:A.key)||null,c(y,b,A,O);case Mo:return b=b.get(A.key===null?S:A.key)||null,d(y,b,A,O);case ws:var M=A._init;return x(b,y,S,M(A._payload),O)}if(Ml(A)||El(A))return b=b.get(S)||null,h(y,b,A,O,null);Xu(y,A)}return null}function T(b,y,S,A){for(var O=null,M=null,j=y,N=y=0,E=null;j!==null&&N<S.length;N++){j.index>N?(E=j,j=null):E=j.sibling;var I=m(b,j,S[N],A);if(I===null){j===null&&(j=E);break}t&&j&&I.alternate===null&&e(b,j),y=i(I,y,N),M===null?O=I:M.sibling=I,M=I,j=E}if(N===S.length)return n(b,j),tt&&Ri(b,N),O;if(j===null){for(;N<S.length;N++)j=f(b,S[N],A),j!==null&&(y=i(j,y,N),M===null?O=j:M.sibling=j,M=j);return tt&&Ri(b,N),O}for(j=r(b,j);N<S.length;N++)E=x(j,b,N,S[N],A),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?N:E.key),y=i(E,y,N),M===null?O=E:M.sibling=E,M=E);return t&&j.forEach(function(k){return e(b,k)}),tt&&Ri(b,N),O}function v(b,y,S,A){var O=El(S);if(typeof O!="function")throw Error(q(150));if(S=O.call(S),S==null)throw Error(q(151));for(var M=O=null,j=y,N=y=0,E=null,I=S.next();j!==null&&!I.done;N++,I=S.next()){j.index>N?(E=j,j=null):E=j.sibling;var k=m(b,j,I.value,A);if(k===null){j===null&&(j=E);break}t&&j&&k.alternate===null&&e(b,j),y=i(k,y,N),M===null?O=k:M.sibling=k,M=k,j=E}if(I.done)return n(b,j),tt&&Ri(b,N),O;if(j===null){for(;!I.done;N++,I=S.next())I=f(b,I.value,A),I!==null&&(y=i(I,y,N),M===null?O=I:M.sibling=I,M=I);return tt&&Ri(b,N),O}for(j=r(b,j);!I.done;N++,I=S.next())I=x(j,b,N,I.value,A),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?N:I.key),y=i(I,y,N),M===null?O=I:M.sibling=I,M=I);return t&&j.forEach(function(C){return e(b,C)}),tt&&Ri(b,N),O}function _(b,y,S,A){if(typeof S=="object"&&S!==null&&S.type===Lo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zu:e:{for(var O=S.key,M=y;M!==null;){if(M.key===O){if(O=S.type,O===Lo){if(M.tag===7){n(b,M.sibling),y=s(M,S.props.children),y.return=b,b=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ws&&Rw(O)===M.type){n(b,M.sibling),y=s(M,S.props),y.ref=Il(b,M,S),y.return=b,b=y;break e}n(b,M);break}else e(b,M);M=M.sibling}S.type===Lo?(y=Wi(S.props.children,b.mode,A,S.key),y.return=b,b=y):(A=jd(S.type,S.key,S.props,null,b.mode,A),A.ref=Il(b,y,S),A.return=b,b=A)}return a(b);case Mo:e:{for(M=S.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(b,y.sibling),y=s(y,S.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Fm(S,b.mode,A),y.return=b,b=y}return a(b);case ws:return M=S._init,_(b,y,M(S._payload),A)}if(Ml(S))return T(b,y,S,A);if(El(S))return v(b,y,S,A);Xu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,S),y.return=b,b=y):(n(b,y),y=Vm(S,b.mode,A),y.return=b,b=y),a(b)):n(b,y)}return _}var Ta=ZE(!0),eN=ZE(!1),th=yi(null),nh=null,qo=null,zy=null;function Uy(){zy=qo=nh=null}function $y(t){var e=th.current;et(th),t._currentValue=e}function Bp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zo(t,e){nh=t,zy=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(zy!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(nh===null)throw Error(q(308));qo=t,nh.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Di=null;function By(t){Di===null?Di=[t]:Di.push(t)}function tN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,By(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function Hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zr(t,n)}return s=r.interleaved,s===null?(e.next=e,By(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zr(t,n)}function _d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}function Aw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rh(t,e,n,r){var s=t.updateQueue;_s=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,v=l;switch(m=e,x=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(x,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,m=typeof T=="function"?T.call(x,f,m):T,m==null)break e;f=st({},f,m);break e;case 2:_s=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);eo|=a,t.lanes=a,t.memoizedState=f}}function kw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var eu={},_r=yi(eu),Ec=yi(eu),Nc=yi(eu);function Mi(t){if(t===eu)throw Error(q(174));return t}function qy(t,e){switch(Ke(Nc,e),Ke(Ec,t),Ke(_r,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}et(_r),Ke(_r,e)}function ja(){et(_r),et(Ec),et(Nc)}function rN(t){Mi(Nc.current);var e=Mi(_r.current),n=Ep(e,t.type);e!==n&&(Ke(Ec,t),Ke(_r,n))}function Wy(t){Ec.current===t&&(et(_r),et(Ec))}var nt=yi(0);function sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Am=[];function Ky(){for(var t=0;t<Am.length;t++)Am[t]._workInProgressVersionPrimary=null;Am.length=0}var bd=as.ReactCurrentDispatcher,km=as.ReactCurrentBatchConfig,Zi=0,rt=null,gt=null,bt=null,ih=!1,tc=!1,Sc=0,HA=0;function Lt(){throw Error(q(321))}function Gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,s,i){if(Zi=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bd.current=t===null||t.memoizedState===null?GA:QA,t=n(r,s),tc){i=0;do{if(tc=!1,Sc=0,25<=i)throw Error(q(301));i+=1,bt=gt=null,e.updateQueue=null,bd.current=YA,t=n(r,s)}while(tc)}if(bd.current=oh,e=gt!==null&&gt.next!==null,Zi=0,bt=gt=rt=null,ih=!1,e)throw Error(q(300));return t}function Yy(){var t=Sc!==0;return Sc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?rt.memoizedState=bt=t:bt=bt.next=t,bt}function $n(){if(gt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=bt===null?rt.memoizedState:bt.next;if(e!==null)bt=e,gt=t;else{if(t===null)throw Error(q(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},bt===null?rt.memoizedState=bt=t:bt=bt.next=t}return bt}function Tc(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=$n(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((Zi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,rt.lanes|=h,eo|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,rr(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,eo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dm(t){var e=$n(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);rr(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sN(){}function iN(t,e){var n=rt,r=$n(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,pn=!0),r=r.queue,Xy(lN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,jc(9,aN.bind(null,n,r,s,e),void 0,null),Et===null)throw Error(q(349));Zi&30||oN(n,e,s)}return s}function oN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aN(t,e,n,r){e.value=n,e.getSnapshot=r,cN(e)&&uN(t)}function lN(t,e,n){return n(function(){cN(e)&&uN(t)})}function cN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function uN(t){var e=Zr(t,1);e!==null&&nr(e,t,1,-1)}function Ow(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:t},e.queue=t,t=t.dispatch=KA.bind(null,rt,t),[e.memoizedState,t]}function jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dN(){return $n().memoizedState}function Ed(t,e,n,r){var s=dr();rt.flags|=t,s.memoizedState=jc(1|e,n,void 0,r===void 0?null:r)}function Yh(t,e,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(gt!==null){var a=gt.memoizedState;if(i=a.destroy,r!==null&&Gy(r,a.deps)){s.memoizedState=jc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=jc(1|e,n,i,r)}function Dw(t,e){return Ed(8390656,8,t,e)}function Xy(t,e){return Yh(2048,8,t,e)}function hN(t,e){return Yh(4,2,t,e)}function fN(t,e){return Yh(4,4,t,e)}function mN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pN(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4,4,mN.bind(null,e,t),n)}function Jy(){}function gN(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yN(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vN(t,e,n){return Zi&21?(rr(n,e)||(n=EE(),rt.lanes|=n,eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function qA(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=km.transition;km.transition={};try{t(!1),e()}finally{Be=n,km.transition=r}}function xN(){return $n().memoizedState}function WA(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wN(t))_N(e,n);else if(n=tN(t,e,n,r),n!==null){var s=an();nr(n,t,r,s),bN(n,e,r)}}function KA(t,e,n){var r=qs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wN(t))_N(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,rr(l,a)){var c=e.interleaved;c===null?(s.next=s,By(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=tN(t,e,s,r),n!==null&&(s=an(),nr(n,t,r,s),bN(n,e,r))}}function wN(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function _N(t,e){tc=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cy(t,n)}}var oh={readContext:Un,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},GA={readContext:Un,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:Dw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4194308,4,mN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ed(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WA.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:Ow,useDebugValue:Jy,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=Ow(!1),e=t[0];return t=qA.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=dr();if(tt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Et===null)throw Error(q(349));Zi&30||oN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Dw(lN.bind(null,r,i,t),[t]),r.flags|=2048,jc(9,aN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=Et.identifierPrefix;if(tt){var n=qr,r=Hr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QA={readContext:Un,useCallback:gN,useContext:Un,useEffect:Xy,useImperativeHandle:pN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:yN,useReducer:Om,useRef:dN,useState:function(){return Om(Tc)},useDebugValue:Jy,useDeferredValue:function(t){var e=$n();return vN(e,gt.memoizedState,t)},useTransition:function(){var t=Om(Tc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:iN,useId:xN,unstable_isNewReconciler:!1},YA={readContext:Un,useCallback:gN,useContext:Un,useEffect:Xy,useImperativeHandle:pN,useInsertionEffect:hN,useLayoutEffect:fN,useMemo:yN,useReducer:Dm,useRef:dN,useState:function(){return Dm(Tc)},useDebugValue:Jy,useDeferredValue:function(t){var e=$n();return gt===null?e.memoizedState=t:vN(e,gt.memoizedState,t)},useTransition:function(){var t=Dm(Tc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:sN,useSyncExternalStore:iN,useId:xN,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=qs(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(nr(e,t,s,r),_d(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=qs(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(nr(e,t,s,r),_d(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=qs(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bs(t,s,r),e!==null&&(nr(e,t,r,n),_d(e,t,r))}};function Mw(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!xc(n,r)||!xc(s,i):!0}function EN(t,e,n){var r=!1,s=ni,i=e.contextType;return typeof i=="object"&&i!==null?i=Un(i):(s=yn(e)?Xi:Kt.current,r=e.contextTypes,i=(r=r!=null)?Na(t,s):ni),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function qp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Hy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Un(i):(i=yn(e)?Xi:Kt.current,s.context=Na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xh.enqueueReplaceState(s,s.state,null),rh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e){try{var n="",r=e;do n+=NR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Mm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function NN(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lh||(lh=!0,ng=r),Wp(t,e)},n}function SN(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wp(t,e),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Vw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dk.bind(null,t,e,n),e.then(t,t))}function Fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var JA=as.ReactCurrentOwner,pn=!1;function nn(t,e,n,r){e.child=t===null?eN(e,null,n,r):Ta(e,t.child,n,r)}function Uw(t,e,n,r,s){n=n.render;var i=e.ref;return Zo(e,s),r=Qy(t,e,n,r,i,s),n=Yy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(tt&&n&&Ly(e),e.flags|=1,nn(t,e,r,s),e.child)}function $w(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ov(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TN(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xc,n(a,r)&&t.ref===e.ref)return es(t,e,s)}return e.flags|=1,t=Ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function TN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xc(i,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,es(t,e,s)}return Kp(t,e,n,r,s)}function jN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ko,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Ko,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ke(Ko,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ke(Ko,En),En|=r;return nn(t,e,s,n),e.child}function IN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kp(t,e,n,r,s){var i=yn(n)?Xi:Kt.current;return i=Na(e,i),Zo(e,s),n=Qy(t,e,n,r,i,s),r=Yy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(tt&&r&&Ly(e),e.flags|=1,nn(t,e,n,s),e.child)}function Bw(t,e,n,r,s){if(yn(n)){var i=!0;Jd(e)}else i=!1;if(Zo(e,s),e.stateNode===null)Nd(t,e),EN(e,n,r),qp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Un(d):(d=yn(n)?Xi:Kt.current,d=Na(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Lw(e,a,r,d),_s=!1;var m=e.memoizedState;a.state=m,rh(e,r,a,s),c=e.memoizedState,l!==r||m!==c||gn.current||_s?(typeof h=="function"&&(Hp(e,n,h,r),c=e.memoizedState),(l=_s||Mw(e,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,nN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Qn(e.type,l),a.props=d,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=yn(n)?Xi:Kt.current,c=Na(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Lw(e,a,r,c),_s=!1,m=e.memoizedState,a.state=m,rh(e,r,a,s);var T=e.memoizedState;l!==f||m!==T||gn.current||_s?(typeof x=="function"&&(Hp(e,n,x,r),T=e.memoizedState),(d=_s||Mw(e,n,d,r,m,T,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Gp(t,e,n,r,i,s)}function Gp(t,e,n,r,s,i){IN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Iw(e,n,!1),es(t,e,i);r=e.stateNode,JA.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ta(e,t.child,null,i),e.child=Ta(e,null,l,i)):nn(t,e,l,i),e.memoizedState=r.state,s&&Iw(e,n,!0),e.child}function CN(t){var e=t.stateNode;e.pendingContext?jw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jw(t,e.context,!1),qy(t,e.containerInfo)}function Hw(t,e,n,r,s){return Sa(),Fy(s),e.flags|=256,nn(t,e,n,r),e.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function PN(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(nt,s&1),t===null)return $p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ef(a,r,0,null),t=Wi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yp(n),e.memoizedState=Qp,t):Zy(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ZA(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ws(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ws(l,i):(i=Wi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Yp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Qp,r}return i=t.child,t=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zy(t,e){return e=ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,n,r){return r!==null&&Fy(r),Ta(e,t.child,null,n),t=Zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZA(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Mm(Error(q(422))),Ju(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ef({mode:"visible",children:r.children},s,0,null),i=Wi(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ta(e,t.child,null,a),e.child.memoizedState=Yp(a),e.memoizedState=Qp,i);if(!(e.mode&1))return Ju(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Mm(i,r,void 0),Ju(t,e,a,r)}if(l=(a&t.childLanes)!==0,pn||l){if(r=Et,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zr(t,s),nr(r,t,s,-1))}return iv(),r=Mm(Error(q(421))),Ju(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Tn=$s(s.nextSibling),In=e,tt=!0,Jn=null,t!==null&&(Ln[Vn++]=Hr,Ln[Vn++]=qr,Ln[Vn++]=Ji,Hr=t.id,qr=t.overflow,Ji=e),e=Zy(e,r.children),e.flags|=4096,e)}function qw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bp(t.return,e,n)}function Lm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qw(t,n,e);else if(t.tag===19)qw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Lm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Lm(e,!0,n,null,i);break;case"together":Lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ek(t,e,n){switch(e.tag){case 3:CN(e),Sa();break;case 5:rN(e);break;case 1:yn(e.type)&&Jd(e);break;case 4:qy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ke(th,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?PN(t,e,n):(Ke(nt,nt.current&1),t=es(t,e,n),t!==null?t.sibling:null);Ke(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,jN(t,e,n)}return es(t,e,n)}var AN,Xp,kN,ON;AN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};kN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mi(_r.current);var i=null;switch(n){case"input":s=xp(t,s),r=xp(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=bp(t,s),r=bp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yd)}Np(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Xe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ON=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tk(t,e,n){var r=e.pendingProps;switch(Vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return yn(e.type)&&Xd(),Vt(e),null;case 3:return r=e.stateNode,ja(),et(gn),et(Kt),Ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(ig(Jn),Jn=null))),Xp(t,e),Vt(e),null;case 5:Wy(e);var s=Mi(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)kN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Vt(e),null}if(t=Mi(_r.current),Yu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yr]=e,r[bc]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Xe(Vl[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":ew(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":nw(r,i),Xe("invalid",r)}Np(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qu(r.textContent,l,t),s=["children",""+l]):hc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Uu(r),tw(r,i,!0);break;case"textarea":Uu(r),rw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[yr]=e,t[bc]=r,AN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sp(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Vl.length;s++)Xe(Vl[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":ew(t,r),s=xp(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":nw(t,r),s=bp(t,r),Xe("invalid",t);break;default:s=r}Np(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?dE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fc(t,c):typeof c=="number"&&fc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",t):c!=null&&Ey(t,i,c,a))}switch(n){case"input":Uu(t),tw(t,r,!1);break;case"textarea":Uu(t),rw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)ON(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Mi(Nc.current),Mi(_r.current),Yu(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(i=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return Vt(e),null;case 13:if(et(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Tn!==null&&e.mode&1&&!(e.flags&128))JE(),Sa(),e.flags|=98560,i=!1;else if(i=Yu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[yr]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Jn!==null&&(ig(Jn),Jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?vt===0&&(vt=3):iv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return ja(),Xp(t,e),t===null&&wc(e.stateNode.containerInfo),Vt(e),null;case 10:return $y(e.type._context),Vt(e),null;case 17:return yn(e.type)&&Xd(),Vt(e),null;case 19:if(et(nt),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Cl(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sh(t),a!==null){for(e.flags|=128,Cl(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>Ca&&(e.flags|=128,r=!0,Cl(i,!1),e.lanes=4194304)}else{if(!r)if(t=sh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tt)return Vt(e),null}else 2*dt()-i.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,Cl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,n=nt.current,Ke(nt,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function nk(t,e){switch(Vy(e),e.tag){case 1:return yn(e.type)&&Xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),et(gn),et(Kt),Ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(et(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(nt),null;case 4:return ja(),null;case 10:return $y(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var Zu=!1,Ht=!1,rk=typeof WeakSet=="function"?WeakSet:Set,re=null;function Wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Ww=!1;function sk(t,e){if(Dp=Kd,t=FE(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=a),m===i&&++h===r&&(c=a),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:t,selectionRange:n},Kd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,_=T.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Qn(e.type,v),_);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(A){ct(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return T=Ww,Ww=!1,T}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jp(e,n,i)}s=s.next}while(s!==r)}}function Jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DN(t){var e=t.alternate;e!==null&&(t.alternate=null,DN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[bc],delete e[Fp],delete e[zA],delete e[UA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MN(t){return t.tag===5||t.tag===3||t.tag===4}function Kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yd));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Tt=null,Xn=!1;function fs(t,e,n){for(n=n.child;n!==null;)LN(t,e,n),n=n.sibling}function LN(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Hh,n)}catch{}switch(n.tag){case 5:Ht||Wo(n,e);case 6:var r=Tt,s=Xn;Tt=null,fs(t,e,n),Tt=r,Xn=s,Tt!==null&&(Xn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Xn?(t=Tt,n=n.stateNode,t.nodeType===8?Pm(t.parentNode,n):t.nodeType===1&&Pm(t,n),yc(t)):Pm(Tt,n.stateNode));break;case 4:r=Tt,s=Xn,Tt=n.stateNode.containerInfo,Xn=!0,fs(t,e,n),Tt=r,Xn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Jp(n,e,a),s=s.next}while(s!==r)}fs(t,e,n);break;case 1:if(!Ht&&(Wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,e,l)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,fs(t,e,n),Ht=r):fs(t,e,n);break;default:fs(t,e,n)}}function Gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rk),e.forEach(function(r){var s=fk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Xn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Xn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Xn=!0;break e}l=l.return}if(Tt===null)throw Error(q(160));LN(i,a,s),Tt=null,Xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ct(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VN(e,t),e=e.sibling}function VN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),ur(t),r&4){try{nc(3,t,t.return),Jh(3,t)}catch(v){ct(t,t.return,v)}try{nc(5,t,t.return)}catch(v){ct(t,t.return,v)}}break;case 1:Kn(e,t),ur(t),r&512&&n!==null&&Wo(n,n.return);break;case 5:if(Kn(e,t),ur(t),r&512&&n!==null&&Wo(n,n.return),t.flags&32){var s=t.stateNode;try{fc(s,"")}catch(v){ct(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oE(s,i),Sp(l,a);var d=Sp(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?dE(s,f):h==="dangerouslySetInnerHTML"?cE(s,f):h==="children"?fc(s,f):Ey(s,h,f,d)}switch(l){case"input":wp(s,i);break;case"textarea":aE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Qo(s,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qo(s,!!i.multiple,i.defaultValue,!0):Qo(s,!!i.multiple,i.multiple?[]:"",!1))}s[bc]=i}catch(v){ct(t,t.return,v)}}break;case 6:if(Kn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ct(t,t.return,v)}}break;case 3:if(Kn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(v){ct(t,t.return,v)}break;case 4:Kn(e,t),ur(t);break;case 13:Kn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nv=dt())),r&4&&Gw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||h,Kn(e,t),Ht=d):Kn(e,t),ur(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(m=re,x=m.child,m.tag){case 0:case 11:case 14:case 15:nc(4,m,m.return);break;case 1:Wo(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){ct(r,n,v)}}break;case 5:Wo(m,m.return);break;case 22:if(m.memoizedState!==null){Yw(f);continue}}x!==null?(x.return=m,re=x):Yw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uE("display",a))}catch(v){ct(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),ur(t),r&4&&Gw(t);break;case 21:break;default:Kn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MN(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fc(s,""),r.flags&=-33);var i=Kw(t);tg(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Kw(t);eg(t,l,a);break;default:throw Error(q(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ik(t,e,n){re=t,FN(t)}function FN(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Zu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Zu;var d=Ht;if(Zu=a,(Ht=c)&&!d)for(re=s;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?Xw(s):c!==null?(c.return=a,re=c):Xw(s);for(;i!==null;)re=i,FN(i),i=i.sibling;re=s,Zu=l,Ht=d}Qw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Qw(t)}}function Qw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kw(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kw(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ht||e.flags&512&&Zp(e)}catch(m){ct(e,e.return,m)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Yw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Xw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jh(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var i=e.return;try{Zp(e)}catch(c){ct(e,i,c)}break;case 5:var a=e.return;try{Zp(e)}catch(c){ct(e,a,c)}}}catch(c){ct(e,e.return,c)}if(e===t){re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,re=l;break}re=e.return}}var ok=Math.ceil,ah=as.ReactCurrentDispatcher,ev=as.ReactCurrentOwner,zn=as.ReactCurrentBatchConfig,Le=0,Et=null,mt=null,Rt=0,En=0,Ko=yi(0),vt=0,Ic=null,eo=0,Zh=0,tv=0,rc=null,fn=null,nv=0,Ca=1/0,zr=null,lh=!1,ng=null,Hs=null,ed=!1,Ls=null,ch=0,sc=0,rg=null,Sd=-1,Td=0;function an(){return Le&6?dt():Sd!==-1?Sd:Sd=dt()}function qs(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:BA.transition!==null?(Td===0&&(Td=EE()),Td):(t=Be,t!==0||(t=window.event,t=t===void 0?16:PE(t.type)),t):1}function nr(t,e,n,r){if(50<sc)throw sc=0,rg=null,Error(q(185));Xc(t,n,r),(!(Le&2)||t!==Et)&&(t===Et&&(!(Le&2)&&(Zh|=n),vt===4&&Es(t,Rt)),vn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Ca=dt()+500,Qh&&vi()))}function vn(t,e){var n=t.callbackNode;BR(t,e);var r=Wd(t,t===Et?Rt:0);if(r===0)n!==null&&ow(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ow(n),e===1)t.tag===0?$A(Jw.bind(null,t)):QE(Jw.bind(null,t)),VA(function(){!(Le&6)&&vi()}),n=null;else{switch(NE(r)){case 1:n=Iy;break;case 4:n=_E;break;case 16:n=qd;break;case 536870912:n=bE;break;default:n=qd}n=KN(n,zN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zN(t,e){if(Sd=-1,Td=0,Le&6)throw Error(q(327));var n=t.callbackNode;if(ea()&&t.callbackNode!==n)return null;var r=Wd(t,t===Et?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uh(t,r);else{e=r;var s=Le;Le|=2;var i=$N();(Et!==t||Rt!==e)&&(zr=null,Ca=dt()+500,qi(t,e));do try{ck();break}catch(l){UN(t,l)}while(!0);Uy(),ah.current=i,Le=s,mt!==null?e=0:(Et=null,Rt=0,e=vt)}if(e!==0){if(e===2&&(s=Pp(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=Ic,qi(t,0),Es(t,r),vn(t,dt()),n;if(e===6)Es(t,r);else{if(s=t.current.alternate,!(r&30)&&!ak(s)&&(e=uh(t,r),e===2&&(i=Pp(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=Ic,qi(t,0),Es(t,r),vn(t,dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Ai(t,fn,zr);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=nv+500-dt(),10<e)){if(Wd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vp(Ai.bind(null,t,fn,zr),e);break}Ai(t,fn,zr);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-tr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ok(r/1960))-r,10<r){t.timeoutHandle=Vp(Ai.bind(null,t,fn,zr),r);break}Ai(t,fn,zr);break;case 5:Ai(t,fn,zr);break;default:throw Error(q(329))}}}return vn(t,dt()),t.callbackNode===n?zN.bind(null,t):null}function sg(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=uh(t,e),t!==2&&(e=fn,fn=n,e!==null&&ig(e)),t}function ig(t){fn===null?fn=t:fn.push.apply(fn,t)}function ak(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~tv,e&=~Zh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function Jw(t){if(Le&6)throw Error(q(327));ea();var e=Wd(t,0);if(!(e&1))return vn(t,dt()),null;var n=uh(t,e);if(t.tag!==0&&n===2){var r=Pp(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=Ic,qi(t,0),Es(t,e),vn(t,dt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,fn,zr),vn(t,dt()),null}function rv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Ca=dt()+500,Qh&&vi())}}function to(t){Ls!==null&&Ls.tag===0&&!(Le&6)&&ea();var e=Le;Le|=1;var n=zn.transition,r=Be;try{if(zn.transition=null,Be=1,t)return t()}finally{Be=r,zn.transition=n,Le=e,!(Le&6)&&vi()}}function sv(){En=Ko.current,et(Ko)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LA(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:ja(),et(gn),et(Kt),Ky();break;case 5:Wy(r);break;case 4:ja();break;case 13:et(nt);break;case 19:et(nt);break;case 10:$y(r.type._context);break;case 22:case 23:sv()}n=n.return}if(Et=t,mt=t=Ws(t.current,null),Rt=En=e,vt=0,Ic=null,tv=Zh=eo=0,fn=rc=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Di=null}return t}function UN(t,e){do{var n=mt;try{if(Uy(),bd.current=oh,ih){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}if(Zi=0,bt=gt=rt=null,tc=!1,Sc=0,ev.current=null,n===null||n.return===null){vt=1,Ic=e,mt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Fw(a);if(x!==null){x.flags&=-257,zw(x,a,l,i,e),x.mode&1&&Vw(i,d,e),e=x,c=d;var T=e.updateQueue;if(T===null){var v=new Set;v.add(c),e.updateQueue=v}else T.add(c);break e}else{if(!(e&1)){Vw(i,d,e),iv();break e}c=Error(q(426))}}else if(tt&&l.mode&1){var _=Fw(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),zw(_,a,l,i,e),Fy(Ia(c,l));break e}}i=c=Ia(c,l),vt!==4&&(vt=2),rc===null?rc=[i]:rc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=NN(i,c,e);Aw(i,b);break e;case 1:l=c;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Hs===null||!Hs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=SN(i,l,e);Aw(i,A);break e}}i=i.return}while(i!==null)}HN(n)}catch(O){e=O,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function $N(){var t=ah.current;return ah.current=oh,t===null?oh:t}function iv(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||!(eo&268435455)&&!(Zh&268435455)||Es(Et,Rt)}function uh(t,e){var n=Le;Le|=2;var r=$N();(Et!==t||Rt!==e)&&(zr=null,qi(t,e));do try{lk();break}catch(s){UN(t,s)}while(!0);if(Uy(),Le=n,ah.current=r,mt!==null)throw Error(q(261));return Et=null,Rt=0,vt}function lk(){for(;mt!==null;)BN(mt)}function ck(){for(;mt!==null&&!OR();)BN(mt)}function BN(t){var e=WN(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?HN(t):mt=e,ev.current=null}function HN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nk(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,mt=null;return}}else if(n=tk(n,e,En),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);vt===0&&(vt=5)}function Ai(t,e,n){var r=Be,s=zn.transition;try{zn.transition=null,Be=1,uk(t,e,n,r)}finally{zn.transition=s,Be=r}return null}function uk(t,e,n,r){do ea();while(Ls!==null);if(Le&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HR(t,i),t===Et&&(mt=Et=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ed||(ed=!0,KN(qd,function(){return ea(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var a=Be;Be=1;var l=Le;Le|=4,ev.current=null,sk(t,n),VN(n,t),PA(Mp),Kd=!!Dp,Mp=Dp=null,t.current=n,ik(n),DR(),Le=l,Be=a,zn.transition=i}else t.current=n;if(ed&&(ed=!1,Ls=t,ch=s),i=t.pendingLanes,i===0&&(Hs=null),VR(n.stateNode),vn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lh)throw lh=!1,t=ng,ng=null,t;return ch&1&&t.tag!==0&&ea(),i=t.pendingLanes,i&1?t===rg?sc++:(sc=0,rg=t):sc=0,vi(),null}function ea(){if(Ls!==null){var t=NE(ch),e=zn.transition,n=Be;try{if(zn.transition=null,Be=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,ch=0,Le&6)throw Error(q(331));var s=Le;for(Le|=4,re=t.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:nc(8,h,i)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var m=h.sibling,x=h.return;if(DN(h),h===d){re=null;break}if(m!==null){m.return=x,re=m;break}re=x}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,re=b;break e}re=i.return}}var y=t.current;for(re=y;re!==null;){a=re;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,re=S;else e:for(a=y;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jh(9,l)}}catch(O){ct(l,l.return,O)}if(l===a){re=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,re=A;break e}re=l.return}}if(Le=s,vi(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Hh,t)}catch{}r=!0}return r}finally{Be=n,zn.transition=e}}return!1}function Zw(t,e,n){e=Ia(n,e),e=NN(t,e,1),t=Bs(t,e,1),e=an(),t!==null&&(Xc(t,1,e),vn(t,e))}function ct(t,e,n){if(t.tag===3)Zw(t,t,n);else for(;e!==null;){if(e.tag===3){Zw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){t=Ia(n,t),t=SN(e,t,1),e=Bs(e,t,1),t=an(),e!==null&&(Xc(e,1,t),vn(e,t));break}}e=e.return}}function dk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Rt&n)===n&&(vt===4||vt===3&&(Rt&130023424)===Rt&&500>dt()-nv?qi(t,0):tv|=n),vn(t,e)}function qN(t,e){e===0&&(t.mode&1?(e=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):e=1);var n=an();t=Zr(t,e),t!==null&&(Xc(t,e,n),vn(t,n))}function hk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qN(t,n)}function fk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),qN(t,n)}var WN;WN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,ek(t,e,n);pn=!!(t.flags&131072)}else pn=!1,tt&&e.flags&1048576&&YE(e,eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nd(t,e),t=e.pendingProps;var s=Na(e,Kt.current);Zo(e,n),s=Qy(null,e,r,t,s,n);var i=Yy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(i=!0,Jd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hy(e),s.updater=Xh,e.stateNode=s,s._reactInternals=e,qp(e,r,t,n),e=Gp(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Ly(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pk(r),t=Qn(r,t),s){case 0:e=Kp(null,e,r,t,n);break e;case 1:e=Bw(null,e,r,t,n);break e;case 11:e=Uw(null,e,r,t,n);break e;case 14:e=$w(null,e,r,Qn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Kp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Bw(t,e,r,s,n);case 3:e:{if(CN(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nN(t,e),rh(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ia(Error(q(423)),e),e=Hw(t,e,r,n,s);break e}else if(r!==s){s=Ia(Error(q(424)),e),e=Hw(t,e,r,n,s);break e}else for(Tn=$s(e.stateNode.containerInfo.firstChild),In=e,tt=!0,Jn=null,n=eN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===s){e=es(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return rN(e),t===null&&$p(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Lp(r,s)?a=null:i!==null&&Lp(r,i)&&(e.flags|=32),IN(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&$p(e),null;case 13:return PN(t,e,n);case 4:return qy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ta(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Uw(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ke(th,r._currentValue),r._currentValue=a,i!==null)if(rr(i.value,a)){if(i.children===s.children&&!gn.current){e=es(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Gr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Bp(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Bp(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Zo(e,n),s=Un(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=Qn(r,e.pendingProps),s=Qn(r.type,s),$w(t,e,r,s,n);case 15:return TN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Qn(r,s),Nd(t,e),e.tag=1,yn(r)?(t=!0,Jd(e)):t=!1,Zo(e,n),EN(e,r,s),qp(e,r,s,n),Gp(null,e,r,!0,t,n);case 19:return RN(t,e,n);case 22:return jN(t,e,n)}throw Error(q(156,e.tag))};function KN(t,e){return wE(t,e)}function mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new mk(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pk(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sy)return 11;if(t===Ty)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ov(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Lo:return Wi(n.children,s,i,e);case Ny:a=8,s|=8;break;case pp:return t=Fn(12,n,e,s|2),t.elementType=pp,t.lanes=i,t;case gp:return t=Fn(13,n,e,s),t.elementType=gp,t.lanes=i,t;case yp:return t=Fn(19,n,e,s),t.elementType=yp,t.lanes=i,t;case rE:return ef(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tE:a=10;break e;case nE:a=9;break e;case Sy:a=11;break e;case Ty:a=14;break e;case ws:a=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Fn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Wi(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function ef(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=rE,t.lanes=n,t.stateNode={isHidden:!1},t}function Vm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Fm(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,s,i,a,l,c){return t=new gk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hy(i),t}function yk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GN(t){if(!t)return ni;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(yn(n))return GE(t,n,e)}return e}function QN(t,e,n,r,s,i,a,l,c){return t=av(n,r,!0,t,s,i,a,l,c),t.context=GN(null),n=t.current,r=an(),s=qs(n),i=Gr(r,s),i.callback=e??null,Bs(n,i,s),t.current.lanes=s,Xc(t,s,r),vn(t,r),t}function tf(t,e,n,r){var s=e.current,i=an(),a=qs(s);return n=GN(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(s,e,a),t!==null&&(nr(t,s,a,i),_d(t,s,a)),a}function dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function e_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){e_(t,e),(t=t.alternate)&&e_(t,e)}function vk(){return null}var YN=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}nf.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));tf(t,e,null,null)};nf.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;to(function(){tf(null,t,null,null)}),e[Jr]=null}};function nf(t){this._internalRoot=t}nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=jE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&CE(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t_(){}function xk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=dh(a);i.call(d)}}var a=QN(e,r,t,0,null,!1,!1,"",t_);return t._reactRootContainer=a,t[Jr]=a.current,wc(t.nodeType===8?t.parentNode:t),to(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=dh(c);l.call(d)}}var c=av(t,0,!1,null,null,!1,!1,"",t_);return t._reactRootContainer=c,t[Jr]=c.current,wc(t.nodeType===8?t.parentNode:t),to(function(){tf(e,c,n,r)}),c}function sf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=dh(a);l.call(c)}}tf(e,a,t,s)}else a=xk(n,e,t,s,r);return dh(a)}SE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ll(e.pendingLanes);n!==0&&(Cy(e,n|1),vn(e,dt()),!(Le&6)&&(Ca=dt()+500,vi()))}break;case 13:to(function(){var r=Zr(t,1);if(r!==null){var s=an();nr(r,t,1,s)}}),lv(t,1)}};Py=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=an();nr(e,t,134217728,n)}lv(t,134217728)}};TE=function(t){if(t.tag===13){var e=qs(t),n=Zr(t,e);if(n!==null){var r=an();nr(n,t,e,r)}lv(t,e)}};jE=function(){return Be};IE=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};jp=function(t,e,n){switch(e){case"input":if(wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gh(r);if(!s)throw Error(q(90));iE(r),wp(r,s)}}}break;case"textarea":aE(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};mE=rv;pE=to;var wk={usingClientEntryPoint:!1,Events:[Zc,Uo,Gh,hE,fE,rv]},Pl={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_k={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vE(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Hh=td.inject(_k),wr=td}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(q(200));return yk(t,e,null,n)};An.createRoot=function(t,e){if(!uv(t))throw Error(q(299));var n=!1,r="",s=YN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,wc(t.nodeType===8?t.parentNode:t),new cv(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=vE(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return to(t)};An.hydrate=function(t,e,n){if(!rf(e))throw Error(q(200));return sf(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=YN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=QN(e,null,t,1,n??null,s,!1,i,a),t[Jr]=e.current,wc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nf(e)};An.render=function(t,e,n){if(!rf(e))throw Error(q(200));return sf(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!rf(t))throw Error(q(40));return t._reactRootContainer?(to(function(){sf(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};An.unstable_batchedUpdates=rv;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return sf(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function XN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XN)}catch(t){console.error(t)}}XN(),X1.exports=An;var Ya=X1.exports;const bk=V1(Ya);var JN,n_=Ya;JN=n_.createRoot,n_.hydrateRoot;function Ek(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var ZN={exports:{}},eS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=g;function Nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sk=typeof Object.is=="function"?Object.is:Nk,Tk=Pa.useState,jk=Pa.useEffect,Ik=Pa.useLayoutEffect,Ck=Pa.useDebugValue;function Pk(t,e){var n=e(),r=Tk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Ik(function(){s.value=n,s.getSnapshot=e,zm(s)&&i({inst:s})},[t,n,e]),jk(function(){return zm(s)&&i({inst:s}),t(function(){zm(s)&&i({inst:s})})},[t]),Ck(n),n}function zm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sk(t,n)}catch{return!0}}function Rk(t,e){return e()}var Ak=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rk:Pk;eS.useSyncExternalStore=Pa.useSyncExternalStore!==void 0?Pa.useSyncExternalStore:Ak;ZN.exports=eS;var kk=ZN.exports;const Ok=Q1.useInsertionEffect,Dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mk=Dk?g.useLayoutEffect:g.useEffect,Lk=Ok||Mk,tS=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return Lk(()=>{e[0]=t}),e[1]},Vk="popstate",dv="pushState",hv="replaceState",Fk="hashchange",r_=[Vk,dv,hv,Fk],zk=t=>{for(const e of r_)addEventListener(e,t);return()=>{for(const e of r_)removeEventListener(e,t)}},nS=(t,e)=>kk.useSyncExternalStore(zk,t,e),Uk=()=>location.search,$k=({ssrSearch:t=""}={})=>nS(Uk,()=>t),s_=()=>location.pathname,Bk=({ssrPath:t}={})=>nS(s_,t?()=>t:s_),Hk=(t,{replace:e=!1,state:n=null}={})=>history[e?hv:dv](n,"",t),qk=(t={})=>[Bk(t),Hk],i_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[i_]>"u"){for(const t of[dv,hv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,i_,{value:!0})}const Wk=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",rS=(t="")=>t==="/"?"":t,Kk=(t,e)=>t[0]==="~"?t.slice(1):rS(e)+t,Gk=(t="",e)=>Wk(o_(rS(t)),o_(e)),o_=t=>{try{return decodeURI(t)}catch{return t}},sS={hook:qk,searchHook:$k,parser:Ek,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},iS=g.createContext(sS),tu=()=>g.useContext(iS),oS={},aS=g.createContext(oS),lS=()=>g.useContext(aS),of=t=>{const[e,n]=t.hook(t);return[Gk(t.base,e),tS((r,s)=>n(Kk(r,t.base),s))]},af=()=>of(tu()),cS=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=s.exec(n)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((f,m)=>[f,c[m]])):a.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},Qk=({children:t,...e})=>{var h,f;const n=tu(),r=e.hook?sS:n;let s=r;const[i,a]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=g.useRef({}),c=l.current,d=c;for(let m in r){const x=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&x!==d[m]&&(l.current=d={...d}),d[m]=x,x!==r[m]&&(s=d)}return g.createElement(iS.Provider,{value:s,children:t})},a_=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,Yk=t=>{let e=g.useRef(oS),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},On=({path:t,nest:e,match:n,...r})=>{const s=tu(),[i]=of(s),[a,l,c]=n??cS(s.parser,t,i,e),d=Yk({...lS(),...l});if(!a)return null;const h=c?g.createElement(Qk,{base:c},a_(r,d)):a_(r,d);return g.createElement(aS.Provider,{value:d,children:h})},We=g.forwardRef((t,e)=>{const n=tu(),[r,s]=of(n),{to:i="",href:a=i,onClick:l,asChild:c,children:d,className:h,replace:f,state:m,...x}=t,T=tS(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(l==null||l(_),_.defaultPrevented||(_.preventDefault(),s(a,t)))}),v=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&g.isValidElement(d)?g.cloneElement(d,{onClick:T,href:v}):g.createElement("a",{...x,onClick:T,href:v,className:h!=null&&h.call?h(r===a):h,children:d,ref:e})}),uS=t=>Array.isArray(t)?t.flatMap(e=>uS(e&&e.type===g.Fragment?e.props.children:e)):[t],Xk=({children:t,location:e})=>{const n=tu(),[r]=of(n);for(const s of uS(t)){let i=0;if(g.isValidElement(s)&&(i=cS(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var Xa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},no=typeof window>"u"||"Deno"in globalThis;function Mn(){}function Jk(t,e){return typeof t=="function"?t(e):t}function og(t){return typeof t=="number"&&t>=0&&t!==1/0}function dS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ta(t,e){return typeof t=="function"?t(e):t}function Zn(t,e){return typeof t=="function"?t(e):t}function l_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==fv(a,e.options))return!1}else if(!Cc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function c_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ro(e.options.mutationKey)!==ro(i))return!1}else if(!Cc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function fv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ro)(t)}function ro(t){return JSON.stringify(t,(e,n)=>ag(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Cc(t[n],e[n])):!1}function hS(t,e){if(t===e)return t;const n=u_(t)&&u_(e);if(n||ag(t)&&ag(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{};let c=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=hS(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return s===a&&c===s?t:l}return e}function hh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function u_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ag(t){if(!d_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!d_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function d_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zk(t){return new Promise(e=>{setTimeout(e,t)})}function lg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?hS(t,e):e}function eO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mv=Symbol();function fS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Vi,js,ua,I1,nO=(I1=class extends Xa{constructor(){super();he(this,Vi);he(this,js);he(this,ua);Z(this,ua,e=>{if(!no&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,js)||this.setEventListener(D(this,ua))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,js))==null||e.call(this),Z(this,js,void 0))}setEventListener(e){var n;Z(this,ua,e),(n=D(this,js))==null||n.call(this),Z(this,js,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){D(this,Vi)!==e&&(Z(this,Vi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof D(this,Vi)=="boolean"?D(this,Vi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Vi=new WeakMap,js=new WeakMap,ua=new WeakMap,I1),pv=new nO,da,Is,ha,C1,rO=(C1=class extends Xa{constructor(){super();he(this,da,!0);he(this,Is);he(this,ha);Z(this,ha,e=>{if(!no&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,Is)||this.setEventListener(D(this,ha))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Is))==null||e.call(this),Z(this,Is,void 0))}setEventListener(e){var n;Z(this,ha,e),(n=D(this,Is))==null||n.call(this),Z(this,Is,e(this.setOnline.bind(this)))}setOnline(e){D(this,da)!==e&&(Z(this,da,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return D(this,da)}},da=new WeakMap,Is=new WeakMap,ha=new WeakMap,C1),fh=new rO;function cg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function sO(t){return Math.min(1e3*2**t,3e4)}function mS(t){return(t??"online")==="online"?fh.isOnline():!0}var pS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Um(t){return t instanceof pS}function gS(t){let e=!1,n=0,r=!1,s;const i=cg(),a=v=>{var _;r||(m(new pS(v)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>pv.isFocused()&&(t.networkMode==="always"||fh.isOnline())&&t.canRun(),h=()=>mS(t.networkMode)&&t.canRun(),f=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var _;s=b=>{(r||d())&&v(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var M;if(r)return;const y=t.retry??(no?0:3),S=t.retryDelay??sO,A=typeof S=="function"?S(n,b):S,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!O){m(b);return}n++,(M=t.onFail)==null||M.call(t,n,b),Zk(A).then(()=>d()?void 0:x()).then(()=>{e?m(b):T()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?T():x().then(T),i)}}function iO(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var yt=iO(),Fi,P1,yS=(P1=class{constructor(){he(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),og(this.gcTime)&&Z(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(no?1/0:5*60*1e3))}clearGcTimeout(){D(this,Fi)&&(clearTimeout(D(this,Fi)),Z(this,Fi,void 0))}},Fi=new WeakMap,P1),fa,ma,Dn,$t,Wc,zi,Yn,Fr,R1,oO=(R1=class extends yS{constructor(n){super();he(this,Yn);he(this,fa);he(this,ma);he(this,Dn);he(this,$t);he(this,Wc);he(this,zi);Z(this,zi,!1),Z(this,Wc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Z(this,Dn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Z(this,fa,aO(this.options)),this.state=n.state??D(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=D(this,$t))==null?void 0:n.promise}setOptions(n){this.options={...D(this,Wc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Dn).remove(this)}setData(n,r){const s=lg(this.state.data,n,this.options);return je(this,Yn,Fr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){je(this,Yn,Fr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=D(this,$t))==null?void 0:s.promise;return(i=D(this,$t))==null||i.cancel(n),r?r.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,fa))}isActive(){return this.observers.some(n=>Zn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!dS(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=D(this,$t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=D(this,$t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),D(this,Dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(D(this,$t)&&(D(this,zi)?D(this,$t).cancel({revert:!0}):D(this,$t).cancelRetry()),this.scheduleGc()),D(this,Dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,Yn,Fr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,$t))return D(this,$t).continueRetry(),D(this,$t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Z(this,zi,!0),s.signal)})},a=()=>{const m=fS(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return i(x),Z(this,zi,!1),this.options.persister?this.options.persister(m,x,this):m(x)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),Z(this,ma,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&je(this,Yn,Fr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var x,T,v,_;Um(m)&&m.silent||je(this,Yn,Fr).call(this,{type:"error",error:m}),Um(m)||((T=(x=D(this,Dn).config).onError)==null||T.call(x,m,this),(_=(v=D(this,Dn).config).onSettled)==null||_.call(v,this.state.data,m,this)),this.scheduleGc()};return Z(this,$t,gS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,T,v,_;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){c(b);return}(T=(x=D(this,Dn).config).onSuccess)==null||T.call(x,m,this),(_=(v=D(this,Dn).config).onSettled)==null||_.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{je(this,Yn,Fr).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{je(this,Yn,Fr).call(this,{type:"pause"})},onContinue:()=>{je(this,Yn,Fr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),D(this,$t).start()}},fa=new WeakMap,ma=new WeakMap,Dn=new WeakMap,$t=new WeakMap,Wc=new WeakMap,zi=new WeakMap,Yn=new WeakSet,Fr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...vS(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Um(i)&&i.revert&&D(this,ma)?{...D(this,ma),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),yt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),D(this,Dn).notify({query:this,type:"updated",action:n})})},R1);function vS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fr,A1,lO=(A1=class extends Xa{constructor(e={}){super();he(this,fr);this.config=e,Z(this,fr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??fv(s,n);let a=this.get(i);return a||(a=new oO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){D(this,fr).has(e.queryHash)||(D(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=D(this,fr).get(e.queryHash);n&&(e.destroy(),n===e&&D(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,fr).get(e)}getAll(){return[...D(this,fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>l_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>l_(e,r)):n}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,A1),mr,en,Ui,pr,vs,k1,cO=(k1=class extends yS{constructor(n){super();he(this,pr);he(this,mr);he(this,en);he(this,Ui);this.mutationId=n.mutationId,Z(this,en,n.mutationCache),Z(this,mr,[]),this.state=n.state||xS(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){D(this,mr).includes(n)||(D(this,mr).push(n),this.clearGcTimeout(),D(this,en).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Z(this,mr,D(this,mr).filter(r=>r!==n)),this.scheduleGc(),D(this,en).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){D(this,mr).length||(this.state.status==="pending"?this.scheduleGc():D(this,en).remove(this))}continue(){var n;return((n=D(this,Ui))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,c,d,h,f,m,x,T,v,_,b,y,S,A,O,M,j,N;Z(this,Ui,gS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{je(this,pr,vs).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{je(this,pr,vs).call(this,{type:"pause"})},onContinue:()=>{je(this,pr,vs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,en).canRun(this)}));const r=this.state.status==="pending",s=!D(this,Ui).canStart();try{if(!r){je(this,pr,vs).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(i=D(this,en).config).onMutate)==null?void 0:a.call(i,n,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));I!==this.state.context&&je(this,pr,vs).call(this,{type:"pending",context:I,variables:n,isPaused:s})}const E=await D(this,Ui).start();return await((h=(d=D(this,en).config).onSuccess)==null?void 0:h.call(d,E,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,n,this.state.context)),await((T=(x=D(this,en).config).onSettled)==null?void 0:T.call(x,E,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,E,null,n,this.state.context)),je(this,pr,vs).call(this,{type:"success",data:E}),E}catch(E){try{throw await((y=(b=D(this,en).config).onError)==null?void 0:y.call(b,E,n,this.state.context,this)),await((A=(S=this.options).onError)==null?void 0:A.call(S,E,n,this.state.context)),await((M=(O=D(this,en).config).onSettled)==null?void 0:M.call(O,void 0,E,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,E,n,this.state.context)),E}finally{je(this,pr,vs).call(this,{type:"error",error:E})}}finally{D(this,en).runNext(this)}}},mr=new WeakMap,en=new WeakMap,Ui=new WeakMap,pr=new WeakSet,vs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yt.batch(()=>{D(this,mr).forEach(s=>{s.onMutationUpdate(n)}),D(this,en).notify({mutation:this,type:"updated",action:n})})},k1);function xS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,Kc,O1,uO=(O1=class extends Xa{constructor(e={}){super();he(this,bn);he(this,Kc);this.config=e,Z(this,bn,new Map),Z(this,Kc,Date.now())}build(e,n,r){const s=new cO({mutationCache:this,mutationId:++Vu(this,Kc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=nd(e),r=D(this,bn).get(n)??[];r.push(e),D(this,bn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=nd(e);if(D(this,bn).has(n)){const s=(r=D(this,bn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?D(this,bn).delete(n):D(this,bn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=D(this,bn).get(nd(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=D(this,bn).get(nd(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...D(this,bn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>c_(n,r))}findAll(e={}){return this.getAll().filter(n=>c_(e,n))}notify(e){yt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Mn))))}},bn=new WeakMap,Kc=new WeakMap,O1);function nd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function h_(t){return{onFetch:(e,n)=>{var h,f,m,x,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],a=((T=e.state.data)==null?void 0:T.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const _=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=fS(e.options,e.fetchOptions),y=async(S,A,O)=>{if(v)return Promise.reject();if(A==null&&S.pages.length)return Promise.resolve(S);const M={queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};_(M);const j=await b(M),{maxPages:N}=e.options,E=O?tO:eO;return{pages:E(S.pages,j,N),pageParams:E(S.pageParams,A,N)}};if(s&&i.length){const S=s==="backward",A=S?dO:f_,O={pages:i,pageParams:a},M=A(r,O);l=await y(O,M,S)}else{const S=t??i.length;do{const A=c===0?a[0]??r.initialPageParam:f_(r,l);if(c>0&&A==null)break;l=await y(l,A),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function f_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,Cs,Ps,pa,ga,Rs,ya,va,D1,hO=(D1=class{constructor(t={}){he(this,lt);he(this,Cs);he(this,Ps);he(this,pa);he(this,ga);he(this,Rs);he(this,ya);he(this,va);Z(this,lt,t.queryCache||new lO),Z(this,Cs,t.mutationCache||new uO),Z(this,Ps,t.defaultOptions||{}),Z(this,pa,new Map),Z(this,ga,new Map),Z(this,Rs,0)}mount(){Vu(this,Rs)._++,D(this,Rs)===1&&(Z(this,ya,pv.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,lt).onFocus())})),Z(this,va,fh.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,lt).onOnline())})))}unmount(){var t,e;Vu(this,Rs)._--,D(this,Rs)===0&&((t=D(this,ya))==null||t.call(this),Z(this,ya,void 0),(e=D(this,va))==null||e.call(this),Z(this,va,void 0))}isFetching(t){return D(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,Cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=D(this,lt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ta(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return D(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=D(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,a=Jk(e,i);if(a!==void 0)return D(this,lt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return yt.batch(()=>D(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=D(this,lt);yt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=D(this,lt),r={type:"active",...t};return yt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=yt.batch(()=>D(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(t={},e={}){return yt.batch(()=>{if(D(this,lt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=yt.batch(()=>D(this,lt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Mn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Mn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=D(this,lt).build(this,e);return n.isStaleByTime(ta(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mn).catch(Mn)}fetchInfiniteQuery(t){return t.behavior=h_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mn).catch(Mn)}ensureInfiniteQueryData(t){return t.behavior=h_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fh.isOnline()?D(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,lt)}getMutationCache(){return D(this,Cs)}getDefaultOptions(){return D(this,Ps)}setDefaultOptions(t){Z(this,Ps,t)}setQueryDefaults(t,e){D(this,pa).set(ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,pa).values()];let n={};return e.forEach(r=>{Cc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){D(this,ga).set(ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,ga).values()];let n={};return e.forEach(r=>{Cc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===mv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,lt).clear(),D(this,Cs).clear()}},lt=new WeakMap,Cs=new WeakMap,Ps=new WeakMap,pa=new WeakMap,ga=new WeakMap,Rs=new WeakMap,ya=new WeakMap,va=new WeakMap,D1),un,Oe,Gc,tn,$i,xa,As,gr,Qc,wa,_a,Bi,Hi,ks,ba,Ue,Fl,ug,dg,hg,fg,mg,pg,gg,wS,M1,fO=(M1=class extends Xa{constructor(e,n){super();he(this,Ue);he(this,un);he(this,Oe);he(this,Gc);he(this,tn);he(this,$i);he(this,xa);he(this,As);he(this,gr);he(this,Qc);he(this,wa);he(this,_a);he(this,Bi);he(this,Hi);he(this,ks);he(this,ba,new Set);this.options=n,Z(this,un,e),Z(this,gr,null),Z(this,As,cg()),this.options.experimental_prefetchInRender||D(this,As).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Oe).addObserver(this),m_(D(this,Oe),this.options)?je(this,Ue,Fl).call(this):this.updateResult(),je(this,Ue,fg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yg(D(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yg(D(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Ue,mg).call(this),je(this,Ue,pg).call(this),D(this,Oe).removeObserver(this)}setOptions(e,n){const r=this.options,s=D(this,Oe);if(this.options=D(this,un).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zn(this.options.enabled,D(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Ue,gg).call(this),D(this,Oe).setOptions(this.options),r._defaulted&&!hh(this.options,r)&&D(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Oe),observer:this});const i=this.hasListeners();i&&p_(D(this,Oe),s,this.options,r)&&je(this,Ue,Fl).call(this),this.updateResult(n),i&&(D(this,Oe)!==s||Zn(this.options.enabled,D(this,Oe))!==Zn(r.enabled,D(this,Oe))||ta(this.options.staleTime,D(this,Oe))!==ta(r.staleTime,D(this,Oe)))&&je(this,Ue,ug).call(this);const a=je(this,Ue,dg).call(this);i&&(D(this,Oe)!==s||Zn(this.options.enabled,D(this,Oe))!==Zn(r.enabled,D(this,Oe))||a!==D(this,ks))&&je(this,Ue,hg).call(this,a)}getOptimisticResult(e){const n=D(this,un).getQueryCache().build(D(this,un),e),r=this.createResult(n,e);return pO(this,r)&&(Z(this,tn,r),Z(this,xa,this.options),Z(this,$i,D(this,Oe).state)),r}getCurrentResult(){return D(this,tn)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){D(this,ba).add(e)}getCurrentQuery(){return D(this,Oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=D(this,un).defaultQueryOptions(e),r=D(this,un).getQueryCache().build(D(this,un),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return je(this,Ue,Fl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,tn)))}createResult(e,n){var N;const r=D(this,Oe),s=this.options,i=D(this,tn),a=D(this,$i),l=D(this,xa),d=e!==r?e.state:D(this,Gc),{state:h}=e;let f={...h},m=!1,x;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&m_(e,n),k=E&&p_(e,r,n,s);(I||k)&&(f={...f,...vS(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:T,errorUpdatedAt:v,status:_}=f;if(n.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&n.select===D(this,Qc))x=D(this,wa);else try{Z(this,Qc,n.select),x=n.select(f.data),x=lg(i==null?void 0:i.data,x,n),Z(this,wa,x),Z(this,gr,null)}catch(E){Z(this,gr,E)}else x=f.data;if(n.placeholderData!==void 0&&x===void 0&&_==="pending"){let E;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData((N=D(this,_a))==null?void 0:N.state.data,D(this,_a)):n.placeholderData,n.select&&E!==void 0)try{E=n.select(E),Z(this,gr,null)}catch(I){Z(this,gr,I)}E!==void 0&&(_="success",x=lg(i==null?void 0:i.data,E,n),m=!0)}D(this,gr)&&(T=D(this,gr),x=D(this,wa),v=Date.now(),_="error");const b=f.fetchStatus==="fetching",y=_==="pending",S=_==="error",A=y&&b,O=x!==void 0,j={status:_,fetchStatus:f.fetchStatus,isPending:y,isSuccess:_==="success",isError:S,isInitialLoading:A,isLoading:A,data:x,dataUpdatedAt:f.dataUpdatedAt,error:T,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:S&&!O,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&O,isStale:gv(e,n),refetch:this.refetch,promise:D(this,As)};if(this.options.experimental_prefetchInRender){const E=C=>{j.status==="error"?C.reject(j.error):j.data!==void 0&&C.resolve(j.data)},I=()=>{const C=Z(this,As,j.promise=cg());E(C)},k=D(this,As);switch(k.status){case"pending":e.queryHash===r.queryHash&&E(k);break;case"fulfilled":(j.status==="error"||j.data!==k.value)&&I();break;case"rejected":(j.status!=="error"||j.error!==k.reason)&&I();break}}return j}updateResult(e){const n=D(this,tn),r=this.createResult(D(this,Oe),this.options);if(Z(this,$i,D(this,Oe).state),Z(this,xa,this.options),D(this,$i).data!==void 0&&Z(this,_a,D(this,Oe)),hh(r,n))return;Z(this,tn,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!D(this,ba).size)return!0;const c=new Set(l??D(this,ba));return this.options.throwOnError&&c.add("error"),Object.keys(D(this,tn)).some(d=>{const h=d;return D(this,tn)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),je(this,Ue,wS).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Ue,fg).call(this)}},un=new WeakMap,Oe=new WeakMap,Gc=new WeakMap,tn=new WeakMap,$i=new WeakMap,xa=new WeakMap,As=new WeakMap,gr=new WeakMap,Qc=new WeakMap,wa=new WeakMap,_a=new WeakMap,Bi=new WeakMap,Hi=new WeakMap,ks=new WeakMap,ba=new WeakMap,Ue=new WeakSet,Fl=function(e){je(this,Ue,gg).call(this);let n=D(this,Oe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Mn)),n},ug=function(){je(this,Ue,mg).call(this);const e=ta(this.options.staleTime,D(this,Oe));if(no||D(this,tn).isStale||!og(e))return;const r=dS(D(this,tn).dataUpdatedAt,e)+1;Z(this,Bi,setTimeout(()=>{D(this,tn).isStale||this.updateResult()},r))},dg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Oe)):this.options.refetchInterval)??!1},hg=function(e){je(this,Ue,pg).call(this),Z(this,ks,e),!(no||Zn(this.options.enabled,D(this,Oe))===!1||!og(D(this,ks))||D(this,ks)===0)&&Z(this,Hi,setInterval(()=>{(this.options.refetchIntervalInBackground||pv.isFocused())&&je(this,Ue,Fl).call(this)},D(this,ks)))},fg=function(){je(this,Ue,ug).call(this),je(this,Ue,hg).call(this,je(this,Ue,dg).call(this))},mg=function(){D(this,Bi)&&(clearTimeout(D(this,Bi)),Z(this,Bi,void 0))},pg=function(){D(this,Hi)&&(clearInterval(D(this,Hi)),Z(this,Hi,void 0))},gg=function(){const e=D(this,un).getQueryCache().build(D(this,un),this.options);if(e===D(this,Oe))return;const n=D(this,Oe);Z(this,Oe,e),Z(this,Gc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},wS=function(e){yt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(D(this,tn))}),D(this,un).getQueryCache().notify({query:D(this,Oe),type:"observerResultsUpdated"})})},M1);function mO(t,e){return Zn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function m_(t,e){return mO(t,e)||t.state.data!==void 0&&yg(t,e,e.refetchOnMount)}function yg(t,e,n){if(Zn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gv(t,e)}return!1}function p_(t,e,n,r){return(t!==e||Zn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gv(t,n)}function gv(t,e){return Zn(e.enabled,t)!==!1&&t.isStaleByTime(ta(e.staleTime,t))}function pO(t,e){return!hh(t.getCurrentResult(),e)}var Os,Ds,dn,$r,Yr,Id,vg,L1,gO=(L1=class extends Xa{constructor(n,r){super();he(this,Yr);he(this,Os);he(this,Ds);he(this,dn);he(this,$r);Z(this,Os,n),this.setOptions(r),this.bindMethods(),je(this,Yr,Id).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=D(this,Os).defaultMutationOptions(n),hh(this.options,r)||D(this,Os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,dn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ro(r.mutationKey)!==ro(this.options.mutationKey)?this.reset():((s=D(this,dn))==null?void 0:s.state.status)==="pending"&&D(this,dn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,dn))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,Yr,Id).call(this),je(this,Yr,vg).call(this,n)}getCurrentResult(){return D(this,Ds)}reset(){var n;(n=D(this,dn))==null||n.removeObserver(this),Z(this,dn,void 0),je(this,Yr,Id).call(this),je(this,Yr,vg).call(this)}mutate(n,r){var s;return Z(this,$r,r),(s=D(this,dn))==null||s.removeObserver(this),Z(this,dn,D(this,Os).getMutationCache().build(D(this,Os),this.options)),D(this,dn).addObserver(this),D(this,dn).execute(n)}},Os=new WeakMap,Ds=new WeakMap,dn=new WeakMap,$r=new WeakMap,Yr=new WeakSet,Id=function(){var r;const n=((r=D(this,dn))==null?void 0:r.state)??xS();Z(this,Ds,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},vg=function(n){yt.batch(()=>{var r,s,i,a,l,c,d,h;if(D(this,$r)&&this.hasListeners()){const f=D(this,Ds).variables,m=D(this,Ds).context;(n==null?void 0:n.type)==="success"?((s=(r=D(this,$r)).onSuccess)==null||s.call(r,n.data,f,m),(a=(i=D(this,$r)).onSettled)==null||a.call(i,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=D(this,$r)).onError)==null||c.call(l,n.error,f,m),(h=(d=D(this,$r)).onSettled)==null||h.call(d,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(D(this,Ds))})})},L1),_S=g.createContext(void 0),nu=t=>{const e=g.useContext(_S);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},yO=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(_S.Provider,{value:t,children:e})),bS=g.createContext(!1),vO=()=>g.useContext(bS);bS.Provider;function xO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wO=g.createContext(xO()),_O=()=>g.useContext(wO);function ES(t,e){return typeof t=="function"?t(...e):!!t}function xg(){}var bO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},EO=t=>{g.useEffect(()=>{t.clearReset()},[t])},NO=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ES(n,[t.error,r]),SO=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},TO=(t,e)=>t.isLoading&&t.isFetching&&!e,jO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,g_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function IO(t,e,n){var h,f,m,x,T;const r=nu(),s=vO(),i=_O(),a=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=s?"isRestoring":"optimistic",SO(a),bO(a,i),EO(i);const l=!r.getQueryCache().get(a.queryHash),[c]=g.useState(()=>new e(r,a)),d=c.getOptimisticResult(a);if(g.useSyncExternalStore(g.useCallback(v=>{const _=s?xg:c.subscribe(yt.batchCalls(v));return c.updateResult(),_},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),jO(a,d))throw g_(a,c,i);if(NO({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw d.error;if((x=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,a,d),a.experimental_prefetchInRender&&!no&&TO(d,s)){const v=l?g_(a,c,i):(T=r.getQueryCache().get(a.queryHash))==null?void 0:T.promise;v==null||v.catch(xg).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function mh(t,e){return IO(t,fO)}function wg(t,e){const n=nu(),[r]=g.useState(()=>new gO(n,t));g.useEffect(()=>{r.setOptions(t)},[r,t]);const s=g.useSyncExternalStore(g.useCallback(a=>r.subscribe(yt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((a,l)=>{r.mutate(a,l).catch(xg)},[r]);if(s.error&&ES(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function NS(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function jt(t,e,n){const r=await fetch(e,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await NS(r),r}const CO=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await NS(n),await n.json())},PO=new hO({defaultOptions:{queries:{queryFn:CO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function y_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SS(...t){return e=>{let n=!1;const r=t.map(s=>{const i=y_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():y_(t[s],null)}}}}function Ve(...t){return g.useCallback(SS(...t),t)}function RO(t,e){const n=g.createContext(e),r=i=>{const{children:a,...l}=i,c=g.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=g.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ar(t,e=[]){let n=[];function r(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const d=f=>{var b;const{scope:m,children:x,...T}=f,v=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,_=g.useMemo(()=>T,Object.values(T));return o.jsx(v.Provider,{value:_,children:x})};d.displayName=i+"Provider";function h(f,m){var v;const x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,T=g.useContext(x);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,AO(s,...e)]}function AO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ra(t){const e=OO(t),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(MO);if(c){const d=c.props.children,h=l.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return o.jsx(e,{...a,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var kO=Ra("Slot");function OO(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=VO(s),l=LO(i,s.props);return s.type!==g.Fragment&&(l.ref=r?SS(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TS=Symbol("radix.slottable");function DO(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=TS,e}function MO(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TS}function LO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_e=FO.reduce((t,e)=>{const n=Ra(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function zO(t,e){t&&Ya.flushSync(()=>t.dispatchEvent(e))}function Ct(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UO(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $O="DismissableLayer",_g="dismissableLayer.update",BO="dismissableLayer.pointerDownOutside",HO="dismissableLayer.focusOutside",v_,jS=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lf=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,d=g.useContext(jS),[h,f]=g.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=g.useState({}),T=Ve(e,j=>f(j)),v=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(_),y=h?v.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,A=y>=b,O=KO(j=>{const N=j.target,E=[...d.branches].some(I=>I.contains(N));!A||E||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},m),M=GO(j=>{const N=j.target;[...d.branches].some(I=>I.contains(N))||(i==null||i(j),a==null||a(j),j.defaultPrevented||l==null||l())},m);return UO(j=>{y===d.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(v_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),x_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=v_)}},[h,m,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),x_())},[h,d]),g.useEffect(()=>{const j=()=>x({});return document.addEventListener(_g,j),()=>document.removeEventListener(_g,j)},[]),o.jsx(_e.div,{...c,ref:T,style:{pointerEvents:S?A?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,O.onPointerDownCapture)})});lf.displayName=$O;var qO="DismissableLayerBranch",WO=g.forwardRef((t,e)=>{const n=g.useContext(jS),r=g.useRef(null),s=Ve(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(_e.div,{...t,ref:s})});WO.displayName=qO;function KO(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){IS(BO,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GO(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&IS(HO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x_(){const t=new CustomEvent(_g);document.dispatchEvent(t)}function IS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?zO(s,i):s.dispatchEvent(i)}var Gt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},QO=Q1[" useId ".trim().toString()]||(()=>{}),YO=0;function Ks(t){const[e,n]=g.useState(QO());return Gt(()=>{n(r=>r??String(YO++))},[t]),e?`radix-${e}`:""}const XO=["top","right","bottom","left"],ri=Math.min,Nn=Math.max,ph=Math.round,rd=Math.floor,br=t=>({x:t,y:t}),JO={left:"right",right:"left",bottom:"top",top:"bottom"},ZO={start:"end",end:"start"};function bg(t,e,n){return Nn(t,ri(e,n))}function ts(t,e){return typeof t=="function"?t(e):t}function ns(t){return t.split("-")[0]}function Ja(t){return t.split("-")[1]}function yv(t){return t==="x"?"y":"x"}function vv(t){return t==="y"?"height":"width"}function si(t){return["top","bottom"].includes(ns(t))?"y":"x"}function xv(t){return yv(si(t))}function e4(t,e,n){n===void 0&&(n=!1);const r=Ja(t),s=xv(t),i=vv(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=gh(a)),[a,gh(a)]}function t4(t){const e=gh(t);return[Eg(t),e,Eg(e)]}function Eg(t){return t.replace(/start|end/g,e=>ZO[e])}function n4(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function r4(t,e,n,r){const s=Ja(t);let i=n4(ns(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Eg)))),i}function gh(t){return t.replace(/left|right|bottom|top/g,e=>JO[e])}function s4(t){return{top:0,right:0,bottom:0,left:0,...t}}function CS(t){return typeof t!="number"?s4(t):{top:t,right:t,bottom:t,left:t}}function yh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w_(t,e,n){let{reference:r,floating:s}=t;const i=si(e),a=xv(e),l=vv(a),c=ns(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Ja(e)){case"start":x[a]-=m*(n&&d?-1:1);break;case"end":x[a]+=m*(n&&d?-1:1);break}return x}const i4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=w_(d,r,c),m=r,x={},T=0;for(let v=0;v<l.length;v++){const{name:_,fn:b}=l[v],{x:y,y:S,data:A,reset:O}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:x,rects:d,platform:a,elements:{reference:t,floating:e}});h=y??h,f=S??f,x={...x,[_]:{...x[_],...A}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=w_(d,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:x}};async function Pc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:x=0}=ts(e,t),T=CS(x),_=l[m?f==="floating"?"reference":"floating":f],b=yh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},O=yh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:S,strategy:c}):y);return{top:(b.top-O.top+T.top)/A.y,bottom:(O.bottom-b.bottom+T.bottom)/A.y,left:(b.left-O.left+T.left)/A.x,right:(O.right-b.right+T.right)/A.x}}const o4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=ts(t,e)||{};if(d==null)return{};const f=CS(h),m={x:n,y:r},x=xv(s),T=vv(x),v=await a.getDimensions(d),_=x==="y",b=_?"top":"left",y=_?"bottom":"right",S=_?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[x]-m[x]-i.floating[T],O=m[x]-i.reference[x],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let j=M?M[S]:0;(!j||!await(a.isElement==null?void 0:a.isElement(M)))&&(j=l.floating[S]||i.floating[T]);const N=A/2-O/2,E=j/2-v[T]/2-1,I=ri(f[b],E),k=ri(f[y],E),C=I,R=j-v[T]-k,V=j/2-v[T]/2+N,Y=bg(C,V,R),G=!c.arrow&&Ja(s)!=null&&V!==Y&&i.reference[T]/2-(V<C?I:k)-v[T]/2<0,J=G?V<C?V-C:V-R:0;return{[x]:m[x]+J,data:{[x]:Y,centerOffset:V-Y-J,...G&&{alignmentOffset:J}},reset:G}}}),a4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,..._}=ts(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=ns(s),y=si(l),S=ns(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=m||(S||!v?[gh(l)]:t4(l)),M=T!=="none";!m&&M&&O.push(...r4(l,v,T,A));const j=[l,...O],N=await Pc(e,_),E=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&E.push(N[b]),f){const V=e4(s,a,A);E.push(N[V[0]],N[V[1]])}if(I=[...I,{placement:s,overflows:E}],!E.every(V=>V<=0)){var k,C;const V=(((k=i.flip)==null?void 0:k.index)||0)+1,Y=j[V];if(Y)return{data:{index:V,overflows:I},reset:{placement:Y}};let G=(C=I.filter(J=>J.overflows[0]<=0).sort((J,F)=>J.overflows[1]-F.overflows[1])[0])==null?void 0:C.placement;if(!G)switch(x){case"bestFit":{var R;const J=(R=I.filter(F=>{if(M){const K=si(F.placement);return K===y||K==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(K=>K>0).reduce((K,ne)=>K+ne,0)]).sort((F,K)=>F[1]-K[1])[0])==null?void 0:R[0];J&&(G=J);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function __(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b_(t){return XO.some(e=>t[e]>=0)}const l4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ts(t,e);switch(r){case"referenceHidden":{const i=await Pc(e,{...s,elementContext:"reference"}),a=__(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:b_(a)}}}case"escaped":{const i=await Pc(e,{...s,altBoundary:!0}),a=__(i,n.floating);return{data:{escapedOffsets:a,escaped:b_(a)}}}default:return{}}}}};async function c4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ns(n),l=Ja(n),c=si(n)==="y",d=["left","top"].includes(a)?-1:1,h=i&&c?-1:1,f=ts(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof T=="number"&&(x=l==="end"?T*-1:T),c?{x:x*h,y:m*d}:{x:m*d,y:x*h}}const u4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await c4(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},d4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:b,y}=_;return{x:b,y}}},...c}=ts(t,e),d={x:n,y:r},h=await Pc(e,c),f=si(ns(s)),m=yv(f);let x=d[m],T=d[f];if(i){const _=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=x+h[_],S=x-h[b];x=bg(y,x,S)}if(a){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=T+h[_],S=T-h[b];T=bg(y,T,S)}const v=l.fn({...e,[m]:x,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:a}}}}}},h4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ts(t,e),h={x:n,y:r},f=si(s),m=yv(f);let x=h[m],T=h[f];const v=ts(l,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=m==="y"?"height":"width",A=i.reference[m]-i.floating[S]+_.mainAxis,O=i.reference[m]+i.reference[S]-_.mainAxis;x<A?x=A:x>O&&(x=O)}if(d){var b,y;const S=m==="y"?"width":"height",A=["top","left"].includes(ns(s)),O=i.reference[f]-i.floating[S]+(A&&((b=a.offset)==null?void 0:b[f])||0)+(A?0:_.crossAxis),M=i.reference[f]+i.reference[S]+(A?0:((y=a.offset)==null?void 0:y[f])||0)-(A?_.crossAxis:0);T<O?T=O:T>M&&(T=M)}return{[m]:x,[f]:T}}}},f4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...d}=ts(t,e),h=await Pc(e,d),f=ns(s),m=Ja(s),x=si(s)==="y",{width:T,height:v}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,_=m==="end"?"top":"bottom");const y=v-h.top-h.bottom,S=T-h.left-h.right,A=ri(v-h[_],y),O=ri(T-h[b],S),M=!e.middlewareData.shift;let j=A,N=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=y),M&&!m){const I=Nn(h.left,0),k=Nn(h.right,0),C=Nn(h.top,0),R=Nn(h.bottom,0);x?N=T-2*(I!==0||k!==0?I+k:Nn(h.left,h.right)):j=v-2*(C!==0||R!==0?C+R:Nn(h.top,h.bottom))}await c({...e,availableWidth:N,availableHeight:j});const E=await a.getDimensions(l.floating);return T!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function Za(t){return PS(t)?(t.nodeName||"").toLowerCase():"#document"}function Cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(PS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PS(t){return cf()?t instanceof Node||t instanceof Cn(t).Node:!1}function sr(t){return cf()?t instanceof Element||t instanceof Cn(t).Element:!1}function Cr(t){return cf()?t instanceof HTMLElement||t instanceof Cn(t).HTMLElement:!1}function E_(t){return!cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cn(t).ShadowRoot}function ru(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function m4(t){return["table","td","th"].includes(Za(t))}function uf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wv(t){const e=_v(),n=sr(t)?ir(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function p4(t){let e=ii(t);for(;Cr(e)&&!Aa(e);){if(wv(e))return e;if(uf(e))return null;e=ii(e)}return null}function _v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(t){return["html","body","#document"].includes(Za(t))}function ir(t){return Cn(t).getComputedStyle(t)}function df(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ii(t){if(Za(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E_(t)&&t.host||Rr(t);return E_(e)?e.host:e}function RS(t){const e=ii(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cr(e)&&ru(e)?e:RS(e)}function Rc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Cn(s);if(i){const l=Ng(a);return e.concat(a,a.visualViewport||[],ru(s)?s:[],l&&n?Rc(l):[])}return e.concat(s,Rc(s,[],n))}function Ng(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AS(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Cr(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=ph(n)!==i||ph(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function bv(t){return sr(t)?t:t.contextElement}function na(t){const e=bv(t);if(!Cr(e))return br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=AS(e);let a=(i?ph(n.width):n.width)/r,l=(i?ph(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const g4=br(0);function kS(t){const e=Cn(t);return!_v()||!e.visualViewport?g4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cn(t)?!1:e}function so(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=bv(t);let a=br(1);e&&(r?sr(r)&&(a=na(r)):a=na(t));const l=y4(i,n,r)?kS(i):br(0);let c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Cn(i),x=r&&sr(r)?Cn(r):r;let T=m,v=Ng(T);for(;v&&r&&x!==T;){const _=na(v),b=v.getBoundingClientRect(),y=ir(v),S=b.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,A=b.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;c*=_.x,d*=_.y,h*=_.x,f*=_.y,c+=S,d+=A,T=Cn(v),v=Ng(T)}}return yh({width:h,height:f,x:c,y:d})}function Ev(t,e){const n=df(t).scrollLeft;return e?e.left+n:so(Rr(t)).left+n}function OS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ev(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function v4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Rr(r),l=e?uf(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=br(1);const h=br(0),f=Cr(r);if((f||!f&&!i)&&((Za(r)!=="body"||ru(a))&&(c=df(r)),Cr(r))){const x=so(r);d=na(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const m=a&&!f&&!i?OS(a,c,!0):br(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function x4(t){return Array.from(t.getClientRects())}function w4(t){const e=Rr(t),n=df(t),r=t.ownerDocument.body,s=Nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ev(t);const l=-n.scrollTop;return ir(r).direction==="rtl"&&(a+=Nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function _4(t,e){const n=Cn(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const d=_v();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function b4(t,e){const n=so(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Cr(t)?na(t):br(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:a,height:l,x:c,y:d}}function N_(t,e,n){let r;if(e==="viewport")r=_4(t,n);else if(e==="document")r=w4(Rr(t));else if(sr(e))r=b4(e,n);else{const s=kS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return yh(r)}function DS(t,e){const n=ii(t);return n===e||!sr(n)||Aa(n)?!1:ir(n).position==="fixed"||DS(n,e)}function E4(t,e){const n=e.get(t);if(n)return n;let r=Rc(t,[],!1).filter(l=>sr(l)&&Za(l)!=="body"),s=null;const i=ir(t).position==="fixed";let a=i?ii(t):t;for(;sr(a)&&!Aa(a);){const l=ir(a),c=wv(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ru(a)&&!c&&DS(t,a))?r=r.filter(h=>h!==a):s=l,a=ii(a)}return e.set(t,r),r}function N4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?uf(e)?[]:E4(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((d,h)=>{const f=N_(e,h,s);return d.top=Nn(f.top,d.top),d.right=ri(f.right,d.right),d.bottom=ri(f.bottom,d.bottom),d.left=Nn(f.left,d.left),d},N_(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function S4(t){const{width:e,height:n}=AS(t);return{width:e,height:n}}function T4(t,e,n){const r=Cr(e),s=Rr(e),i=n==="fixed",a=so(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=br(0);if(r||!r&&!i)if((Za(e)!=="body"||ru(s))&&(l=df(e)),r){const m=so(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=Ev(s));const d=s&&!r&&!i?OS(s,l):br(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function $m(t){return ir(t).position==="static"}function S_(t,e){if(!Cr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function MS(t,e){const n=Cn(t);if(uf(t))return n;if(!Cr(t)){let s=ii(t);for(;s&&!Aa(s);){if(sr(s)&&!$m(s))return s;s=ii(s)}return n}let r=S_(t,e);for(;r&&m4(r)&&$m(r);)r=S_(r,e);return r&&Aa(r)&&$m(r)&&!wv(r)?n:r||p4(t)||n}const j4=async function(t){const e=this.getOffsetParent||MS,n=this.getDimensions,r=await n(t.floating);return{reference:T4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I4(t){return ir(t).direction==="rtl"}const C4={convertOffsetParentRelativeRectToViewportRelativeRect:v4,getDocumentElement:Rr,getClippingRect:N4,getOffsetParent:MS,getElementRects:j4,getClientRects:x4,getDimensions:S4,getScale:na,isElement:sr,isRTL:I4};function LS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P4(t,e){let n=null,r;const s=Rr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:x}=d;if(l||e(),!m||!x)return;const T=rd(f),v=rd(s.clientWidth-(h+m)),_=rd(s.clientHeight-(f+x)),b=rd(h),S={rootMargin:-T+"px "+-v+"px "+-_+"px "+-b+"px",threshold:Nn(0,ri(1,c))||1};let A=!0;function O(M){const j=M[0].intersectionRatio;if(j!==c){if(!A)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!LS(d,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(O,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,S)}n.observe(t)}return a(!0),i}function R4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=bv(t),h=s||i?[...d?Rc(d):[],...Rc(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=d&&l?P4(d,n):null;let m=-1,x=null;a&&(x=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let T,v=c?so(t):null;c&&_();function _(){const b=so(t);v&&!LS(v,b)&&n(),v=b,T=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(b=x)==null||b.disconnect(),x=null,c&&cancelAnimationFrame(T)}}const A4=u4,k4=d4,O4=a4,D4=f4,M4=l4,T_=o4,L4=h4,V4=(t,e,n)=>{const r=new Map,s={platform:C4,...n},i={...s.platform,_c:r};return i4(t,e,{...s,platform:i})};var Cd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function vh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!vh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j_(t,e){const n=VS(t);return Math.round(e*n)/n}function Bm(t){const e=g.useRef(t);return Cd(()=>{e.current=t}),e}function F4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=g.useState(r);vh(m,r)||x(r);const[T,v]=g.useState(null),[_,b]=g.useState(null),y=g.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),S=g.useCallback(F=>{F!==j.current&&(j.current=F,b(F))},[]),A=i||T,O=a||_,M=g.useRef(null),j=g.useRef(null),N=g.useRef(h),E=c!=null,I=Bm(c),k=Bm(s),C=Bm(d),R=g.useCallback(()=>{if(!M.current||!j.current)return;const F={placement:e,strategy:n,middleware:m};k.current&&(F.platform=k.current),V4(M.current,j.current,F).then(K=>{const ne={...K,isPositioned:C.current!==!1};V.current&&!vh(N.current,ne)&&(N.current=ne,Ya.flushSync(()=>{f(ne)}))})},[m,e,n,k,C]);Cd(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const V=g.useRef(!1);Cd(()=>(V.current=!0,()=>{V.current=!1}),[]),Cd(()=>{if(A&&(M.current=A),O&&(j.current=O),A&&O){if(I.current)return I.current(A,O,R);R()}},[A,O,R,I,E]);const Y=g.useMemo(()=>({reference:M,floating:j,setReference:y,setFloating:S}),[y,S]),G=g.useMemo(()=>({reference:A,floating:O}),[A,O]),J=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!G.floating)return F;const K=j_(G.floating,h.x),ne=j_(G.floating,h.y);return l?{...F,transform:"translate("+K+"px, "+ne+"px)",...VS(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ne}},[n,l,G.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:R,refs:Y,elements:G,floatingStyles:J}),[h,R,Y,G,J])}const z4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?T_({element:r.current,padding:s}).fn(n):{}:r?T_({element:r,padding:s}).fn(n):{}}}},U4=(t,e)=>({...A4(t),options:[t,e]}),$4=(t,e)=>({...k4(t),options:[t,e]}),B4=(t,e)=>({...L4(t),options:[t,e]}),H4=(t,e)=>({...O4(t),options:[t,e]}),q4=(t,e)=>({...D4(t),options:[t,e]}),W4=(t,e)=>({...M4(t),options:[t,e]}),K4=(t,e)=>({...z4(t),options:[t,e]});var G4="Arrow",FS=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});FS.displayName=G4;var Q4=FS;function Nv(t){const[e,n]=g.useState(void 0);return Gt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sv="Popper",[zS,hf]=ar(Sv),[Y4,US]=zS(Sv),$S=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return o.jsx(Y4,{scope:e,anchor:r,onAnchorChange:s,children:n})};$S.displayName=Sv;var BS="PopperAnchor",HS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=US(BS,n),a=g.useRef(null),l=Ve(e,a);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(_e.div,{...s,ref:l})});HS.displayName=BS;var Tv="PopperContent",[X4,J4]=zS(Tv),qS=g.forwardRef((t,e)=>{var ee,Te,He,Pe,Ee,ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:T,...v}=t,_=US(Tv,n),[b,y]=g.useState(null),S=Ve(e,de=>y(de)),[A,O]=g.useState(null),M=Nv(A),j=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,E=r+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(d)?d:[d],C=k.length>0,R={padding:I,boundary:k.filter(eD),altBoundary:C},{refs:V,floatingStyles:Y,placement:G,isPositioned:J,middlewareData:F}=F4({strategy:"fixed",placement:E,whileElementsMounted:(...de)=>R4(...de,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[U4({mainAxis:s+N,alignmentAxis:a}),c&&$4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?B4():void 0,...R}),c&&H4({...R}),q4({...R,apply:({elements:de,rects:Ge,availableWidth:wn,availableHeight:X})=>{const{width:Me,height:Xt}=Ge.reference,kr=de.floating.style;kr.setProperty("--radix-popper-available-width",`${wn}px`),kr.setProperty("--radix-popper-available-height",`${X}px`),kr.setProperty("--radix-popper-anchor-width",`${Me}px`),kr.setProperty("--radix-popper-anchor-height",`${Xt}px`)}}),A&&K4({element:A,padding:l}),tD({arrowWidth:j,arrowHeight:N}),m&&W4({strategy:"referenceHidden",...R})]}),[K,ne]=GS(G),le=Ct(T);Gt(()=>{J&&(le==null||le())},[J,le]);const Ce=(ee=F.arrow)==null?void 0:ee.x,ze=(Te=F.arrow)==null?void 0:Te.y,ot=((He=F.arrow)==null?void 0:He.centerOffset)!==0,[W,H]=g.useState();return Gt(()=>{b&&H(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:J?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Pe=F.transformOrigin)==null?void 0:Pe.x,(Ee=F.transformOrigin)==null?void 0:Ee.y].join(" "),...((ae=F.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(X4,{scope:n,placedSide:K,onArrowChange:O,arrowX:Ce,arrowY:ze,shouldHideArrow:ot,children:o.jsx(_e.div,{"data-side":K,"data-align":ne,...v,ref:S,style:{...v.style,animation:J?void 0:"none"}})})})});qS.displayName=Tv;var WS="PopperArrow",Z4={top:"bottom",right:"left",bottom:"top",left:"right"},KS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=J4(WS,r),a=Z4[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Q4,{...s,ref:n,style:{...s.style,display:"block"}})})});KS.displayName=WS;function eD(t){return t!==null}var tD=t=>({name:"transformOrigin",options:t,fn(e){var _,b,y;const{placement:n,rects:r,middlewareData:s}=e,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[d,h]=GS(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,x=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let T="",v="";return d==="bottom"?(T=a?f:`${m}px`,v=`${-c}px`):d==="top"?(T=a?f:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(T=`${-c}px`,v=a?f:`${x}px`):d==="left"&&(T=`${r.floating.width+c}px`,v=a?f:`${x}px`),{data:{x:T,y:v}}}});function GS(t){const[e,n="center"]=t.split("-");return[e,n]}var nD=$S,QS=HS,YS=qS,XS=KS,rD="Portal",jv=g.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=g.useState(!1);Gt(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?bk.createPortal(o.jsx(_e.div,{...r,ref:e}),a):null});jv.displayName=rD;function sD(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Hn=t=>{const{present:e,children:n}=t,r=iD(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ve(r.ref,oD(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function iD(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=sD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=sd(r.current);i.current=l==="mounted"?d:"none"},[l]),Gt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,x=sd(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Gt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=x=>{const v=sd(r.current).includes(x.animationName);if(x.target===e&&v&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=x=>{x.target===e&&(i.current=sd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function sd(t){return(t==null?void 0:t.animationName)||"none"}function oD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function io({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=aD({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,l=Ct(n),c=g.useCallback(d=>{if(i){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else s(d)},[i,t,s,l]);return[a,c]}function aD({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Ct(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var lD="VisuallyHidden",Iv=g.forwardRef((t,e)=>o.jsx(_e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Iv.displayName=lD;var cD=Iv,[ff,i7]=ar("Tooltip",[hf]),Cv=hf(),JS="TooltipProvider",uD=700,I_="tooltip.open",[dD,ZS]=ff(JS),eT=t=>{const{__scopeTooltip:e,delayDuration:n=uD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),o.jsx(dD,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};eT.displayName=JS;var tT="Tooltip",[o7,mf]=ff(tT),Sg="TooltipTrigger",hD=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mf(Sg,n),i=ZS(Sg,n),a=Cv(n),l=g.useRef(null),c=Ve(e,l,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(QS,{asChild:!0,...a,children:o.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ue(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ue(t.onBlur,s.onClose),onClick:ue(t.onClick,s.onClose)})})});hD.displayName=Sg;var fD="TooltipPortal",[a7,mD]=ff(fD,{forceMount:void 0}),ka="TooltipContent",nT=g.forwardRef((t,e)=>{const n=mD(ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=mf(ka,t.__scopeTooltip);return o.jsx(Hn,{present:r||a.open,children:a.disableHoverableContent?o.jsx(rT,{side:s,...i,ref:e}):o.jsx(pD,{side:s,...i,ref:e})})}),pD=g.forwardRef((t,e)=>{const n=mf(ka,t.__scopeTooltip),r=ZS(ka,t.__scopeTooltip),s=g.useRef(null),i=Ve(e,s),[a,l]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=g.useCallback(()=>{l(null),f(!1)},[f]),x=g.useCallback((T,v)=>{const _=T.currentTarget,b={x:T.clientX,y:T.clientY},y=wD(b,_.getBoundingClientRect()),S=_D(b,y),A=bD(v.getBoundingClientRect()),O=ND([...S,...A]);l(O),f(!0)},[f]);return g.useEffect(()=>()=>m(),[m]),g.useEffect(()=>{if(c&&h){const T=_=>x(_,h),v=_=>x(_,c);return c.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[c,h,x,m]),g.useEffect(()=>{if(a){const T=v=>{const _=v.target,b={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(_))||(h==null?void 0:h.contains(_)),S=!ED(b,a);y?m():S&&(m(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,h,a,d,m]),o.jsx(rT,{...t,ref:i})}),[gD,yD]=ff(tT,{isInside:!1}),vD=DO("TooltipContent"),rT=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=mf(ka,n),d=Cv(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(I_,h),()=>document.removeEventListener(I_,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(YS,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(vD,{children:r}),o.jsx(gD,{scope:n,isInside:!0,children:o.jsx(cD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});nT.displayName=ka;var sT="TooltipArrow",xD=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Cv(n);return yD(sT,n).isInside?null:o.jsx(XS,{...s,...r,ref:e})});xD.displayName=sT;function wD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _D(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function bD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function ED(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,c=e[i].y,d=e[a].x,h=e[a].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(s=!s)}return s}function ND(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),SD(e)}function SD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var TD=eT,iT=nT;function oT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=oT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function aT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=oT(t))&&(r&&(r+=" "),r+=e);return r}const Pv="-",jD=t=>{const e=CD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(Pv);return l[0]===""&&l.length!==1&&l.shift(),lT(l,e)||ID(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},lT=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Pv);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},C_=/^\[(.+)\]$/,ID=t=>{if(C_.test(t)){const e=C_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return RD(Object.entries(t.classGroups),n).forEach(([i,a])=>{Tg(a,r,i,e)}),r},Tg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:P_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(PD(s)){Tg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Tg(a,P_(e,i),n,r)})})},P_=(t,e)=>{let n=t;return e.split(Pv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},PD=t=>t.isThemeGetter,RD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,AD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},cT="!",kD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let d=0,h=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(d===0){if(b===s&&(r||l.slice(_,_+i)===e)){c.push(l.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(h),x=m.startsWith(cT),T=x?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},OD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DD=t=>({cache:AD(t.cacheSize),parseClassName:kD(t),...jD(t)}),MD=/\s+/,LD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(MD);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:x}=n(d);let T=!!x,v=r(T?m.substring(0,x):m);if(!v){if(!T){l=d+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=d+(l.length>0?" "+l:l);continue}T=!1}const _=OD(h).join(":"),b=f?_+cT:_,y=b+v;if(i.includes(y))continue;i.push(y);const S=s(v,T);for(let A=0;A<S.length;++A){const O=S[A];i.push(b+O)}l=d+(l.length>0?" "+l:l)}return l};function VD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uT(e))&&(r&&(r+=" "),r+=n);return r}const uT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uT(t[r]))&&(n&&(n+=" "),n+=e);return n};function FD(t,...e){let n,r,s,i=a;function a(c){const d=e.reduce((h,f)=>f(h),t());return n=DD(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=LD(c,n);return s(c,h),h}return function(){return i(VD.apply(null,arguments))}}const Ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dT=/^\[(?:([a-z-]+):)?(.+)\]$/i,zD=/^\d+\/\d+$/,UD=new Set(["px","full","screen"]),$D=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=t=>ra(t)||UD.has(t)||zD.test(t),ms=t=>el(t,"length",eM),ra=t=>!!t&&!Number.isNaN(Number(t)),Hm=t=>el(t,"number",ra),Rl=t=>!!t&&Number.isInteger(Number(t)),KD=t=>t.endsWith("%")&&ra(t.slice(0,-1)),Ne=t=>dT.test(t),ps=t=>$D.test(t),GD=new Set(["length","size","percentage"]),QD=t=>el(t,GD,hT),YD=t=>el(t,"position",hT),XD=new Set(["image","url"]),JD=t=>el(t,XD,nM),ZD=t=>el(t,"",tM),Al=()=>!0,el=(t,e,n)=>{const r=dT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},eM=t=>BD.test(t)&&!HD.test(t),hT=()=>!1,tM=t=>qD.test(t),nM=t=>WD.test(t),rM=()=>{const t=Ye("colors"),e=Ye("spacing"),n=Ye("blur"),r=Ye("brightness"),s=Ye("borderColor"),i=Ye("borderRadius"),a=Ye("borderSpacing"),l=Ye("borderWidth"),c=Ye("contrast"),d=Ye("grayscale"),h=Ye("hueRotate"),f=Ye("invert"),m=Ye("gap"),x=Ye("gradientColorStops"),T=Ye("gradientColorStopPositions"),v=Ye("inset"),_=Ye("margin"),b=Ye("opacity"),y=Ye("padding"),S=Ye("saturate"),A=Ye("scale"),O=Ye("sepia"),M=Ye("skew"),j=Ye("space"),N=Ye("translate"),E=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ne,e],C=()=>[Ne,e],R=()=>["",Mr,ms],V=()=>["auto",ra,Ne],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Ne],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[ra,Ne];return{cacheSize:500,separator:":",theme:{colors:[Al],spacing:[Mr,ms],blur:["none","",ps,Ne],brightness:le(),borderColor:[t],borderRadius:["none","","full",ps,Ne],borderSpacing:C(),borderWidth:R(),contrast:le(),grayscale:K(),hueRotate:le(),invert:K(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[KD,ms],inset:k(),margin:k(),opacity:le(),padding:C(),saturate:le(),scale:le(),sepia:K(),skew:le(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ne]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Ne]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Rl,Ne]}],"grid-cols":[{"grid-cols":[Al]}],"col-start-end":[{col:["auto",{span:["full",Rl,Ne]},Ne]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Al]}],"row-start-end":[{row:["auto",{span:[Rl,Ne]},Ne]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hm]}],"font-family":[{font:[Al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ra,Hm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,ms]}],"underline-offset":[{"underline-offset":["auto",Mr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),YD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Mr,Ne]}],"outline-w":[{outline:[Mr,ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Mr,ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ps,ZD]}],"shadow-color":[{shadow:[Al]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ps,Ne]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Rl,Ne]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mr,ms,Hm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sM=FD(rM);function ve(...t){return sM(aT(t))}function iM(){const t=Date.now().toString(36),e=Math.random().toString(36).substring(2,5);return`PZ-${t}-${e}`.toUpperCase()}const oM=TD,aM=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(iT,{ref:r,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));aM.displayName=iT.displayName;const Lr=[];let lM=0;function Yt(){const[t,e]=g.useState(Lr);return{toast:g.useCallback(r=>{const s=(++lM).toString(),i={...r,id:s};return Lr.push(i),e([...Lr]),setTimeout(()=>{const a=Lr.findIndex(l=>l.id===s);a!==-1&&(Lr.splice(a,1),e([...Lr]))},5e3),{id:s,dismiss:()=>{const a=Lr.findIndex(l=>l.id===s);a!==-1&&(Lr.splice(a,1),e([...Lr]))}}},[]),toasts:t}}const R_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A_=aT,pf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return A_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=R_(h)||R_(f);return s[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...x}=h;return Object.entries(x).every(T=>{let[v,_]=T;return Array.isArray(_)?_.includes({...i,...l}[v]):{...i,...l}[v]===_})?[...d,f,m]:d},[]);return A_(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},cM=pf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fT=g.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ve(cM({variant:e}),t),...n}));fT.displayName="Alert";const uM=g.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",t),...e}));uM.displayName="AlertTitle";const mT=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",t),...e}));mT.displayName="AlertDescription";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...hM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pT("lucide",s),...l},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(fM,{ref:i,iconNode:e,className:pT(`lucide-${dM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=fe("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=fe("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=fe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=fe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kM=pf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background text-foreground hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?kO:"button";return o.jsx(a,{className:ve(kM({variant:e,size:n,className:t})),ref:i,...s})});U.displayName="Button";function OM(){const{toasts:t}=Yt();return o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>o.jsx(fT,{className:`max-w-sm border-l-4 ${e.variant==="success"?"border-green-500 bg-green-50":e.variant==="destructive"?"border-red-500 bg-red-50":"border-blue-500 bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:e.variant==="success"?o.jsx(rn,{className:"h-5 w-5 text-green-500"}):o.jsx(oo,{className:"h-5 w-5 text-red-500"})}),o.jsxs("div",{className:"ml-3 flex-1",children:[e.title&&o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),e.description&&o.jsx(mT,{className:"text-sm text-gray-700",children:e.description})]}),o.jsx(U,{variant:"ghost",size:"sm",className:"ml-auto -mt-1 -mr-1 h-6 w-6 p-0",onClick:()=>{},children:o.jsx(Ov,{className:"h-4 w-4"})})]})},e.id))})}const ie=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ie.displayName="Card";const me=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",t),...e}));me.displayName="CardHeader";const pe=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));pe.displayName="CardTitle";const Pg=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Pg.displayName="CardDescription";const oe=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("p-6 pt-0",t),...e}));oe.displayName="CardContent";const DM=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",t),...e}));DM.displayName="CardFooter";const qm="huntbrothers_pizza_cart";class MM{constructor(){this.items=[],this.listeners=new Set,this.loadFromStorage()}loadFromStorage(){try{const e=localStorage.getItem(qm);e&&(this.items=JSON.parse(e))}catch(e){console.error("Failed to load cart:",e),this.items=[]}}saveToStorage(){try{localStorage.setItem(qm,JSON.stringify(this.items))}catch(e){console.error("Failed to save cart:",e)}}notifyListeners(){this.listeners.forEach(e=>e())}addItem(e){this.items=[...this.items,e],this.saveToStorage(),this.notifyListeners()}removeItem(e){this.items=this.items.filter(n=>n.id!==e),this.saveToStorage(),this.notifyListeners()}updateQuantity(e,n){if(n<=0){this.removeItem(e);return}this.items=this.items.map(r=>r.id===e?{...r,quantity:n}:r),this.saveToStorage(),this.notifyListeners()}clearCart(){this.items=[],localStorage.removeItem(qm),this.notifyListeners()}getItems(){return[...this.items]}getTotalItems(){return this.items.reduce((e,n)=>e+n.quantity,0)}getSubtotal(){let r=0,s=0;return this.items.forEach(i=>{s+=i.quantity;const a=i.price-11.99;r+=a*i.quantity}),s===1?r+=11.99:s>1&&(r+=11.99+10.99*(s-1)),r}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}}const Vr=new MM;function su(){const[t,e]=g.useState(Vr.getItems());return g.useEffect(()=>Vr.subscribe(()=>{e(Vr.getItems())}),[]),{cartItems:t,addToCart:c=>{Vr.addItem(c)},updateQuantity:(c,d)=>{Vr.updateQuantity(c,d)},removeItem:c=>{Vr.removeItem(c)},clearCart:()=>{Vr.clearCart()},getTotalItems:()=>Vr.getTotalItems(),getSubtotal:()=>Vr.getSubtotal()}}function LM(){const[t,e]=g.useState(null),[,n]=af(),{addToCart:r,getTotalItems:s}=su(),{toast:i}=Yt(),a=c=>{const d={id:iM(),name:c.name,size:c.size,crust:c.crust,toppings:[...c.toppings],price:11.99,quantity:1,imageUrl:c.image};r(d),i({title:"Pizza Added to Cart!",description:`${c.name} with all toppings added for $11.99`,variant:"default"}),n("/cart")},l=[{id:"lotsa-meat",name:"Lotsa Meat",description:"Loaded with pepperoni, sausage, bacon, and beef — for the ultimate meat lover.",price:11.99,image:"/lotsa-meat-pizza.png",toppings:["Pepperoni","Italian Sausage","Bacon","Beef"],size:"Large",crust:"Original"},{id:"veggie-delight",name:"Veggie Delight",description:"Bell peppers, onions, mushrooms, black olives, banana peppers, jalapeños. No meat.",price:11.99,image:"/veggie-delight-pizza.jpeg",toppings:["Bell Peppers","Onions","Mushrooms","Black Olives","Banana Peppers","Jalapeños"],size:"Large",crust:"Original"},{id:"loaded",name:"Loaded",description:"Combo of meats & veggies: pepperoni, sausage, mushrooms, bell peppers, onions.",price:11.99,image:"/loaded-pizza.jpeg",toppings:["Pepperoni","Italian Sausage","Mushrooms","Bell Peppers","Onions"],size:"Large",crust:"Original"}];return o.jsxs("div",{className:"min-h-screen bg-neutral-bg",children:[o.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[o.jsxs("div",{className:"flex items-center min-w-0 flex-shrink-0",children:[o.jsx("div",{className:"text-xl sm:text-2xl mr-2",children:"🍕"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"font-bold text-lg sm:text-xl lg:text-2xl text-red-600 truncate",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Fresh • Bold • American"})]})]}),o.jsxs("nav",{className:"hidden lg:flex items-center space-x-6",children:[o.jsx(We,{href:"/",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Menu"}),o.jsx(We,{href:"/build-pizza",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Build Pizza"}),o.jsx(We,{href:"/track-order",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Track Order"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[s()>0&&o.jsx(We,{href:"/cart",children:o.jsxs(U,{className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold px-2 sm:px-4 py-2 rounded-md shadow-lg transition-all text-sm sm:text-base",children:[o.jsx(Ma,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsxs("span",{className:"hidden xs:inline",children:["Cart (",s(),")"]}),o.jsxs("span",{className:"xs:hidden",children:["(",s(),")"]})]})}),o.jsxs("a",{href:"tel:+1-361-403-0083",className:"bg-red-600 hover:bg-red-700 text-white flex items-center px-2 sm:px-4 py-2 rounded-md font-medium transition-colors no-underline text-sm sm:text-base",role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",children:[o.jsx(Pn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{className:"hidden xs:inline",children:"(361) 403-0083"}),o.jsx("span",{className:"xs:hidden",children:"Call"})]})]})]})})}),o.jsx("section",{className:"bg-gradient-to-r from-red-700 to-yellow-500 text-white py-12 sm:py-16 lg:py-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 leading-tight",children:"Hunt Brothers Pizza - Made Fresh Daily"}),o.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-6 sm:mb-8 opacity-90 max-w-3xl mx-auto px-4",children:"Bold flavors, quality ingredients, and the pizza you crave - made fresh to order"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center max-w-md sm:max-w-none mx-auto",children:[o.jsx(We,{href:"/build-pizza",className:"w-full sm:w-auto",children:o.jsx(U,{size:"lg",className:"bg-yellow-400 text-red-800 hover:bg-yellow-300 px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-bold shadow-lg w-full sm:w-auto",children:"Build Your Pizza"})}),o.jsx(We,{href:"/build-pizza",className:"w-full sm:w-auto",children:o.jsx(U,{size:"lg",variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-red-700 px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-bold bg-transparent shadow-lg w-full sm:w-auto",children:"Order Now"})})]})]})}),o.jsx("section",{className:"py-12 sm:py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-neutral-text mb-3 sm:mb-4",children:"Hunt Brothers Signature Pizzas"}),o.jsx("p",{className:"text-lg sm:text-xl text-neutral-secondary",children:"Bold flavors, loaded with your favorites"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:l.map(c=>o.jsxs(ie,{className:`overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-2 cursor-pointer ${t===c.id?"ring-2 ring-red-500":""}`,onMouseEnter:()=>e(c.id),onMouseLeave:()=>e(null),children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:c.image,alt:c.name,className:"w-full h-40 sm:h-48 object-cover object-center transition-transform duration-300 hover:scale-110"}),o.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-yellow-400 text-red-800 px-2 sm:px-3 py-1 rounded-full font-bold border-2 border-red-700 text-sm sm:text-base",children:["$",c.price]})]}),o.jsxs(oe,{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral-text mb-2",children:c.name}),o.jsx("p",{className:"text-sm sm:text-base text-neutral-secondary mb-4 leading-relaxed",children:c.description}),o.jsx(U,{onClick:()=>a(c),className:"w-full bg-red-700 hover:bg-red-800 text-white font-bold py-2 sm:py-3 shadow-md text-sm sm:text-base",children:"Order This Pizza"})]})]},c.id))})]})}),o.jsx("section",{className:"bg-gray-100 py-12 sm:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-neutral-text mb-3 sm:mb-4",children:"Need Help with Your Order?"}),o.jsx("p",{className:"text-lg sm:text-xl text-neutral-secondary mb-6 sm:mb-8 px-4",children:"Our friendly staff is ready to help you create the perfect pizza"}),o.jsxs("a",{href:"tel:+1-361-403-0083",className:"inline-flex items-center bg-red-700 hover:bg-red-800 text-white px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-bold shadow-lg rounded-md transition-colors no-underline",role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",children:[o.jsx(Pn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Call (361) 403-0083"]})]})}),o.jsxs("footer",{className:"bg-gradient-to-br from-red-900 via-red-800 to-red-900 text-white py-16 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-yellow-400 rounded-full -translate-x-16 -translate-y-16"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-yellow-400 rounded-full translate-x-24 translate-y-24"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[o.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h3",{className:"text-3xl font-bold text-yellow-400 mb-6",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-red-100 leading-relaxed text-lg",children:"Serving Palacios, TX with bold, American-style pizzas since day one. Every pizza is made fresh to order with quality ingredients."})]}),o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-xl font-bold mb-6 text-yellow-400",children:"Visit Us"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start group",children:[o.jsx("div",{className:"bg-yellow-400 p-2 rounded-full mr-4 group-hover:scale-110 transition-transform",children:o.jsx(gf,{className:"h-5 w-5 text-red-800"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"2100 1st Street"}),o.jsx("p",{className:"text-red-200",children:"Palacios, TX 77465"})]})]}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start group cursor-pointer hover:bg-white/10 rounded-lg p-2 transition-all",onClick:()=>{try{window.location.href="tel:+1-361-403-0083"}catch{const d=document.createElement("a");d.href="tel:+1-361-403-0083",d.click()}},role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",tabIndex:0,onKeyDown:c=>{if(c.key==="Enter"||c.key===" "){c.preventDefault();try{window.location.href="tel:+1-361-403-0083"}catch{const h=document.createElement("a");h.href="tel:+1-361-403-0083",h.click()}}},children:[o.jsx("div",{className:"bg-yellow-400 p-2 rounded-full mr-4 group-hover:scale-110 transition-transform",children:o.jsx(Pn,{className:"h-5 w-5 text-red-800"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"(361) 403-0083"}),o.jsx("p",{className:"text-red-200",children:"Call to order"})]})]})]})]}),o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-xl font-bold mb-6 text-yellow-400",children:"Hours"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start group",children:[o.jsx("div",{className:"bg-yellow-400 p-2 rounded-full mr-4 group-hover:scale-110 transition-transform",children:o.jsx(Wt,{className:"h-5 w-5 text-red-800"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold",children:"9:00 AM – 12:00 AM"}),o.jsx("p",{className:"text-red-200",children:"Open 7 days a week"})]})]}),o.jsxs("div",{className:"bg-yellow-400/20 p-4 rounded-lg border border-yellow-400/30",children:[o.jsx("p",{className:"text-yellow-300 font-semibold text-center",children:"🍕 Pickup Only"}),o.jsx("p",{className:"text-red-100 text-sm text-center mt-1",children:"Ready in 7-10 minutes"})]})]})]})]}),o.jsx("div",{className:"border-t border-red-600/50 mt-12 pt-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-red-200 text-lg mb-2",children:"© 2024 Hunt Brothers Pizza. All rights reserved."}),o.jsx("p",{className:"text-red-300 text-sm",children:"Fresh • Bold • American"})]})})]})]})]})}var Wm="focusScope.autoFocusOnMount",Km="focusScope.autoFocusOnUnmount",M_={bubbles:!1,cancelable:!0},VM="FocusScope",Dv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=g.useState(null),d=Ct(s),h=Ct(i),f=g.useRef(null),m=Ve(e,v=>c(v)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(S){if(x.paused||!l)return;const A=S.target;l.contains(A)?f.current=A:xs(f.current,{select:!0})},_=function(S){if(x.paused||!l)return;const A=S.relatedTarget;A!==null&&(l.contains(A)||xs(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const O of S)O.removedNodes.length>0&&xs(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,l,x.paused]),g.useEffect(()=>{if(l){V_.add(x);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Wm,M_);l.addEventListener(Wm,d),l.dispatchEvent(b),b.defaultPrevented||(FM(HM(wT(l)),{select:!0}),document.activeElement===v&&xs(l))}return()=>{l.removeEventListener(Wm,d),setTimeout(()=>{const b=new CustomEvent(Km,M_);l.addEventListener(Km,h),l.dispatchEvent(b),b.defaultPrevented||xs(v??document.body,{select:!0}),l.removeEventListener(Km,h),V_.remove(x)},0)}}},[l,d,h,x]);const T=g.useCallback(v=>{if(!n&&!r||x.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(_&&b){const y=v.currentTarget,[S,A]=zM(y);S&&A?!v.shiftKey&&b===A?(v.preventDefault(),n&&xs(S,{select:!0})):v.shiftKey&&b===S&&(v.preventDefault(),n&&xs(A,{select:!0})):b===y&&v.preventDefault()}},[n,r,x.paused]);return o.jsx(_e.div,{tabIndex:-1,...a,ref:m,onKeyDown:T})});Dv.displayName=VM;function FM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xs(r,{select:e}),document.activeElement!==n)return}function zM(t){const e=wT(t),n=L_(e,t),r=L_(e.reverse(),t);return[n,r]}function wT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function L_(t,e){for(const n of t)if(!UM(n,{upTo:e}))return n}function UM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $M(t){return t instanceof HTMLInputElement&&"select"in t}function xs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&$M(t)&&e&&t.select()}}var V_=BM();function BM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=F_(t,e),t.unshift(e)},remove(e){var n;t=F_(t,e),(n=t[0])==null||n.resume()}}}function F_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function HM(t){return t.filter(e=>e.tagName!=="A")}var Gm=0;function _T(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??z_()),document.body.insertAdjacentElement("beforeend",t[1]??z_()),Gm++,()=>{Gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gm--}},[])}function z_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var vr=function(){return vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vr.apply(this,arguments)};function iu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Pd="right-scroll-bar-position",Rd="width-before-scroll-bar",WM="with-scroll-bars-hidden",KM="--removed-body-scroll-bar-size";function Qm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function GM(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var QM=typeof window<"u"?g.useLayoutEffect:g.useEffect,U_=new WeakMap;function YM(t,e){var n=GM(null,function(r){return t.forEach(function(s){return Qm(s,r)})});return QM(function(){var r=U_.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Qm(l,null)}),i.forEach(function(l){s.has(l)||Qm(l,a)})}U_.set(n,t)},[t]),n}function XM(t){return t}function JM(t,e){e===void 0&&(e=XM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return s}function ZM(t){t===void 0&&(t={});var e=JM(null);return e.options=vr({async:!0,ssr:!1},t),e}var bT=function(t){var e=t.sideCar,n=iu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,vr({},n))};bT.isSideCarExport=!0;function eL(t,e){return t.useMedium(e),bT}var ET=ZM(),Ym=function(){},vf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Ym,onWheelCapture:Ym,onTouchMoveCapture:Ym}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,x=t.noIsolation,T=t.inert,v=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,y=t.gapMode,S=iu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,O=YM([n,e]),M=vr(vr({},S),s);return g.createElement(g.Fragment,null,h&&g.createElement(A,{sideCar:ET,removeScrollBar:d,shards:f,noIsolation:x,inert:T,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:y}),a?g.cloneElement(g.Children.only(l),vr(vr({},M),{ref:O})):g.createElement(b,vr({},M,{className:c,ref:O}),l))});vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vf.classNames={fullWidth:Rd,zeroRight:Pd};var tL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tL();return e&&t.setAttribute("nonce",e),t}function rL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iL=function(){var t=0,e=null;return{add:function(n){t==0&&(e=nL())&&(rL(e,n),sL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oL=function(){var t=iL();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NT=function(){var t=oL(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},aL={left:0,top:0,right:0,gap:0},Xm=function(t){return parseInt(t||"",10)||0},lL=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xm(n),Xm(r),Xm(s)]},cL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aL;var e=lL(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},uL=NT(),sa="data-scroll-locked",dL=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(WM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(KM,": ").concat(l,`px;
  }
`)},$_=function(){var t=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(t)?t:0},hL=function(){g.useEffect(function(){return document.body.setAttribute(sa,($_()+1).toString()),function(){var t=$_()-1;t<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,t.toString())}},[])},fL=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;hL();var i=g.useMemo(function(){return cL(s)},[s]);return g.createElement(uL,{styles:dL(i,!e,s,n?"":"!important")})},Rg=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return Rg=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Rg=!1}var Io=Rg?{passive:!1}:!1,mL=function(t){return t.tagName==="TEXTAREA"},ST=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mL(t)&&n[e]==="visible")},pL=function(t){return ST(t,"overflowY")},gL=function(t){return ST(t,"overflowX")},B_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=TT(t,r);if(s){var i=jT(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yL=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vL=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},TT=function(t,e){return t==="v"?pL(e):gL(e)},jT=function(t,e){return t==="v"?yL(e):vL(e)},xL=function(t,e){return t==="h"&&e==="rtl"?-1:1},wL=function(t,e,n,r,s){var i=xL(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),d=!1,h=a>0,f=0,m=0;do{var x=jT(t,l),T=x[0],v=x[1],_=x[2],b=v-_-i*T;(T||b)&&TT(t,l)&&(f+=b,m+=T),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},ad=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},H_=function(t){return[t.deltaX,t.deltaY]},q_=function(t){return t&&"current"in t?t.current:t},_L=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EL=0,Co=[];function NL(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(EL++)[0],i=g.useState(NT)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=qM([t.lockRef.current],(t.shards||[]).map(q_),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=ad(v),y=n.current,S="deltaX"in v?v.deltaX:y[0]-b[0],A="deltaY"in v?v.deltaY:y[1]-b[1],O,M=v.target,j=Math.abs(S)>Math.abs(A)?"h":"v";if("touches"in v&&j==="h"&&M.type==="range")return!1;var N=B_(j,M);if(!N)return!0;if(N?O=j:(O=j==="v"?"h":"v",N=B_(j,M)),!N)return!1;if(!r.current&&"changedTouches"in v&&(S||A)&&(r.current=O),!O)return!0;var E=r.current||O;return wL(E,_,v,E==="h"?S:A,!0)},[]),c=g.useCallback(function(v){var _=v;if(!(!Co.length||Co[Co.length-1]!==i)){var b="deltaY"in _?H_(_):ad(_),y=e.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&_L(O.delta,b)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var S=(a.current.shards||[]).map(q_).filter(Boolean).filter(function(O){return O.contains(_.target)}),A=S.length>0?l(_,S[0]):!a.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),d=g.useCallback(function(v,_,b,y){var S={name:v,delta:_,target:b,should:y,shadowParent:SL(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(A){return A!==S})},1)},[]),h=g.useCallback(function(v){n.current=ad(v),r.current=void 0},[]),f=g.useCallback(function(v){d(v.type,H_(v),v.target,l(v,t.lockRef.current))},[]),m=g.useCallback(function(v){d(v.type,ad(v),v.target,l(v,t.lockRef.current))},[]);g.useEffect(function(){return Co.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Io),document.addEventListener("touchmove",c,Io),document.addEventListener("touchstart",h,Io),function(){Co=Co.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Io),document.removeEventListener("touchmove",c,Io),document.removeEventListener("touchstart",h,Io)}},[]);var x=t.removeScrollBar,T=t.inert;return g.createElement(g.Fragment,null,T?g.createElement(i,{styles:bL(s)}):null,x?g.createElement(fL,{gapMode:t.gapMode}):null)}function SL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TL=eL(ET,NL);var Mv=g.forwardRef(function(t,e){return g.createElement(vf,vr({},t,{ref:e,sideCar:TL}))});Mv.classNames=vf.classNames;var jL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Po=new WeakMap,ld=new WeakMap,cd={},Jm=0,IT=function(t){return t&&(t.host||IT(t.parentNode))},IL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=IT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},CL=function(t,e,n,r){var s=IL(e,Array.isArray(t)?t:[t]);cd[n]||(cd[n]=new WeakMap);var i=cd[n],a=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var x=m.getAttribute(r),T=x!==null&&x!=="false",v=(Po.get(m)||0)+1,_=(i.get(m)||0)+1;Po.set(m,v),i.set(m,_),a.push(m),v===1&&T&&ld.set(m,!0),_===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),Jm++,function(){a.forEach(function(f){var m=Po.get(f)-1,x=i.get(f)-1;Po.set(f,m),i.set(f,x),m||(ld.has(f)||f.removeAttribute(r),ld.delete(f)),x||f.removeAttribute(n)}),Jm--,Jm||(Po=new WeakMap,Po=new WeakMap,ld=new WeakMap,cd={})}},CT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=jL(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),CL(r,s,n,"aria-hidden")):function(){return null}},Lv="Dialog",[PT,l7]=ar(Lv),[PL,lr]=PT(Lv),RT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=g.useRef(null),c=g.useRef(null),[d=!1,h]=io({prop:r,defaultProp:s,onChange:i});return o.jsx(PL,{scope:e,triggerRef:l,contentRef:c,contentId:Ks(),titleId:Ks(),descriptionId:Ks(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};RT.displayName=Lv;var AT="DialogTrigger",kT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(AT,n),i=Ve(e,s.triggerRef);return o.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zv(s.open),...r,ref:i,onClick:ue(t.onClick,s.onOpenToggle)})});kT.displayName=AT;var Vv="DialogPortal",[RL,OT]=PT(Vv,{forceMount:void 0}),DT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=lr(Vv,e);return o.jsx(RL,{scope:e,forceMount:n,children:g.Children.map(r,a=>o.jsx(Hn,{present:n||i.open,children:o.jsx(jv,{asChild:!0,container:s,children:a})}))})};DT.displayName=Vv;var wh="DialogOverlay",MT=g.forwardRef((t,e)=>{const n=OT(wh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(wh,t.__scopeDialog);return i.modal?o.jsx(Hn,{present:r||i.open,children:o.jsx(kL,{...s,ref:e})}):null});MT.displayName=wh;var AL=Ra("DialogOverlay.RemoveScroll"),kL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(wh,n);return o.jsx(Mv,{as:AL,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(_e.div,{"data-state":zv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ao="DialogContent",LT=g.forwardRef((t,e)=>{const n=OT(ao,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=lr(ao,t.__scopeDialog);return o.jsx(Hn,{present:r||i.open,children:i.modal?o.jsx(OL,{...s,ref:e}):o.jsx(DL,{...s,ref:e})})});LT.displayName=ao;var OL=g.forwardRef((t,e)=>{const n=lr(ao,t.__scopeDialog),r=g.useRef(null),s=Ve(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return CT(i)},[]),o.jsx(VT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),DL=g.forwardRef((t,e)=>{const n=lr(ao,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return o.jsx(VT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),VT=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=lr(ao,n),c=g.useRef(null),d=Ve(e,c);return _T(),o.jsxs(o.Fragment,{children:[o.jsx(Dv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(lf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zv(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ML,{titleId:l.titleId}),o.jsx(VL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Fv="DialogTitle",FT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(Fv,n);return o.jsx(_e.h2,{id:s.titleId,...r,ref:e})});FT.displayName=Fv;var zT="DialogDescription",UT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr(zT,n);return o.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});UT.displayName=zT;var $T="DialogClose",BT=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=lr($T,n);return o.jsx(_e.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});BT.displayName=$T;function zv(t){return t?"open":"closed"}var HT="DialogTitleWarning",[c7,qT]=RO(HT,{contentName:ao,titleName:Fv,docsSlug:"dialog"}),ML=({titleId:t})=>{const e=qT(HT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},LL="DialogDescriptionWarning",VL=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qT(LL).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},FL=RT,zL=kT,UL=DT,WT=MT,KT=LT,GT=FT,QT=UT,$L=BT;const ia=FL,Uv=zL,BL=UL,YT=g.forwardRef(({className:t,...e},n)=>o.jsx(WT,{ref:n,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));YT.displayName=WT.displayName;const Gi=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(BL,{children:[o.jsx(YT,{}),o.jsxs(KT,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs($L,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ov,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gi.displayName=KT.displayName;const Qi=({className:t,...e})=>o.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qi.displayName="DialogHeader";const Yi=g.forwardRef(({className:t,...e},n)=>o.jsx(GT,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",t),...e}));Yi.displayName=GT.displayName;const HL=g.forwardRef(({className:t,...e},n)=>o.jsx(QT,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));HL.displayName=QT.displayName;function Ag(t,[e,n]){return Math.min(n,Math.max(e,t))}function XT(t){const e=t+"CollectionProvider",[n,r]=ar(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:_,children:b}=v,y=ys.useRef(null),S=ys.useRef(new Map).current;return o.jsx(s,{scope:_,itemMap:S,collectionRef:y,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=Ra(l),d=ys.forwardRef((v,_)=>{const{scope:b,children:y}=v,S=i(l,b),A=Ve(_,S.collectionRef);return o.jsx(c,{ref:A,children:y})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ra(h),x=ys.forwardRef((v,_)=>{const{scope:b,children:y,...S}=v,A=ys.useRef(null),O=Ve(_,A),M=i(h,b);return ys.useEffect(()=>(M.itemMap.set(A,{ref:A,...S}),()=>void M.itemMap.delete(A))),o.jsx(m,{[f]:"",ref:O,children:y})});x.displayName=h;function T(v){const _=i(t+"CollectionConsumer",v);return ys.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const S=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((M,j)=>S.indexOf(M.ref.current)-S.indexOf(j.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:d,ItemSlot:x},T,r]}var qL=g.createContext(void 0);function ou(t){const e=g.useContext(qL);return t||e||"ltr"}function $v(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WL=[" ","Enter","ArrowUp","ArrowDown"],KL=[" ","Enter"],au="Select",[xf,wf,GL]=XT(au),[tl,u7]=ar(au,[GL,hf]),_f=hf(),[QL,xi]=tl(au),[YL,XL]=tl(au),JT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:x,form:T}=t,v=_f(e),[_,b]=g.useState(null),[y,S]=g.useState(null),[A,O]=g.useState(!1),M=ou(d),[j=!1,N]=io({prop:r,defaultProp:s,onChange:i}),[E,I]=io({prop:a,defaultProp:l,onChange:c}),k=g.useRef(null),C=_?T||!!_.closest("form"):!0,[R,V]=g.useState(new Set),Y=Array.from(R).map(G=>G.props.value).join(";");return o.jsx(nD,{...v,children:o.jsxs(QL,{required:x,scope:e,trigger:_,onTriggerChange:b,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Ks(),value:E,onValueChange:I,open:j,onOpenChange:N,dir:M,triggerPointerDownPosRef:k,disabled:m,children:[o.jsx(xf.Provider,{scope:e,children:o.jsx(YL,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(G=>{V(J=>new Set(J).add(G))},[]),onNativeOptionRemove:g.useCallback(G=>{V(J=>{const F=new Set(J);return F.delete(G),F})},[]),children:n})}),C?o.jsxs(Ej,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:G=>I(G.target.value),disabled:m,form:T,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(R)]},Y):null]})})};JT.displayName=au;var ZT="SelectTrigger",ej=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_f(n),a=xi(ZT,n),l=a.disabled||r,c=Ve(e,a.onTriggerChange),d=wf(n),h=g.useRef("touch"),[f,m,x]=Nj(v=>{const _=d().filter(S=>!S.disabled),b=_.find(S=>S.value===a.value),y=Sj(_,v,b);y!==void 0&&a.onValueChange(y.value)}),T=v=>{l||(a.onOpenChange(!0),x()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(QS,{asChild:!0,...i,children:o.jsx(_e.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bj(a.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:ue(s.onPointerDown,v=>{h.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:ue(s.onKeyDown,v=>{const _=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(_&&v.key===" ")&&WL.includes(v.key)&&(T(),v.preventDefault())})})})});ej.displayName=ZT;var tj="SelectValue",nj=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=xi(tj,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Ve(e,c.onValueNodeChange);return Gt(()=>{d(h)},[d,h]),o.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:bj(c.value)?o.jsx(o.Fragment,{children:a}):i})});nj.displayName=tj;var JL="SelectIcon",rj=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(_e.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});rj.displayName=JL;var ZL="SelectPortal",sj=t=>o.jsx(jv,{asChild:!0,...t});sj.displayName=ZL;var lo="SelectContent",ij=g.forwardRef((t,e)=>{const n=xi(lo,t.__scopeSelect),[r,s]=g.useState();if(Gt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ya.createPortal(o.jsx(oj,{scope:t.__scopeSelect,children:o.jsx(xf.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(aj,{...t,ref:e})});ij.displayName=lo;var Gn=10,[oj,wi]=tl(lo),e3="SelectContentImpl",t3=Ra("SelectContent.RemoveScroll"),aj=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:T,hideWhenDetached:v,avoidCollisions:_,...b}=t,y=xi(lo,n),[S,A]=g.useState(null),[O,M]=g.useState(null),j=Ve(e,ee=>A(ee)),[N,E]=g.useState(null),[I,k]=g.useState(null),C=wf(n),[R,V]=g.useState(!1),Y=g.useRef(!1);g.useEffect(()=>{if(S)return CT(S)},[S]),_T();const G=g.useCallback(ee=>{const[Te,...He]=C().map(ae=>ae.ref.current),[Pe]=He.slice(-1),Ee=document.activeElement;for(const ae of ee)if(ae===Ee||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===Te&&O&&(O.scrollTop=0),ae===Pe&&O&&(O.scrollTop=O.scrollHeight),ae==null||ae.focus(),document.activeElement!==Ee))return},[C,O]),J=g.useCallback(()=>G([N,S]),[G,N,S]);g.useEffect(()=>{R&&J()},[R,J]);const{onOpenChange:F,triggerPointerDownPosRef:K}=y;g.useEffect(()=>{if(S){let ee={x:0,y:0};const Te=Pe=>{var Ee,ae;ee={x:Math.abs(Math.round(Pe.pageX)-(((Ee=K.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((ae=K.current)==null?void 0:ae.y)??0))}},He=Pe=>{ee.x<=10&&ee.y<=10?Pe.preventDefault():S.contains(Pe.target)||F(!1),document.removeEventListener("pointermove",Te),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",He,{capture:!0})}}},[S,F,K]),g.useEffect(()=>{const ee=()=>F(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[F]);const[ne,le]=Nj(ee=>{const Te=C().filter(Ee=>!Ee.disabled),He=Te.find(Ee=>Ee.ref.current===document.activeElement),Pe=Sj(Te,ee,He);Pe&&setTimeout(()=>Pe.ref.current.focus())}),Ce=g.useCallback((ee,Te,He)=>{const Pe=!Y.current&&!He;(y.value!==void 0&&y.value===Te||Pe)&&(E(ee),Pe&&(Y.current=!0))},[y.value]),ze=g.useCallback(()=>S==null?void 0:S.focus(),[S]),ot=g.useCallback((ee,Te,He)=>{const Pe=!Y.current&&!He;(y.value!==void 0&&y.value===Te||Pe)&&k(ee)},[y.value]),W=r==="popper"?kg:lj,H=W===kg?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:T,hideWhenDetached:v,avoidCollisions:_}:{};return o.jsx(oj,{scope:n,content:S,viewport:O,onViewportChange:M,itemRefCallback:Ce,selectedItem:N,onItemLeave:ze,itemTextRefCallback:ot,focusSelectedItem:J,selectedItemText:I,position:r,isPositioned:R,searchRef:ne,children:o.jsx(Mv,{as:t3,allowPinchZoom:!0,children:o.jsx(Dv,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ue(s,ee=>{var Te;(Te=y.trigger)==null||Te.focus({preventScroll:!0}),ee.preventDefault()}),children:o.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(W,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...b,...H,onPlaced:()=>V(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ue(b.onKeyDown,ee=>{const Te=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Te&&ee.key.length===1&&le(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Pe=C().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ee=ee.target,ae=Pe.indexOf(Ee);Pe=Pe.slice(ae+1)}setTimeout(()=>G(Pe)),ee.preventDefault()}})})})})})})});aj.displayName=e3;var n3="SelectItemAlignedPosition",lj=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=xi(lo,n),a=wi(lo,n),[l,c]=g.useState(null),[d,h]=g.useState(null),f=Ve(e,j=>h(j)),m=wf(n),x=g.useRef(!1),T=g.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:b,focusSelectedItem:y}=a,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&_&&b){const j=i.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=I.left-N.left,ae=E.left-Ee,de=j.left-ae,Ge=j.width+de,wn=Math.max(Ge,N.width),X=window.innerWidth-Gn,Me=Ag(ae,[Gn,Math.max(Gn,X-wn)]);l.style.minWidth=Ge+"px",l.style.left=Me+"px"}else{const Ee=N.right-I.right,ae=window.innerWidth-E.right-Ee,de=window.innerWidth-j.right-ae,Ge=j.width+de,wn=Math.max(Ge,N.width),X=window.innerWidth-Gn,Me=Ag(ae,[Gn,Math.max(Gn,X-wn)]);l.style.minWidth=Ge+"px",l.style.right=Me+"px"}const k=m(),C=window.innerHeight-Gn*2,R=v.scrollHeight,V=window.getComputedStyle(d),Y=parseInt(V.borderTopWidth,10),G=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),F=parseInt(V.paddingBottom,10),K=Y+G+R+F+J,ne=Math.min(_.offsetHeight*5,K),le=window.getComputedStyle(v),Ce=parseInt(le.paddingTop,10),ze=parseInt(le.paddingBottom,10),ot=j.top+j.height/2-Gn,W=C-ot,H=_.offsetHeight/2,ee=_.offsetTop+H,Te=Y+G+ee,He=K-Te;if(Te<=ot){const Ee=k.length>0&&_===k[k.length-1].ref.current;l.style.bottom="0px";const ae=d.clientHeight-v.offsetTop-v.offsetHeight,de=Math.max(W,H+(Ee?ze:0)+ae+J),Ge=Te+de;l.style.height=Ge+"px"}else{const Ee=k.length>0&&_===k[0].ref.current;l.style.top="0px";const de=Math.max(ot,Y+v.offsetTop+(Ee?Ce:0)+H)+He;l.style.height=de+"px",v.scrollTop=Te-ot+v.offsetTop}l.style.margin=`${Gn}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,_,b,i.dir,r]);Gt(()=>S(),[S]);const[A,O]=g.useState();Gt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const M=g.useCallback(j=>{j&&T.current===!0&&(S(),y==null||y(),T.current=!1)},[S,y]);return o.jsx(s3,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:M,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:o.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lj.displayName=n3;var r3="SelectPopperPosition",kg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gn,...i}=t,a=_f(n);return o.jsx(YS,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kg.displayName=r3;var[s3,Bv]=tl(lo,{}),Og="SelectViewport",cj=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=wi(Og,n),a=Bv(Og,n),l=Ve(e,i.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(xf.Slot,{scope:n,children:o.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const x=Math.abs(c.current-h.scrollTop);if(x>0){const T=window.innerHeight-Gn*2,v=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(v,_);if(b<T){const y=b+x,S=Math.min(T,y),A=y-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});cj.displayName=Og;var uj="SelectGroup",[i3,o3]=tl(uj),a3=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ks();return o.jsx(i3,{scope:n,id:s,children:o.jsx(_e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});a3.displayName=uj;var dj="SelectLabel",hj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=o3(dj,n);return o.jsx(_e.div,{id:s.id,...r,ref:e})});hj.displayName=dj;var _h="SelectItem",[l3,fj]=tl(_h),mj=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=xi(_h,n),c=wi(_h,n),d=l.value===r,[h,f]=g.useState(i??""),[m,x]=g.useState(!1),T=Ve(e,y=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,y,r,s)}),v=Ks(),_=g.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(l3,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(y=>{f(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(xf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:T,onFocus:ue(a.onFocus,()=>x(!0)),onBlur:ue(a.onBlur,()=>x(!1)),onClick:ue(a.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:ue(a.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:ue(a.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:ue(a.onPointerMove,y=>{var S;_.current=y.pointerType,s?(S=c.onItemLeave)==null||S.call(c):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(a.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:ue(a.onKeyDown,y=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(KL.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});mj.displayName=_h;var Ul="SelectItemText",pj=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=xi(Ul,n),l=wi(Ul,n),c=fj(Ul,n),d=XL(Ul,n),[h,f]=g.useState(null),m=Ve(e,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),x=h==null?void 0:h.textContent,T=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=d;return Gt(()=>(v(T),()=>_(T)),[v,_,T]),o.jsxs(o.Fragment,{children:[o.jsx(_e.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ya.createPortal(i.children,a.valueNode):null]})});pj.displayName=Ul;var gj="SelectItemIndicator",yj=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fj(gj,n).isSelected?o.jsx(_e.span,{"aria-hidden":!0,...r,ref:e}):null});yj.displayName=gj;var Dg="SelectScrollUpButton",vj=g.forwardRef((t,e)=>{const n=wi(Dg,t.__scopeSelect),r=Bv(Dg,t.__scopeSelect),[s,i]=g.useState(!1),a=Ve(e,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vj.displayName=Dg;var Mg="SelectScrollDownButton",xj=g.forwardRef((t,e)=>{const n=wi(Mg,t.__scopeSelect),r=Bv(Mg,t.__scopeSelect),[s,i]=g.useState(!1),a=Ve(e,r.onScrollButtonChange);return Gt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xj.displayName=Mg;var wj=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=wi("SelectScrollButton",n),a=g.useRef(null),l=wf(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Gt(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(_e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),c3="SelectSeparator",_j=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(_e.div,{"aria-hidden":!0,...r,ref:e})});_j.displayName=c3;var Lg="SelectArrow",u3=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_f(n),i=xi(Lg,n),a=wi(Lg,n);return i.open&&a.position==="popper"?o.jsx(XS,{...s,...r,ref:e}):null});u3.displayName=Lg;function bj(t){return t===""||t===void 0}var Ej=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Ve(e,s),a=$v(n);return g.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Iv,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});Ej.displayName="BubbleSelect";function Nj(t){const e=Ct(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function Sj(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=d3(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function d3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var h3=JT,Tj=ej,f3=nj,m3=rj,p3=sj,jj=ij,g3=cj,Ij=hj,Cj=mj,y3=pj,v3=yj,Pj=vj,Rj=xj,Aj=_j;const co=h3,uo=f3,ai=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Tj,{ref:r,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(m3,{asChild:!0,children:o.jsx(yT,{className:"h-4 w-4 opacity-50"})})]}));ai.displayName=Tj.displayName;const kj=g.forwardRef(({className:t,...e},n)=>o.jsx(Pj,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(gM,{className:"h-4 w-4"})}));kj.displayName=Pj.displayName;const Oj=g.forwardRef(({className:t,...e},n)=>o.jsx(Rj,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(yT,{className:"h-4 w-4"})}));Oj.displayName=Rj.displayName;const li=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(p3,{children:o.jsxs(jj,{ref:s,className:ve("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(kj,{}),o.jsx(g3,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(Oj,{})]})}));li.displayName=jj.displayName;const x3=g.forwardRef(({className:t,...e},n)=>o.jsx(Ij,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));x3.displayName=Ij.displayName;const be=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(Cj,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(v3,{children:o.jsx(gT,{className:"h-4 w-4"})})}),o.jsx(y3,{children:e})]}));be.displayName=Cj.displayName;const w3=g.forwardRef(({className:t,...e},n)=>o.jsx(Aj,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",t),...e}));w3.displayName=Aj.displayName;var Hv="Checkbox",[_3,d7]=ar(Hv),[b3,E3]=_3(Hv),Dj=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,x]=g.useState(null),T=Ve(e,A=>x(A)),v=g.useRef(!1),_=m?h||!!m.closest("form"):!0,[b=!1,y]=io({prop:s,defaultProp:i,onChange:d}),S=g.useRef(b);return g.useEffect(()=>{const A=m==null?void 0:m.form;if(A){const O=()=>y(S.current);return A.addEventListener("reset",O),()=>A.removeEventListener("reset",O)}},[m,y]),o.jsxs(b3,{scope:n,state:b,disabled:l,children:[o.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Gs(b)?"mixed":b,"aria-required":a,"data-state":Vj(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:T,onKeyDown:ue(t.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:ue(t.onClick,A=>{y(O=>Gs(O)?!0:!O),_&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),_&&o.jsx(N3,{control:m,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Gs(i)?!1:i})]})});Dj.displayName=Hv;var Mj="CheckboxIndicator",Lj=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=E3(Mj,n);return o.jsx(Hn,{present:r||Gs(i.state)||i.state===!0,children:o.jsx(_e.span,{"data-state":Vj(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Lj.displayName=Mj;var N3=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=g.useRef(null),l=$v(n),c=Nv(e);g.useEffect(()=>{const h=a.current,f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&x){const T=new Event("click",{bubbles:r});h.indeterminate=Gs(n),x.call(h,Gs(n)?!1:n),h.dispatchEvent(T)}},[l,n,r]);const d=g.useRef(Gs(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gs(t){return t==="indeterminate"}function Vj(t){return Gs(t)?"indeterminate":t?"checked":"unchecked"}var Fj=Dj,S3=Lj;const $l=g.forwardRef(({className:t,...e},n)=>o.jsx(Fj,{ref:n,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(S3,{className:ve("flex items-center justify-center text-current"),children:o.jsx(gT,{className:"h-4 w-4"})})}));$l.displayName=Fj.displayName;function T3(){const[,t]=af(),{cartItems:e,updateQuantity:n,removeItem:r,clearCart:s,getSubtotal:i,getTotalItems:a,addToCart:l}=su(),{toast:c}=Yt(),[d,h]=g.useState(null),f=["Original","Thin"],m=["Pepperoni","Italian Sausage","Beef","Bacon","Bell Peppers","Onions","Mushrooms","Black Olives","Banana Peppers","Jalapeños"],x=[{name:"Extra Pepperoni",price:1.5},{name:"Extra Italian Sausage",price:1.5},{name:"Extra Beef",price:1.5},{name:"Extra Bacon",price:1.5}],T=[{name:"Extra Bell Peppers",price:1},{name:"Extra Onions",price:1},{name:"Extra Mushrooms",price:1},{name:"Extra Black Olives",price:1},{name:"Extra Banana Peppers",price:1},{name:"Extra Jalapeños",price:1}],v=[{name:"Double Cheese",price:2.19}],_=[...x,...T,...v],b=j=>{h({...j})},y=()=>{if(!d)return;let j=11.99;d.toppings.forEach(E=>{const I=_.find(k=>k.name===E);I&&(j+=I.price)});const N={...d,price:j};r(d.id),l(N),c({title:"Pizza Updated!",description:"Your pizza customization has been saved",variant:"default"}),h(null)},S=(j,N)=>{if(!d)return;const E=N?[...d.toppings,j]:d.toppings.filter(I=>I!==j);h({...d,toppings:E})},A=i(),O=A*.0825,M=A+O;return e.length===0?o.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx(ie,{className:"text-center py-16",children:o.jsxs(oe,{children:[o.jsx(Ma,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Cart is Empty"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Add some delicious Hunt Brothers pizzas to get started!"}),o.jsx(We,{href:"/",children:o.jsx(U,{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3",children:"Browse Pizzas"})})]})})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(We,{href:"/",children:o.jsxs(U,{variant:"outline",size:"sm",children:[o.jsx(xh,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Order"})]}),o.jsxs(U,{variant:"outline",onClick:s,className:"text-red-600 hover:bg-red-50",children:[o.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Clear Cart"]})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(j=>o.jsx(ie,{className:"overflow-hidden",children:o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-6",children:[j.imageUrl&&o.jsx("img",{src:j.imageUrl,alt:j.name,className:"w-20 h-20 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:j.name}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",j.size]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Crust:"})," ",j.crust]}),j.toppings.length>0&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Toppings:"})," ",j.toppings.join(", ")]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ia,{children:[o.jsx(Uv,{asChild:!0,children:o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>b(j),className:"text-blue-600 hover:bg-blue-50",children:[o.jsx(EM,{className:"h-4 w-4 mr-1"}),"Customize"]})}),o.jsxs(Gi,{className:"max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsx(Qi,{children:o.jsxs(Yi,{children:["Customize ",d==null?void 0:d.name]})}),d&&o.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1 pr-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Crust"}),o.jsxs(co,{value:d.crust,onValueChange:N=>h({...d,crust:N}),children:[o.jsx(ai,{children:o.jsx(uo,{})}),o.jsx(li,{children:f.map(N=>o.jsx(be,{value:N,children:N},N))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Regular Toppings (Free)"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-24 overflow-y-auto border rounded p-2",children:m.map(N=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($l,{id:N,checked:d.toppings.includes(N),onCheckedChange:E=>S(N,E)}),o.jsx("label",{htmlFor:N,className:"text-sm",children:N})]},N))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Extra Meat Toppings (+$1.50 each)"}),o.jsx("div",{className:"space-y-2 max-h-20 overflow-y-auto border rounded p-2",children:x.map(N=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($l,{id:N.name,checked:d.toppings.includes(N.name),onCheckedChange:E=>S(N.name,E)}),o.jsx("label",{htmlFor:N.name,className:"text-sm",children:N.name})]}),o.jsxs("span",{className:"text-sm font-medium text-red-600",children:["+$",N.price.toFixed(2)]})]},N.name))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Extra Veggie Toppings (+$1.00 each)"}),o.jsx("div",{className:"space-y-2 max-h-20 overflow-y-auto border rounded p-2",children:T.map(N=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($l,{id:N.name,checked:d.toppings.includes(N.name),onCheckedChange:E=>S(N.name,E)}),o.jsx("label",{htmlFor:N.name,className:"text-sm",children:N.name})]}),o.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+$",N.price.toFixed(2)]})]},N.name))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Special Toppings"}),o.jsx("div",{className:"space-y-2 border rounded p-2",children:v.map(N=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($l,{id:N.name,checked:d.toppings.includes(N.name),onCheckedChange:E=>S(N.name,E)}),o.jsx("label",{htmlFor:N.name,className:"text-sm",children:N.name})]}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["+$",N.price.toFixed(2)]})]},N.name))})]}),o.jsx("div",{className:"bg-gray-50 p-3 rounded",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Base Pizza: $11.99"}),d.toppings.some(N=>_.find(E=>E.name===N))&&o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("p",{children:"Extra Toppings:"}),d.toppings.map(N=>{const E=_.find(I=>I.name===N);return E?o.jsxs("p",{className:"ml-2",children:[E.name,": +$",E.price.toFixed(2)]},N):null})]}),o.jsxs("p",{className:"font-bold text-lg",children:["Total: $",(()=>{let N=11.99;return d.toppings.forEach(E=>{const I=_.find(k=>k.name===E);I&&(N+=I.price)}),N.toFixed(2)})()]})]})})]}),o.jsx("div",{className:"border-t pt-4 mt-4",children:o.jsx(U,{onClick:y,className:"w-full",children:"Save Changes"})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(U,{variant:"outline",size:"sm",onClick:()=>n(j.id,j.quantity-1),disabled:j.quantity<=1,children:o.jsx(Av,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-center font-medium",children:j.quantity}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>n(j.id,j.quantity+1),children:o.jsx(yf,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"text-right min-w-[80px]",children:[o.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",(j.price*j.quantity).toFixed(2)]}),j.quantity>1&&o.jsxs("p",{className:"text-sm text-gray-500",children:["$",j.price.toFixed(2)," each"]})]}),o.jsx(U,{variant:"outline",size:"sm",onClick:()=>r(j.id),className:"text-red-600 hover:bg-red-50 hover:border-red-300",children:o.jsx(Cg,{className:"h-4 w-4"})})]})]})})},j.id))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(ie,{className:"sticky top-8",children:[o.jsx(me,{children:o.jsx(pe,{className:"text-xl",children:"Order Summary"})}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Items (",a(),")"]}),o.jsxs("span",{children:["$",A.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tax (8.25%)"}),o.jsxs("span",{children:["$",O.toFixed(2)]})]}),o.jsx("div",{className:"border-t pt-3",children:o.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",M.toFixed(2)]})]})})]}),o.jsx("div",{className:"space-y-3 pt-4",children:o.jsx(U,{onClick:()=>t("/checkout"),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 text-lg",children:"Proceed to Checkout"})}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mt-6",children:[o.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Pickup Information"}),o.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[o.jsx("p",{children:"📍 2100 1st Street, Palacios, TX"}),o.jsx("p",{children:"⏰ Ready in 7-10 minutes"}),o.jsx("p",{children:"📞 (361) 403-0083"})]})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Hunt Brothers Promise"}),o.jsx("p",{className:"text-sm text-green-700",children:"Fresh ingredients, bold flavors, and fast pickup. Every pizza made to order!"})]})]})]})})]})]})})}function j3({onAddToCart:t}){const[e,n]=g.useState("Cheese"),[r,s]=g.useState("Original"),[i,a]=g.useState([]),[l,c]=g.useState([]),[d,h]=g.useState(!1),[f,m]=g.useState(1),x=11.99,T=10.99,v=2.19,_=1.5,b=1,y=.0825,S=["Pepperoni","Italian Sausage","Beef","Bacon"],A=["Bell Peppers","Onions","Mushrooms","Black Olives","Banana Peppers","Jalapeños"],O=()=>{let I=0,k=0;f===1?I=x:I=x+T*(f-1),l.forEach(G=>{S.includes(G)?k+=_:A.includes(G)&&(k+=b)}),d&&(k+=v);const C=k*f,R=I+C,V=R*y,Y=R+V;return{pizzasPrice:I,toppingsPrice:C,subtotal:R,tax:V,total:Y,freeToppings:i.length,extraToppingsCount:l.length}},M=I=>{a(k=>{const C=k.includes(I)?k.filter(R=>R!==I):k.length<10?[...k,I]:k;return C.includes(I)||c(R=>R.filter(V=>V!==I)),C})},j=I=>{i.includes(I)&&c(k=>k.includes(I)?k.filter(C=>C!==I):[...k,I])},N=()=>{O();const I=[...i];l.forEach(R=>{I.push(`Extra ${R}`)}),d&&I.push("Double Cheese");let k=0;l.forEach(R=>{S.includes(R)?k+=_:A.includes(R)&&(k+=b)}),d&&(k+=v);const C={id:`pizza-${Date.now()}`,name:e,size:"Standard",crust:r,toppings:I,price:x+k,quantity:f,imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300"};t(C)},E=O();return o.jsx("div",{className:"min-h-screen bg-gray-50 pb-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-red-700 mb-2",children:"Build Your Pizza"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Create your perfect Hunt Brothers pizza • Pickup Only"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(ie,{className:"border-2 border-red-200 lg:sticky lg:top-4 h-fit",children:o.jsxs(oe,{className:"p-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-2 border-red-200",children:[o.jsx("h3",{className:"text-lg font-bold text-red-700 mb-3",children:"Your Pizza"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Size:"}),o.jsx("span",{className:"text-sm",children:'Standard (12")'})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Crust:"}),o.jsx("span",{className:"text-sm",children:r})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Base:"}),o.jsx("span",{className:"text-sm",children:"Cheese Pizza"})]})]}),(i.length>0||l.length>0||d)&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-red-200",children:[o.jsx("h4",{className:"text-sm font-medium text-red-700 mb-2",children:"Toppings:"}),o.jsxs("div",{className:"space-y-1",children:[d&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Double Cheese"}),o.jsx("span",{className:"text-green-600",children:"+$2.19"})]}),i.map(I=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:I}),o.jsx("span",{className:"text-gray-500",children:"Free"})]},I)),l.map(I=>o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Extra ",I]}),o.jsxs("span",{className:"text-green-600",children:["+$",S.includes(I)?_.toFixed(2):b.toFixed(2)]})]},`extra-${I}`))]})]})]}),o.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-yellow-800",children:"Ready for Pickup"}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Estimated time: 7-10 minutes"})]}),o.jsx("div",{className:"text-2xl",children:"🕐"})]})}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Nutrition Info (Per Slice)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Calories:"}),o.jsx("span",{className:"font-medium",children:"280-320"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Protein:"}),o.jsx("span",{className:"font-medium",children:"12-15g"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Carbs:"}),o.jsx("span",{className:"font-medium",children:"28-32g"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Fat:"}),o.jsx("span",{className:"font-medium",children:"10-14g"})]})]}),o.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"* Values vary based on toppings selected"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"💡 Money-Saving Tips"}),o.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[o.jsx("li",{children:"• Order 2+ pizzas and save $1.00 on each additional pizza"}),o.jsx("li",{children:"• Free toppings: Choose up to 10 regular toppings at no extra cost"}),o.jsx("li",{children:"• Mix & match: Try different topping combinations"})]})]})]}),o.jsx("div",{className:"mt-4 bg-yellow-50 p-3 rounded-lg border-2 border-yellow-300",children:o.jsxs("div",{className:"flex justify-between font-bold text-lg text-red-700",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",E.total.toFixed(2)]})]})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(ie,{className:"border-2 border-blue-200 bg-blue-50",children:o.jsx(oe,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-bold text-blue-800 text-lg",children:"🏪 Pickup Only"}),o.jsx("p",{className:"text-blue-700",children:"We do not offer delivery. Ready in 7-10 minutes."})]})})}),o.jsxs(ie,{className:"border-2 border-red-200",children:[o.jsx(me,{className:"bg-red-700 text-white",children:o.jsx(pe,{className:"text-xl",children:"Choose Your Crust"})}),o.jsx(oe,{className:"p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-3",children:["Original","Thin"].map(I=>o.jsxs("button",{onClick:()=>s(I),className:`p-4 text-lg border-2 rounded-lg font-semibold transition-all ${r===I?"border-red-600 bg-red-50 text-red-700":"border-gray-200 hover:border-red-300"}`,children:[I," Crust"]},I))})})]}),o.jsxs(ie,{className:"border-2 border-red-200",children:[o.jsx(me,{className:"bg-red-700 text-white",children:o.jsx(pe,{className:"text-xl",children:"Cheese"})}),o.jsx(oe,{className:"p-6",children:o.jsx("button",{onClick:()=>h(!d),className:`w-full p-4 text-lg border-2 rounded-lg font-semibold transition-all ${d?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-gray-200 hover:border-yellow-300"}`,children:"Double Cheese (+$2.19)"})})]}),o.jsxs(ie,{className:"border-2 border-red-200",children:[o.jsx(me,{className:"bg-red-700 text-white",children:o.jsx(pe,{className:"text-xl",children:"Meat Toppings"})}),o.jsx(oe,{className:"p-6",children:o.jsx("div",{className:"space-y-3",children:S.map(I=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>M(I),disabled:!i.includes(I)&&i.length>=10,className:`w-full p-3 text-left border-2 rounded-lg font-semibold transition-all ${i.includes(I)?"border-red-600 bg-red-50 text-red-700":i.length>=10?"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-red-300"}`,children:["✓ ",I," ",i.includes(I)?"(Selected)":"(Free)"]}),o.jsxs("button",{onClick:()=>j(I),disabled:!i.includes(I),className:`w-full p-2 text-left text-sm border rounded-lg transition-all ml-4 ${l.includes(I)?"border-orange-500 bg-orange-50 text-orange-700":i.includes(I)?"border-gray-200 hover:border-orange-300":"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:["⬜ Extra ",I," (+$1.50)"]})]},I))})})]}),o.jsxs(ie,{className:"border-2 border-red-200",children:[o.jsx(me,{className:"bg-red-700 text-white",children:o.jsx(pe,{className:"text-xl",children:"Fresh Toppings"})}),o.jsx(oe,{className:"p-6",children:o.jsx("div",{className:"space-y-3",children:A.map(I=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>M(I),disabled:!i.includes(I)&&i.length>=10,className:`w-full p-3 text-left border-2 rounded-lg font-semibold transition-all ${i.includes(I)?"border-green-600 bg-green-50 text-green-700":i.length>=10?"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-green-300"}`,children:["✓ ",I," ",i.includes(I)?"(Selected)":"(Free)"]}),o.jsxs("button",{onClick:()=>j(I),disabled:!i.includes(I),className:`w-full p-2 text-left text-sm border rounded-lg transition-all ml-4 ${l.includes(I)?"border-orange-500 bg-orange-50 text-orange-700":i.includes(I)?"border-gray-200 hover:border-orange-300":"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:["⬜ Extra ",I," (+$1.00)"]})]},I))})})]}),o.jsx(ie,{className:"border-2 border-red-200",children:o.jsxs(oe,{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3 text-red-700 text-xl",children:"Quantity"}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx(U,{variant:"outline",size:"lg",onClick:()=>m(Math.max(1,f-1)),className:"border-red-300 hover:border-red-500",children:o.jsx(Av,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-2xl font-bold text-red-700 min-w-[3rem] text-center",children:f}),o.jsx(U,{variant:"outline",size:"lg",onClick:()=>m(f+1),className:"border-red-300 hover:border-red-500",children:o.jsx(yf,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Pizzas (",f,"):"]}),o.jsxs("span",{children:["$",E.pizzasPrice.toFixed(2)]})]}),E.extraToppingsCount>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Extra Toppings (",E.extraToppingsCount,"):"]}),o.jsxs("span",{children:["$",E.toppingsPrice.toFixed(2)]})]}),d&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Double Cheese:"}),o.jsxs("span",{children:["$",v.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",E.subtotal.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Tax (8.25%):"}),o.jsxs("span",{children:["$",E.tax.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-lg text-red-700 border-t-2 border-red-300 pt-2 mt-2",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",E.total.toFixed(2)]})]})]}),o.jsxs(U,{onClick:N,className:"w-full bg-red-700 hover:bg-red-800 text-white py-4 text-xl font-bold shadow-lg",children:[o.jsx(Ma,{className:"mr-2 h-6 w-6"}),"Add to Cart - $",E.total.toFixed(2)]})]})})]})]})]})})}function zj({cartItems:t,onUpdateQuantity:e,onRemoveItem:n}){const s=(()=>{let h=0,f=0;return t.forEach(m=>{f+=m.quantity;const x=m.price-11.99;h+=x*m.quantity}),f===1?h+=11.99:f>1&&(h+=11.99+10.99*(f-1)),h})(),i=s*.0825,a=s+i,l=t.reduce((c,d)=>c+d.quantity,0);return o.jsxs(ie,{className:"sticky top-24",children:[o.jsx(me,{children:o.jsx(pe,{children:"Order Summary"})}),o.jsxs(oe,{className:"space-y-6",children:[o.jsx("div",{className:"space-y-4",children:t.map(c=>o.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b border-gray-100",children:[c.imageUrl&&o.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-16 h-16 rounded-lg object-cover"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-neutral-text",children:c.name}),o.jsxs("p",{className:"text-sm text-neutral-secondary",children:[c.size," • ",c.crust]}),c.toppings.length>0&&o.jsx("p",{className:"text-xs text-neutral-secondary mt-1",children:c.toppings.join(", ")}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("span",{className:"text-sm font-medium text-neutral-text",children:["$",c.price.toFixed(2)]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(U,{variant:"outline",size:"sm",className:"w-6 h-6 p-0 rounded-full",onClick:()=>{c.quantity>1?e(c.id,c.quantity-1):n(c.id)},children:o.jsx(Av,{className:"h-3 w-3"})}),o.jsx("span",{className:"text-sm font-medium w-8 text-center",children:c.quantity}),o.jsx(U,{variant:"outline",size:"sm",className:"w-6 h-6 p-0 rounded-full",onClick:()=>e(c.id,c.quantity+1),children:o.jsx(yf,{className:"h-3 w-3"})})]})]})]})]},c.id))}),o.jsxs("div",{className:"space-y-2",children:[l>0&&o.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[o.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Pizza Pricing:"}),o.jsxs("div",{className:"space-y-1 text-xs text-yellow-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"First pizza:"}),o.jsx("span",{children:"$11.99"})]}),l>1&&o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Additional pizzas (",l-1,"):"]}),o.jsx("span",{children:"$10.99 each"})]})]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-neutral-secondary",children:"Subtotal"}),o.jsxs("span",{className:"text-neutral-text",children:["$",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-neutral-secondary",children:"Tax (8.25%)"}),o.jsxs("span",{className:"text-neutral-text",children:["$",i.toFixed(2)]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-2",children:o.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[o.jsx("span",{className:"text-neutral-text",children:"Total"}),o.jsxs("span",{className:"text-red-600",children:["$",a.toFixed(2)]})]})})]}),o.jsxs("div",{className:"flex items-center justify-center text-xs text-neutral-secondary",children:[o.jsx(kc,{className:"mr-1 h-3 w-3"}),o.jsx("span",{children:"Secure checkout powered by Stripe"})]})]})]})}function I3({variant:t="default",showCartButton:e=!0}){const{getTotalItems:n}=su();return t==="minimal"?o.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[o.jsxs("div",{className:"flex items-center min-w-0 flex-shrink-0",children:[o.jsx("div",{className:"text-xl sm:text-2xl mr-2",children:"🍕"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"font-bold text-lg sm:text-xl lg:text-2xl text-red-600 truncate",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Fresh • Bold • American"})]})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"tel:+1-361-403-0083",className:"bg-red-600 hover:bg-red-700 text-white flex items-center px-2 sm:px-4 py-2 rounded-md font-medium transition-colors no-underline text-sm sm:text-base",role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",children:[o.jsx(Pn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{className:"hidden xs:inline",children:"(361) 403-0083"}),o.jsx("span",{className:"xs:hidden",children:"Call"})]})})]})})}):t==="checkout"?o.jsx("header",{className:"bg-gradient-to-r from-red-600 via-red-500 to-orange-500 shadow-lg sticky top-0 z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between min-h-[64px] sm:min-h-[72px] py-2",children:[o.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl mr-2 sm:mr-3 filter drop-shadow-lg",children:"🍕"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"font-bold text-lg sm:text-xl lg:text-2xl xl:text-3xl text-white drop-shadow-lg truncate",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-xs sm:text-sm text-orange-100 -mt-1 font-medium hidden sm:block",children:"Delicious Checkout Experience"})]})]})}),o.jsxs("nav",{className:"hidden lg:flex items-center space-x-4 xl:space-x-8",children:[o.jsx(We,{href:"/",className:"text-white hover:text-yellow-200 transition-colors font-medium text-base lg:text-lg px-2 lg:px-3 py-2 rounded-lg hover:bg-white/10",children:"Menu"}),o.jsx(We,{href:"/build-pizza",className:"text-white hover:text-yellow-200 transition-colors font-medium text-base lg:text-lg px-2 lg:px-3 py-2 rounded-lg hover:bg-white/10",children:"Build Pizza"}),o.jsx(We,{href:"/track-order",className:"text-white hover:text-yellow-200 transition-colors font-medium text-base lg:text-lg px-2 lg:px-3 py-2 rounded-lg hover:bg-white/10",children:"Track Order"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("a",{href:"tel:+1-361-403-0083",className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold shadow-lg transform hover:scale-105 transition-all px-2 sm:px-4 py-2 rounded-md flex items-center no-underline text-sm sm:text-base",role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",children:[o.jsx(Pn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{className:"hidden xs:inline",children:"Call Now"}),o.jsx("span",{className:"xs:hidden",children:"Call"})]})})]})})}):o.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[o.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-shrink-0",children:o.jsx(We,{href:"/",children:o.jsxs("div",{className:"flex items-center cursor-pointer",children:[o.jsx("div",{className:"text-xl sm:text-2xl mr-2",children:"🍕"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h1",{className:"font-bold text-lg sm:text-xl lg:text-2xl text-red-600 truncate",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Fresh • Bold • American"})]})]})})}),o.jsxs("nav",{className:"hidden lg:flex items-center space-x-4 xl:space-x-6",children:[o.jsx(We,{href:"/",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Menu"}),o.jsx(We,{href:"/build-pizza",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Build Pizza"}),o.jsx(We,{href:"/track-order",className:"text-gray-700 hover:text-red-600 transition-colors font-medium",children:"Track Order"})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsxs("a",{href:"tel:+1-361-403-0083",className:"bg-red-600 hover:bg-red-700 text-white flex items-center px-2 sm:px-4 py-2 rounded-md font-medium transition-colors no-underline text-sm sm:text-base",role:"button","aria-label":"Call Hunt Brothers Pizza at 361-403-0083",children:[o.jsx(Pn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{className:"hidden xs:inline",children:"(361) 403-0083"}),o.jsx("span",{className:"xs:hidden",children:"Call"})]}),e&&o.jsx(We,{href:"/cart",children:o.jsxs(U,{className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-2 sm:px-4 py-2 shadow-lg transition-all duration-200 text-sm sm:text-base",style:{background:"var(--pizza-primary)",borderColor:"var(--pizza-primary)"},children:[o.jsx(Ma,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),o.jsxs("span",{className:"hidden xs:inline",children:["Cart (",n(),")"]}),o.jsxs("span",{className:"xs:hidden",children:["(",n(),")"]})]})})]})]})})})}function C3(){const{cartItems:t,addToCart:e,updateQuantity:n,removeItem:r,getTotalItems:s}=su();return o.jsxs("div",{className:"min-h-screen bg-neutral-bg",children:[o.jsx(I3,{showCartButton:!0}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(j3,{onAddToCart:e})}),o.jsx("div",{className:"lg:col-span-1",children:t.length>0?o.jsx(zj,{cartItems:t,onUpdateQuantity:n,onRemoveItem:r}):o.jsx("div",{className:"sticky top-24",children:o.jsxs("div",{className:"bg-white rounded-xl border p-8 text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🛒"}),o.jsx("h3",{className:"font-semibold text-neutral-text mb-2",children:"Your cart is empty"}),o.jsx("p",{className:"text-sm text-neutral-secondary",children:"Build a pizza to see it here!"})]})})})]})})]})}const P3=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},R3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},$j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,x=d&63;c||(x=64,a||(m=64)),r.push(n[h],n[f],n[m],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new A3;const m=i<<2|l>>4;if(r.push(m),d!==64){const x=l<<4&240|d>>2;if(r.push(x),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k3=function(t){const e=Uj(t);return $j.encodeByteArray(e,!0)},bh=function(t){return k3(t).replace(/\./g,"")},Bj=function(t){try{return $j.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=()=>O3().__FIREBASE_DEFAULTS__,M3=()=>{if(typeof process>"u"||typeof W_>"u")return;const t=W_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bj(t[1]);return e&&JSON.parse(e)},bf=()=>{try{return P3()||D3()||M3()||L3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hj=t=>{var e,n;return(n=(e=bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V3=t=>{const e=Hj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qj=()=>{var t;return(t=bf())===null||t===void 0?void 0:t.config},Wj=t=>{var e;return(e=bf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return t.endsWith(".cloudworkstations.dev")}async function Kj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bh(JSON.stringify(n)),bh(JSON.stringify(a)),""].join(".")}const oc={};function U3(){const t={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?t.emulator.push(e):t.prod.push(e);return t}function $3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K_=!1;function Gj(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||oc[t]===e||oc[t]||K_)return;oc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=U3().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,x){m.setAttribute("width","24"),m.setAttribute("id",x),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{K_=!0,a()},m}function h(m,x){m.setAttribute("id",x),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=$3(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),h(_,v);const A=d();c(y,b),S.append(y,T,_,A),document.body.appendChild(S)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function H3(){var t;const e=(t=bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G3(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q3(){return!H3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y3(){try{return typeof indexedDB=="object"}catch{return!1}}function X3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J3,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Z3(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ls(s,l,r)}}function Z3(t,e){return t.replace(e6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const e6=/\{\$([^}]+)}/g;function t6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(G_(i)&&G_(a)){if(!ho(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function n6(t,e){const n=new r6(t,e);return n.subscribe.bind(n)}class r6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zm),s.error===void 0&&(s.error=Zm),s.complete===void 0&&(s.complete=Zm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a6(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o6(t){return t===ki?void 0:t}function a6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const c6={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},u6=Ae.INFO,d6={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},h6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=d6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=u6,this._logHandler=h6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const f6=(t,e)=>e.some(n=>t instanceof n);let Q_,Y_;function m6(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p6(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qj=new WeakMap,Vg=new WeakMap,Yj=new WeakMap,ep=new WeakMap,Wv=new WeakMap;function g6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Qs(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Qj.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function y6(t){if(Vg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Vg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v6(t){Fg=t(Fg)}function x6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return Yj.set(r,e.sort?e.sort():[e]),Qs(r)}:p6().includes(t)?function(...e){return t.apply(tp(this),e),Qs(Qj.get(this))}:function(...e){return Qs(t.apply(tp(this),e))}}function w6(t){return typeof t=="function"?x6(t):(t instanceof IDBTransaction&&y6(t),f6(t,m6())?new Proxy(t,Fg):t)}function Qs(t){if(t instanceof IDBRequest)return g6(t);if(ep.has(t))return ep.get(t);const e=w6(t);return e!==t&&(ep.set(t,e),Wv.set(e,t)),e}const tp=t=>Wv.get(t);function _6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Qs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Qs(a.result),c.oldVersion,c.newVersion,Qs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const b6=["get","getKey","getAll","getAllKeys","count"],E6=["put","add","delete","clear"],np=new Map;function X_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=E6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||b6.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return np.set(e,i),i}v6(t=>({...t,get:(e,n,r)=>X_(e,n)||t.get(e,n,r),has:(e,n)=>!!X_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zg="@firebase/app",J_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new qv("@firebase/app"),T6="@firebase/app-compat",j6="@firebase/analytics-compat",I6="@firebase/analytics",C6="@firebase/app-check-compat",P6="@firebase/app-check",R6="@firebase/auth",A6="@firebase/auth-compat",k6="@firebase/database",O6="@firebase/data-connect",D6="@firebase/database-compat",M6="@firebase/functions",L6="@firebase/functions-compat",V6="@firebase/installations",F6="@firebase/installations-compat",z6="@firebase/messaging",U6="@firebase/messaging-compat",$6="@firebase/performance",B6="@firebase/performance-compat",H6="@firebase/remote-config",q6="@firebase/remote-config-compat",W6="@firebase/storage",K6="@firebase/storage-compat",G6="@firebase/firestore",Q6="@firebase/ai",Y6="@firebase/firestore-compat",X6="firebase",J6="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",Z6={[zg]:"fire-core",[T6]:"fire-core-compat",[I6]:"fire-analytics",[j6]:"fire-analytics-compat",[P6]:"fire-app-check",[C6]:"fire-app-check-compat",[R6]:"fire-auth",[A6]:"fire-auth-compat",[k6]:"fire-rtdb",[O6]:"fire-data-connect",[D6]:"fire-rtdb-compat",[M6]:"fire-fn",[L6]:"fire-fn-compat",[V6]:"fire-iid",[F6]:"fire-iid-compat",[z6]:"fire-fcm",[U6]:"fire-fcm-compat",[$6]:"fire-perf",[B6]:"fire-perf-compat",[H6]:"fire-rc",[q6]:"fire-rc-compat",[W6]:"fire-gcs",[K6]:"fire-gcs-compat",[G6]:"fire-fst",[Y6]:"fire-fst-compat",[Q6]:"fire-vertex","fire-js":"fire-js",[X6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,eV=new Map,$g=new Map;function Z_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function La(t){const e=t.name;if($g.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of Eh.values())Z_(n,t);for(const n of eV.values())Z_(n,t);return!0}function Kv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new lu("app","Firebase",tV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=J6;function Xj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ys.create("bad-app-name",{appName:String(s)});if(n||(n=qj()),!n)throw Ys.create("no-options");const i=Eh.get(s);if(i){if(ho(n,i.options)&&ho(r,i.config))return i;throw Ys.create("duplicate-app",{appName:s})}const a=new l6(s);for(const c of $g.values())a.addComponent(c);const l=new nV(n,r,a);return Eh.set(s,l),l}function Jj(t=Ug){const e=Eh.get(t);if(!e&&t===Ug&&qj())return Xj();if(!e)throw Ys.create("no-app",{appName:t});return e}function Xs(t,e,n){var r;let s=(r=Z6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(l.join(" "));return}La(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="firebase-heartbeat-database",sV=1,Oc="firebase-heartbeat-store";let rp=null;function Zj(){return rp||(rp=_6(rV,sV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),rp}async function iV(t){try{const n=(await Zj()).transaction(Oc),r=await n.objectStore(Oc).get(eI(t));return await n.done,r}catch(e){if(e instanceof ls)rs.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function eb(t,e){try{const r=(await Zj()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,eI(t)),await r.done}catch(n){if(n instanceof ls)rs.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function eI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=1024,aV=30;class lV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>aV){const a=dV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tb(),{heartbeatsToSend:r,unsentEntries:s}=cV(this._heartbeatsCache.heartbeats),i=bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rs.warn(n),""}}}function tb(){return new Date().toISOString().substring(0,10)}function cV(t,e=oV){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),nb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y3()?X3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return eb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function nb(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function dV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){La(new fo("platform-logger",e=>new N6(e),"PRIVATE")),La(new fo("heartbeat",e=>new lV(e),"PRIVATE")),Xs(zg,J_,t),Xs(zg,J_,"esm2017"),Xs("fire-js","")}hV("");function tI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fV=tI,nI=new lu("auth","Firebase",tI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new qv("@firebase/auth");function mV(t,...e){Nh.logLevel<=Ae.WARN&&Nh.warn(`Auth (${rl}): ${t}`,...e)}function Ad(t,...e){Nh.logLevel<=Ae.ERROR&&Nh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw Qv(t,...e)}function Er(t,...e){return Qv(t,...e)}function Gv(t,e,n){const r=Object.assign(Object.assign({},fV()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return Gv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),Gv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nI.create(t,...e)}function ge(t,e,...n){if(!t)throw Qv(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function ss(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gV(){return rb()==="http:"||rb()==="https:"}function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gV()||W3()||"connection"in navigator)?navigator.onLine:!0}function vV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=B3()||K3()}get(){return yV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_V=new uu(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,r,s={}){return sI(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=cu(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return q3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(d.credentials="include"),rI.fetch()(await iI(t,t.config.apiHost,n,l),d)})}async function sI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xV),e);try{const s=new EV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ud(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ud(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ud(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Gv(t,h,d);Bn(t,h)}}catch(s){if(s instanceof ls)throw s;Bn(t,"network-request-failed",{message:String(s)})}}async function du(t,e,n,r,s={}){const i=await bi(t,e,n,r,s);return"mfaPendingCredential"in i&&Bn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function iI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Yv(t.config,s):`${t.config.apiScheme}://${s}`;return wV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function bV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),_V.get())})}}function ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}function sb(t){return t!==void 0&&t.enterprise!==void 0}class NV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SV(t,e){return bi(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function Sh(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jV(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=Xv(r);ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ac(sp(s.auth_time)),issuedAtTime:ac(sp(s.iat)),expirationTime:ac(sp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sp(t){return Number(t)*1e3}function Xv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=Bj(n);return s?JSON.parse(s):(Ad("Failed to decode base64 JWT payload"),null)}catch(s){return Ad("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ib(t){const e=Xv(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&IV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dc(t,Sh(n,{idToken:r}));ge(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oI(i.providerUserInfo):[],l=RV(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Hg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function PV(t){const e=Nt(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oI(t){return t.map(e=>{var{providerId:n}=e,r=iu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t,e){const n=await sI(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await iI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(c.credentials="include"),rI.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kV(t,e){return bi(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=ib(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await AV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new oa;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ge(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=iu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jV(this,e)}reload(){return PV(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await Dc(this,TV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:A,isAnonymous:O,providerData:M,stsTokenManager:j}=n;ge(S&&j,e,"internal-error");const N=oa.fromJSON(this.name,j);ge(typeof S=="string",e,"internal-error"),gs(f,e.name),gs(m,e.name),ge(typeof A=="boolean",e,"internal-error"),ge(typeof O=="boolean",e,"internal-error"),gs(x,e.name),gs(T,e.name),gs(v,e.name),gs(_,e.name),gs(b,e.name),gs(y,e.name);const E=new er({uid:S,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:O,photoURL:T,phoneNumber:x,tenantId:v,stsTokenManager:N,createdAt:b,lastLoginAt:y});return M&&Array.isArray(M)&&(E.providerData=M.map(I=>Object.assign({},I))),_&&(E._redirectEventId=_),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new oa;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ge(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oI(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new oa;l.updateFromIdToken(r);const c=new er({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;function Kr(t){ss(t instanceof Function,"Expected a class definition");let e=ob.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aI.type="NONE";const ab=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,i),this.fullPersistenceKey=kd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(Kr(ab),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Kr(ab);const a=kd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let f;if(typeof h=="string"){const m=await Sh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await er._fromGetAccountInfoResponse(e,m,h)}else f=er._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new aa(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new aa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fI(e))return"Blackberry";if(mI(e))return"Webos";if(cI(e))return"Safari";if((e.includes("chrome/")||uI(e))&&!e.includes("edge/"))return"Chrome";if(hI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lI(t=Qt()){return/firefox\//i.test(t)}function cI(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uI(t=Qt()){return/crios\//i.test(t)}function dI(t=Qt()){return/iemobile/i.test(t)}function hI(t=Qt()){return/android/i.test(t)}function fI(t=Qt()){return/blackberry/i.test(t)}function mI(t=Qt()){return/webos/i.test(t)}function Jv(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OV(t=Qt()){var e;return Jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DV(){return G3()&&document.documentMode===10}function pI(t=Qt()){return Jv(t)||hI(t)||mI(t)||fI(t)||/windows phone/i.test(t)||dI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e=[]){let n;switch(t){case"Browser":n=lb(Qt());break;case"Worker":n=`${lb(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e={}){return bi(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=6;class FV{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:VV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new MV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Nr(this));const n=e?Nt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LV(this),n=new FV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cs(t){return Nt(t)}class cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=n6(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UV(t){Ef=t}function yI(t){return Ef.loadJS(t)}function $V(){return Ef.recaptchaEnterpriseScript}function BV(){return Ef.gapiScript}function HV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qV{constructor(){this.enterprise=new WV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KV="recaptcha-enterprise",vI="NO_RECAPTCHA";class GV{constructor(e){this.type=KV,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{SV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new NV(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;sb(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(vI)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qV().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&sb(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$V();c.length!==0&&(c+=l),yI(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function ub(t,e,n,r=!1,s=!1){const i=new GV(t);let a;if(s)a=vI;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function qg(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ub(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ub(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){const n=Kv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ho(i,e??{}))return s;Bn(s,"already-initialized")}return n.initialize({options:e})}function YV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XV(t,e,n){const r=cs(t);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xI(e),{host:a,port:l}=JV(e),c=l===null?"":`:${l}`,d={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(ho(d,r.config.emulator)&&ho(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,nl(a)?(Kj(`${i}//${a}${c}`),Gj("Auth",!0)):ZV()}function xI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JV(t){const e=xI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:db(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:db(a)}}}function db(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function e5(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e){return du(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function r5(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Zv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,n,"signInWithPassword",t5);case"emailLink":return n5(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,r,"signUpPassword",e5);case"emailLink":return r5(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return du(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="http://localhost";class mo extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=iu(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new mo(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:s5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o5(t){const e=Bl(Hl(t)).link,n=e?Bl(Hl(e)).deep_link_id:null,r=Bl(Hl(t)).deep_link_id;return(r?Bl(Hl(r)).link:null)||r||n||e||t}class ex{constructor(e){var n,r,s,i,a,l;const c=Bl(Hl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=i5((s=c.mode)!==null&&s!==void 0?s:null);ge(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=o5(e);try{return new ex(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,n){return Mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ex.parseLink(n);return ge(r,"argument-error"),Mc._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends tx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends hu{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends hu{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends hu{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return du(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),a=hb(r);return new po({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hb(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends ls{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jh(e,n,r,s)}}function wI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(t,i,e,r):i})}async function l5(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(Nr(r));const s="reauthenticate";try{const i=await Dc(t,wI(r,s,e,t),n);ge(i.idToken,r,"internal-error");const a=Xv(i.idToken);ge(a,r,"internal-error");const{sub:l}=a;return ge(t.uid===l,r,"user-mismatch"),po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Bn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(t,e,n=!1){if(Sn(t.app))return Promise.reject(Nr(t));const r="signIn",s=await wI(t,r,e),i=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function u5(t,e){return _I(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d5(t,e,n){if(Sn(t.app))return Promise.reject(Nr(t));const r=cs(t),a=await qg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a5).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bI(t),c}),l=await po._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function h5(t,e,n){return Sn(t.app)?Promise.reject(Nr(t)):u5(Nt(t),sl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bI(t),r})}function f5(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function m5(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function p5(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=1e3,y5=10;class NI extends EI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);DV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,y5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NI.type="LOCAL";const v5=NI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI extends EI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SI.type="SESSION";const TI=SI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await x5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=nx("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function _5(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function b5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N5(){return jI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebaseLocalStorageDb",S5=1,Ch="firebaseLocalStorage",CI="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(t,e){return t.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function T5(){const t=indexedDB.deleteDatabase(II);return new fu(t).toPromise()}function Wg(){const t=indexedDB.open(II,S5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ch,{keyPath:CI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await T5(),e(await Wg()))})})}async function fb(t,e,n){const r=Sf(t,!0).put({[CI]:e,value:n});return new fu(r).toPromise()}async function j5(t,e){const n=Sf(t,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function mb(t,e){const n=Sf(t,!0).delete(e);return new fu(n).toPromise()}const I5=800,C5=3;class PI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(N5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await b5(),!this.activeServiceWorker)return;this.sender=new w5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await fb(e,Ih,"1"),await mb(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sf(s,!1).getAll();return new fu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PI.type="LOCAL";const P5=PI;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){return e?Kr(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R5(t){return _I(t.auth,new rx(t),t.bypassAuthState)}function A5(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),c5(n,new rx(t),t.bypassAuthState)}async function k5(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),l5(n,new rx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R5;case"linkViaPopup":case"linkViaRedirect":return k5;case"reauthViaPopup":case"reauthViaRedirect":return A5;default:Bn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new uu(2e3,1e4);class Go extends AI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=nx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O5.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="pendingRedirect",Od=new Map;class M5 extends AI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await L5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L5(t,e){const n=OI(e),r=kI(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function V5(t,e){return kI(t)._set(OI(e),"true")}function F5(t,e){Od.set(t._key(),e)}function kI(t){return Kr(t._redirectPersistence)}function OI(t){return kd(D5,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e,n){return U5(t,e,n)}async function U5(t,e,n){if(Sn(t.app))return Promise.reject(Nr(t));const r=cs(t);pV(t,e,tx),await r._initializationPromise;const s=RI(r,n);return await V5(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function $5(t,e){return await cs(t)._initializationPromise,DI(t,e,!1)}async function DI(t,e,n=!1){if(Sn(t.app))return Promise.reject(Nr(t));const r=cs(t),s=RI(r,e),a=await new M5(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=10*60*1e3;class H5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pb(e))}saveEventToCache(e){this.cachedEventUids.add(pb(e)),this.lastProcessedEventTime=Date.now()}}function pb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G5=/^https?/;async function Q5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W5(t);for(const n of e)try{if(Y5(n))return}catch{}Bn(t,"unauthorized-domain")}function Y5(t){const e=Bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!G5.test(n))return!1;if(K5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new uu(3e4,6e4);function gb(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J5(t){return new Promise((e,n)=>{var r,s,i;function a(){gb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gb(),n(Er(t,"network-request-failed"))},timeout:X5.get()})}if(!((s=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Sr().gapi)===null||i===void 0)&&i.load)a();else{const l=HV("iframefcb");return Sr()[l]=()=>{gapi.load?a():n(Er(t,"network-request-failed"))},yI(`${BV()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function Z5(t){return Dd=Dd||J5(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new uu(5e3,15e3),tF="__/auth/iframe",nF="emulator/auth/iframe",rF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iF(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yv(e,nF):`https://${t.config.authDomain}/${tF}`,r={apiKey:e.apiKey,appName:t.name,v:rl},s=sF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${cu(r).slice(1)}`}async function oF(t){const e=await Z5(t),n=Sr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:iF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),l=Sr().setTimeout(()=>{i(a)},eF.get());function c(){Sr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lF=500,cF=600,uF="_blank",dF="http://localhost";class yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hF(t,e,n,r=lF,s=cF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},aF),{width:r.toString(),height:s.toString(),top:i,left:a}),d=Qt().toLowerCase();n&&(l=uI(d)?uF:n),lI(d)&&(e=e||dF,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[x,T])=>`${m}${x}=${T},`,"");if(OV(d)&&l!=="_self")return fF(e||"",l),new yb(null);const f=window.open(e||"",l,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new yb(f)}function fF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="__/auth/handler",pF="emulator/auth/handler",gF=encodeURIComponent("fac");async function vb(t,e,n,r,s,i){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:s};if(e instanceof tx){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",t6(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof hu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${gF}=${encodeURIComponent(c)}`:"";return`${yF(t)}?${cu(l).slice(1)}${d}`}function yF({config:t}){return t.emulator?Yv(t,pF):`https://${t.authDomain}/${mF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class vF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=DI,this._overrideRedirectResult=F5}async _openPopup(e,n,r,s){var i;ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await vb(e,n,r,Bg(),s);return hF(e,a,nx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vb(e,n,r,Bg(),s);return _5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oF(e),r=new H5(e);return n.register("authEvent",s=>(ge(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ip];a!==void 0&&n(!!a),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pI()||cI()||Jv()}}const xF=vF;var xb="@firebase/auth",wb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bF(t){La(new fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ge(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gI(t)},d=new zV(r,s,i,c);return YV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),La(new fo("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new wF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(xb,wb,_F(t)),Xs(xb,wb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=5*60,NF=Wj("authIdTokenMaxAge")||EF;let _b=null;const SF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NF)return;const s=n==null?void 0:n.token;_b!==s&&(_b=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TF(t=Jj()){const e=Kv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QV(t,{popupRedirectResolver:xF,persistence:[P5,v5,TI]}),r=Wj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=SF(i.toString());m5(n,a,()=>a(n.currentUser)),f5(n,l=>a(l))}}const s=Hj("auth");return s&&XV(n,`http://${s}`),n}function jF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",jF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bF("Browser");var IF="firebase",CF="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(IF,CF,"app");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,LI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function E(){}E.prototype=N.prototype,j.D=N.prototype,j.prototype=new E,j.prototype.constructor=j,j.C=function(I,k,C){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return N.prototype[k].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,N,E){E||(E=0);var I=Array(16);if(typeof N=="string")for(var k=0;16>k;++k)I[k]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(k=0;16>k;++k)I[k]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=j.g[0],E=j.g[1],k=j.g[2];var C=j.g[3],R=N+(C^E&(k^C))+I[0]+3614090360&4294967295;N=E+(R<<7&4294967295|R>>>25),R=C+(k^N&(E^k))+I[1]+3905402710&4294967295,C=N+(R<<12&4294967295|R>>>20),R=k+(E^C&(N^E))+I[2]+606105819&4294967295,k=C+(R<<17&4294967295|R>>>15),R=E+(N^k&(C^N))+I[3]+3250441966&4294967295,E=k+(R<<22&4294967295|R>>>10),R=N+(C^E&(k^C))+I[4]+4118548399&4294967295,N=E+(R<<7&4294967295|R>>>25),R=C+(k^N&(E^k))+I[5]+1200080426&4294967295,C=N+(R<<12&4294967295|R>>>20),R=k+(E^C&(N^E))+I[6]+2821735955&4294967295,k=C+(R<<17&4294967295|R>>>15),R=E+(N^k&(C^N))+I[7]+4249261313&4294967295,E=k+(R<<22&4294967295|R>>>10),R=N+(C^E&(k^C))+I[8]+1770035416&4294967295,N=E+(R<<7&4294967295|R>>>25),R=C+(k^N&(E^k))+I[9]+2336552879&4294967295,C=N+(R<<12&4294967295|R>>>20),R=k+(E^C&(N^E))+I[10]+4294925233&4294967295,k=C+(R<<17&4294967295|R>>>15),R=E+(N^k&(C^N))+I[11]+2304563134&4294967295,E=k+(R<<22&4294967295|R>>>10),R=N+(C^E&(k^C))+I[12]+1804603682&4294967295,N=E+(R<<7&4294967295|R>>>25),R=C+(k^N&(E^k))+I[13]+4254626195&4294967295,C=N+(R<<12&4294967295|R>>>20),R=k+(E^C&(N^E))+I[14]+2792965006&4294967295,k=C+(R<<17&4294967295|R>>>15),R=E+(N^k&(C^N))+I[15]+1236535329&4294967295,E=k+(R<<22&4294967295|R>>>10),R=N+(k^C&(E^k))+I[1]+4129170786&4294967295,N=E+(R<<5&4294967295|R>>>27),R=C+(E^k&(N^E))+I[6]+3225465664&4294967295,C=N+(R<<9&4294967295|R>>>23),R=k+(N^E&(C^N))+I[11]+643717713&4294967295,k=C+(R<<14&4294967295|R>>>18),R=E+(C^N&(k^C))+I[0]+3921069994&4294967295,E=k+(R<<20&4294967295|R>>>12),R=N+(k^C&(E^k))+I[5]+3593408605&4294967295,N=E+(R<<5&4294967295|R>>>27),R=C+(E^k&(N^E))+I[10]+38016083&4294967295,C=N+(R<<9&4294967295|R>>>23),R=k+(N^E&(C^N))+I[15]+3634488961&4294967295,k=C+(R<<14&4294967295|R>>>18),R=E+(C^N&(k^C))+I[4]+3889429448&4294967295,E=k+(R<<20&4294967295|R>>>12),R=N+(k^C&(E^k))+I[9]+568446438&4294967295,N=E+(R<<5&4294967295|R>>>27),R=C+(E^k&(N^E))+I[14]+3275163606&4294967295,C=N+(R<<9&4294967295|R>>>23),R=k+(N^E&(C^N))+I[3]+4107603335&4294967295,k=C+(R<<14&4294967295|R>>>18),R=E+(C^N&(k^C))+I[8]+1163531501&4294967295,E=k+(R<<20&4294967295|R>>>12),R=N+(k^C&(E^k))+I[13]+2850285829&4294967295,N=E+(R<<5&4294967295|R>>>27),R=C+(E^k&(N^E))+I[2]+4243563512&4294967295,C=N+(R<<9&4294967295|R>>>23),R=k+(N^E&(C^N))+I[7]+1735328473&4294967295,k=C+(R<<14&4294967295|R>>>18),R=E+(C^N&(k^C))+I[12]+2368359562&4294967295,E=k+(R<<20&4294967295|R>>>12),R=N+(E^k^C)+I[5]+4294588738&4294967295,N=E+(R<<4&4294967295|R>>>28),R=C+(N^E^k)+I[8]+2272392833&4294967295,C=N+(R<<11&4294967295|R>>>21),R=k+(C^N^E)+I[11]+1839030562&4294967295,k=C+(R<<16&4294967295|R>>>16),R=E+(k^C^N)+I[14]+4259657740&4294967295,E=k+(R<<23&4294967295|R>>>9),R=N+(E^k^C)+I[1]+2763975236&4294967295,N=E+(R<<4&4294967295|R>>>28),R=C+(N^E^k)+I[4]+1272893353&4294967295,C=N+(R<<11&4294967295|R>>>21),R=k+(C^N^E)+I[7]+4139469664&4294967295,k=C+(R<<16&4294967295|R>>>16),R=E+(k^C^N)+I[10]+3200236656&4294967295,E=k+(R<<23&4294967295|R>>>9),R=N+(E^k^C)+I[13]+681279174&4294967295,N=E+(R<<4&4294967295|R>>>28),R=C+(N^E^k)+I[0]+3936430074&4294967295,C=N+(R<<11&4294967295|R>>>21),R=k+(C^N^E)+I[3]+3572445317&4294967295,k=C+(R<<16&4294967295|R>>>16),R=E+(k^C^N)+I[6]+76029189&4294967295,E=k+(R<<23&4294967295|R>>>9),R=N+(E^k^C)+I[9]+3654602809&4294967295,N=E+(R<<4&4294967295|R>>>28),R=C+(N^E^k)+I[12]+3873151461&4294967295,C=N+(R<<11&4294967295|R>>>21),R=k+(C^N^E)+I[15]+530742520&4294967295,k=C+(R<<16&4294967295|R>>>16),R=E+(k^C^N)+I[2]+3299628645&4294967295,E=k+(R<<23&4294967295|R>>>9),R=N+(k^(E|~C))+I[0]+4096336452&4294967295,N=E+(R<<6&4294967295|R>>>26),R=C+(E^(N|~k))+I[7]+1126891415&4294967295,C=N+(R<<10&4294967295|R>>>22),R=k+(N^(C|~E))+I[14]+2878612391&4294967295,k=C+(R<<15&4294967295|R>>>17),R=E+(C^(k|~N))+I[5]+4237533241&4294967295,E=k+(R<<21&4294967295|R>>>11),R=N+(k^(E|~C))+I[12]+1700485571&4294967295,N=E+(R<<6&4294967295|R>>>26),R=C+(E^(N|~k))+I[3]+2399980690&4294967295,C=N+(R<<10&4294967295|R>>>22),R=k+(N^(C|~E))+I[10]+4293915773&4294967295,k=C+(R<<15&4294967295|R>>>17),R=E+(C^(k|~N))+I[1]+2240044497&4294967295,E=k+(R<<21&4294967295|R>>>11),R=N+(k^(E|~C))+I[8]+1873313359&4294967295,N=E+(R<<6&4294967295|R>>>26),R=C+(E^(N|~k))+I[15]+4264355552&4294967295,C=N+(R<<10&4294967295|R>>>22),R=k+(N^(C|~E))+I[6]+2734768916&4294967295,k=C+(R<<15&4294967295|R>>>17),R=E+(C^(k|~N))+I[13]+1309151649&4294967295,E=k+(R<<21&4294967295|R>>>11),R=N+(k^(E|~C))+I[4]+4149444226&4294967295,N=E+(R<<6&4294967295|R>>>26),R=C+(E^(N|~k))+I[11]+3174756917&4294967295,C=N+(R<<10&4294967295|R>>>22),R=k+(N^(C|~E))+I[2]+718787259&4294967295,k=C+(R<<15&4294967295|R>>>17),R=E+(C^(k|~N))+I[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+C&4294967295}r.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var E=N-this.blockSize,I=this.B,k=this.h,C=0;C<N;){if(k==0)for(;C<=E;)s(this,j,C),C+=this.blockSize;if(typeof j=="string"){for(;C<N;)if(I[k++]=j.charCodeAt(C++),k==this.blockSize){s(this,I),k=0;break}}else for(;C<N;)if(I[k++]=j[C++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=N},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var E=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=E&255,E/=256;for(this.u(j),j=Array(16),N=E=0;4>N;++N)for(var I=0;32>I;I+=8)j[E++]=this.g[N]>>>I&255;return j};function i(j,N){var E=l;return Object.prototype.hasOwnProperty.call(E,j)?E[j]:E[j]=N(j)}function a(j,N){this.h=N;for(var E=[],I=!0,k=j.length-1;0<=k;k--){var C=j[k]|0;I&&C==N||(E[k]=C,I=!1)}this.g=E}var l={};function c(j){return-128<=j&&128>j?i(j,function(N){return new a([N|0],0>N?-1:0)}):new a([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return f;if(0>j)return _(d(-j));for(var N=[],E=1,I=0;j>=E;I++)N[I]=j/E|0,E*=4294967296;return new a(N,0)}function h(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return _(h(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(N,8)),I=f,k=0;k<j.length;k+=8){var C=Math.min(8,j.length-k),R=parseInt(j.substring(k,k+C),N);8>C?(C=d(Math.pow(N,C)),I=I.j(C).add(d(R))):(I=I.j(E),I=I.add(d(R)))}return I}var f=c(0),m=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-_(this).m();for(var j=0,N=1,E=0;E<this.g.length;E++){var I=this.i(E);j+=(0<=I?I:4294967296+I)*N,N*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(T(this))return"0";if(v(this))return"-"+_(this).toString(j);for(var N=d(Math.pow(j,6)),E=this,I="";;){var k=A(E,N).g;E=b(E,k.j(N));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(j);if(E=k,T(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function T(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=b(this,j),v(j)?-1:T(j)?0:1};function _(j){for(var N=j.g.length,E=[],I=0;I<N;I++)E[I]=~j.g[I];return new a(E,~j.h).add(m)}t.abs=function(){return v(this)?_(this):this},t.add=function(j){for(var N=Math.max(this.g.length,j.g.length),E=[],I=0,k=0;k<=N;k++){var C=I+(this.i(k)&65535)+(j.i(k)&65535),R=(C>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);I=R>>>16,C&=65535,R&=65535,E[k]=R<<16|C}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(j,N){return j.add(_(N))}t.j=function(j){if(T(this)||T(j))return f;if(v(this))return v(j)?_(this).j(_(j)):_(_(this).j(j));if(v(j))return _(this.j(_(j)));if(0>this.l(x)&&0>j.l(x))return d(this.m()*j.m());for(var N=this.g.length+j.g.length,E=[],I=0;I<2*N;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<j.g.length;k++){var C=this.i(I)>>>16,R=this.i(I)&65535,V=j.i(k)>>>16,Y=j.i(k)&65535;E[2*I+2*k]+=R*Y,y(E,2*I+2*k),E[2*I+2*k+1]+=C*Y,y(E,2*I+2*k+1),E[2*I+2*k+1]+=R*V,y(E,2*I+2*k+1),E[2*I+2*k+2]+=C*V,y(E,2*I+2*k+2)}for(I=0;I<N;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=N;I<2*N;I++)E[I]=0;return new a(E,0)};function y(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function S(j,N){this.g=j,this.h=N}function A(j,N){if(T(N))throw Error("division by zero");if(T(j))return new S(f,f);if(v(j))return N=A(_(j),N),new S(_(N.g),_(N.h));if(v(N))return N=A(j,_(N)),new S(_(N.g),N.h);if(30<j.g.length){if(v(j)||v(N))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=N;0>=I.l(j);)E=O(E),I=O(I);var k=M(E,1),C=M(I,1);for(I=M(I,2),E=M(E,2);!T(I);){var R=C.add(I);0>=R.l(j)&&(k=k.add(E),C=R),I=M(I,1),E=M(E,1)}return N=b(j,k.j(N)),new S(k,N)}for(k=f;0<=j.l(N);){for(E=Math.max(1,Math.floor(j.m()/N.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=d(E),R=C.j(N);v(R)||0<R.l(j);)E-=I,C=d(E),R=C.j(N);T(C)&&(C=m),k=k.add(C),j=b(j,R)}return new S(k,j)}t.A=function(j){return A(this,j).h},t.and=function(j){for(var N=Math.max(this.g.length,j.g.length),E=[],I=0;I<N;I++)E[I]=this.i(I)&j.i(I);return new a(E,this.h&j.h)},t.or=function(j){for(var N=Math.max(this.g.length,j.g.length),E=[],I=0;I<N;I++)E[I]=this.i(I)|j.i(I);return new a(E,this.h|j.h)},t.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),E=[],I=0;I<N;I++)E[I]=this.i(I)^j.i(I);return new a(E,this.h^j.h)};function O(j){for(var N=j.g.length+1,E=[],I=0;I<N;I++)E[I]=j.i(I)<<1|j.i(I-1)>>>31;return new a(E,j.h)}function M(j,N){var E=N>>5;N%=32;for(var I=j.g.length-E,k=[],C=0;C<I;C++)k[C]=0<N?j.i(C+E)>>>N|j.i(C+E+1)<<32-N:j.i(C+E);return new a(k,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,Js=a}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,ql,FI,Md,Kg,zI,UI,$I;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,w){return u==Array.prototype||u==Object.prototype||(u[p]=w.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var p=0;p<u.length;++p){var w=u[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var w=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var L=u[P];if(!(L in w))break e;w=w[L]}u=u[u.length-1],P=w[u],p=p(P),p!=P&&p!=null&&e(w,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var w=0,P=!1,L={next:function(){if(!P&&w<u.length){var z=w++;return{value:p(z,u[z]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,w){return u.call.apply(u.bind,arguments)}function f(u,p,w){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function m(u,p,w){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function x(u,p){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function T(u,p){function w(){}w.prototype=p.prototype,u.aa=p.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(P,L,z){for(var Q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Q[qe-2]=arguments[qe];return p.prototype[L].apply(P,Q)}}function v(u){const p=u.length;if(0<p){const w=Array(p);for(let P=0;P<p;P++)w[P]=u[P];return w}return[]}function _(u,p){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(c(P)){const L=u.length||0,z=P.length||0;u.length=L+z;for(let Q=0;Q<z;Q++)u[L+Q]=P[Q]}else u.push(P)}}class b{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function S(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(u,p,w){for(const P in u)p.call(w,u[P],P,u)}function j(u,p){for(const w in u)p.call(void 0,u[w],w,u)}function N(u){const p={};for(const w in u)p[w]=u[w];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let w,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(w in P)u[w]=P[w];for(let z=0;z<E.length;z++)w=E[z],Object.prototype.hasOwnProperty.call(P,w)&&(u[w]=P[w])}}function k(u){var p=1;u=u.split(":");const w=[];for(;0<p&&u.length;)w.push(u.shift()),p--;return u.length&&w.push(u.join(":")),w}function C(u){l.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,w){const P=Y.get();P.set(p,w),this.h?this.h.next=P:this.g=P,this.h=P}}var Y=new b(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let J,F=!1,K=new V,ne=()=>{const u=l.Promise.resolve(void 0);J=()=>{u.then(le)}};var le=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(w){C(w)}var p=Y;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};l.addEventListener("test",w,p),l.removeEventListener("test",w,p)}catch{}return u}();function W(u,p){if(ze.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(O){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else w=="mouseover"?p=u.fromElement:w=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:H[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&W.aa.h.call(this)}}T(W,ze);var H={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Te=0;function He(u,p,w,P,L){this.listener=u,this.proxy=null,this.src=p,this.type=w,this.capture=!!P,this.ha=L,this.key=++Te,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,p,w,P,L){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var Q=de(u,p,P,L);return-1<Q?(p=u[Q],w||(p.fa=!1)):(p=new He(p,this.src,z,!!P,L),p.fa=w,u.push(p)),p};function ae(u,p){var w=p.type;if(w in u.g){var P=u.g[w],L=Array.prototype.indexOf.call(P,p,void 0),z;(z=0<=L)&&Array.prototype.splice.call(P,L,1),z&&(Pe(p),u.g[w].length==0&&(delete u.g[w],u.h--))}}function de(u,p,w,P){for(var L=0;L<u.length;++L){var z=u[L];if(!z.da&&z.listener==p&&z.capture==!!w&&z.ha==P)return L}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),wn={};function X(u,p,w,P,L){if(Array.isArray(p)){for(var z=0;z<p.length;z++)X(u,p[z],w,P,L);return null}return w=Xx(w),u&&u[ee]?u.K(p,w,d(P)?!!P.capture:!!P,L):Me(u,p,w,!1,P,L)}function Me(u,p,w,P,L,z){if(!p)throw Error("Invalid event type");var Q=d(L)?!!L.capture:!!L,qe=cr(u);if(qe||(u[Ge]=qe=new Ee(u)),w=qe.add(p,w,P,Q,z),w.proxy)return w;if(P=Xt(),w.proxy=P,P.src=u,P.listener=w,u.addEventListener)ot||(L=Q),L===void 0&&(L=!1),u.addEventListener(p.toString(),P,L);else if(u.attachEvent)u.attachEvent(bo(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Xt(){function u(w){return p.call(u.src,u.listener,w)}const p=Qf;return u}function kr(u,p,w,P,L){if(Array.isArray(p))for(var z=0;z<p.length;z++)kr(u,p[z],w,P,L);else P=d(P)?!!P.capture:!!P,w=Xx(w),u&&u[ee]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],w=de(z,w,P,L),-1<w&&(Pe(z[w]),Array.prototype.splice.call(z,w,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=cr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=de(p,w,P,L)),(w=-1<u?p[u]:null)&&_u(w))}function _u(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])ae(p.i,u);else{var w=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(w,P,u.capture):p.detachEvent?p.detachEvent(bo(w),P):p.addListener&&p.removeListener&&p.removeListener(P),(w=cr(p))?(ae(w,u),w.h==0&&(w.src=null,p[Ge]=null)):Pe(u)}}}function bo(u){return u in wn?wn[u]:wn[u]="on"+u}function Qf(u,p){if(u.da)u=!0;else{p=new W(p,this);var w=u.listener,P=u.ha||u.src;u.fa&&_u(u),u=w.call(P,p)}return u}function cr(u){return u=u[Ge],u instanceof Ee?u:null}var Yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xx(u){return typeof u=="function"?u:(u[Yf]||(u[Yf]=function(p){return u.handleEvent(p)}),u[Yf])}function Ot(){Ce.call(this),this.i=new Ee(this),this.M=this,this.F=null}T(Ot,Ce),Ot.prototype[ee]=!0,Ot.prototype.removeEventListener=function(u,p,w,P){kr(this,u,p,w,P)};function Jt(u,p){var w,P=u.F;if(P)for(w=[];P;P=P.F)w.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new ze(p,u);else if(p instanceof ze)p.target=p.target||u;else{var L=p;p=new ze(P,u),I(p,L)}if(L=!0,w)for(var z=w.length-1;0<=z;z--){var Q=p.g=w[z];L=bu(Q,P,!0,p)&&L}if(Q=p.g=u,L=bu(Q,P,!0,p)&&L,L=bu(Q,P,!1,p)&&L,w)for(z=0;z<w.length;z++)Q=p.g=w[z],L=bu(Q,P,!1,p)&&L}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var w=u.g[p],P=0;P<w.length;P++)Pe(w[P]);delete u.g[p],u.h--}}this.F=null},Ot.prototype.K=function(u,p,w,P){return this.i.add(String(u),p,!1,w,P)},Ot.prototype.L=function(u,p,w,P){return this.i.add(String(u),p,!0,w,P)};function bu(u,p,w,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,z=0;z<p.length;++z){var Q=p[z];if(Q&&!Q.da&&Q.capture==w){var qe=Q.listener,St=Q.ha||Q.src;Q.fa&&ae(u.i,Q),L=qe.call(St,P)!==!1&&L}}return L&&!P.defaultPrevented}function Jx(u,p,w){if(typeof u=="function")w&&(u=m(u,w));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function Zx(u){u.g=Jx(()=>{u.g=null,u.i&&(u.i=!1,Zx(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class NP extends Ce{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Zx(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(u){Ce.call(this),this.h=u,this.g={}}T(ul,Ce);var e0=[];function t0(u){M(u.g,function(p,w){this.g.hasOwnProperty(w)&&_u(p)},u),u.g={}}ul.prototype.N=function(){ul.aa.N.call(this),t0(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=l.JSON.stringify,SP=l.JSON.parse,TP=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Jf(){}Jf.prototype.h=null;function n0(u){return u.h||(u.h=u.i())}function r0(){}var dl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zf(){ze.call(this,"d")}T(Zf,ze);function em(){ze.call(this,"c")}T(em,ze);var Ti={},s0=null;function Eu(){return s0=s0||new Ot}Ti.La="serverreachability";function i0(u){ze.call(this,Ti.La,u)}T(i0,ze);function hl(u){const p=Eu();Jt(p,new i0(p))}Ti.STAT_EVENT="statevent";function o0(u,p){ze.call(this,Ti.STAT_EVENT,u),this.stat=p}T(o0,ze);function Zt(u){const p=Eu();Jt(p,new o0(p,u))}Ti.Ma="timingevent";function a0(u,p){ze.call(this,Ti.Ma,u),this.size=p}T(a0,ze);function fl(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function ml(){this.g=!0}ml.prototype.xa=function(){this.g=!1};function jP(u,p,w,P,L,z){u.info(function(){if(u.g)if(z)for(var Q="",qe=z.split("&"),St=0;St<qe.length;St++){var Fe=qe[St].split("=");if(1<Fe.length){var Dt=Fe[0];Fe=Fe[1];var Mt=Dt.split("_");Q=2<=Mt.length&&Mt[1]=="type"?Q+(Dt+"="+Fe+"&"):Q+(Dt+"=redacted&")}}else Q=null;else Q=z;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+p+`
`+w+`
`+Q})}function IP(u,p,w,P,L,z,Q){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+p+`
`+w+`
`+z+" "+Q})}function Eo(u,p,w,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+PP(u,w)+(P?" "+P:"")})}function CP(u,p){u.info(function(){return"TIMEOUT: "+p})}ml.prototype.info=function(){};function PP(u,p){if(!u.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var P=w[u];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Q=1;Q<L.length;Q++)L[Q]=""}}}}return Xf(w)}catch{return p}}var Nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},l0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tm;function Su(){}T(Su,Jf),Su.prototype.g=function(){return new XMLHttpRequest},Su.prototype.i=function(){return{}},tm=new Su;function us(u,p,w,P){this.j=u,this.i=p,this.l=w,this.R=P||1,this.U=new ul(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c0}function c0(){this.i=null,this.g="",this.h=!1}var u0={},nm={};function rm(u,p,w){u.L=1,u.v=Cu(Or(p)),u.m=w,u.P=!0,d0(u,null)}function d0(u,p){u.F=Date.now(),Tu(u),u.A=Or(u.v);var w=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),S0(w.i,"t",P),u.C=0,w=u.j.J,u.h=new c0,u.g=B0(u.j,w?p:null,!u.m),0<u.O&&(u.M=new NP(m(u.Y,u,u.g),u.O)),p=u.U,w=u.g,P=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(e0[0]=L.toString()),L=e0);for(var z=0;z<L.length;z++){var Q=X(w,L[z],P||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=u.H?N(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),hl(),jP(u.i,u.u,u.A,u.l,u.R,u.m)}us.prototype.ca=function(u){u=u.target;const p=this.M;p&&Dr(u)==3?p.j():this.Y(u)},us.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=Dr(this.g);var p=this.g.Ba();const To=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||A0(this.g)))){this.J||Mt!=4||p==7||(p==8||0>=To?hl(3):hl(2)),sm(this);var w=this.g.Z();this.X=w;t:if(h0(this)){var P=A0(this.g);u="";var L=P.length,z=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),pl(this);var Q="";break t}this.h.i=new l.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(z&&p==L-1)});P.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=w==200,IP(this.i,this.u,this.A,this.l,this.R,Mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,St=this.g;if((qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(qe)){var Fe=qe;break t}}Fe=null}if(w=Fe)Eo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,im(this,w);else{this.o=!1,this.s=3,Zt(12),ji(this),pl(this);break e}}if(this.P){w=!0;let Wn;for(;!this.J&&this.C<Q.length;)if(Wn=RP(this,Q),Wn==nm){Mt==4&&(this.s=4,Zt(14),w=!1),Eo(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==u0){this.s=4,Zt(15),Eo(this.i,this.l,Q,"[Invalid Chunk]"),w=!1;break}else Eo(this.i,this.l,Wn,null),im(this,Wn);if(h0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||Q.length!=0||this.h.h||(this.s=1,Zt(16),w=!1),this.o=this.o&&w,!w)Eo(this.i,this.l,Q,"[Invalid Chunked Response]"),ji(this),pl(this);else if(0<Q.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),dm(Dt),Dt.M=!0,Zt(11))}}else Eo(this.i,this.l,Q,null),im(this,Q);Mt==4&&ji(this),this.o&&!this.J&&(Mt==4?F0(this.j,this):(this.o=!1,Tu(this)))}else GP(this.g),w==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),ji(this),pl(this)}}}catch{}finally{}};function h0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function RP(u,p){var w=u.C,P=p.indexOf(`
`,w);return P==-1?nm:(w=Number(p.substring(w,P)),isNaN(w)?u0:(P+=1,P+w>p.length?nm:(p=p.slice(P,P+w),u.C=P+w,p)))}us.prototype.cancel=function(){this.J=!0,ji(this)};function Tu(u){u.S=Date.now()+u.I,f0(u,u.I)}function f0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fl(m(u.ba,u),p)}function sm(u){u.B&&(l.clearTimeout(u.B),u.B=null)}us.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(CP(this.i,this.A),this.L!=2&&(hl(),Zt(17)),ji(this),this.s=2,pl(this)):f0(this,this.S-u)};function pl(u){u.j.G==0||u.J||F0(u.j,u)}function ji(u){sm(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,t0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function im(u,p){try{var w=u.j;if(w.G!=0&&(w.g==u||om(w.h,u))){if(!u.K&&om(w.h,u)&&w.G==3){try{var P=w.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Du(w),ku(w);else break e;um(w),Zt(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=fl(m(w.Za,w),6e3));if(1>=g0(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ci(w,11)}else if((u.K||w.g==u)&&Du(w),!y(p))for(L=w.Da.g.parse(p),p=0;p<L.length;p++){let Fe=L[p];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Dt=Fe[3];Dt!=null&&(w.la=Dt,w.j.info("VER="+w.la));const Mt=Fe[4];Mt!=null&&(w.Aa=Mt,w.j.info("SVER="+w.Aa));const To=Fe[5];To!=null&&typeof To=="number"&&0<To&&(P=1.5*To,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const Wn=u.g;if(Wn){const Lu=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var z=P.h;z.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(am(z,z.h),z.h=null))}if(P.D){const hm=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(P.ya=hm,Qe(P.I,P.D,hm))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var Q=u;if(P.qa=$0(P,P.J?P.ia:null,P.W),Q.K){y0(P.h,Q);var qe=Q,St=P.L;St&&(qe.I=St),qe.B&&(sm(qe),Tu(qe)),P.g=Q}else L0(P);0<w.i.length&&Ou(w)}else Fe[0]!="stop"&&Fe[0]!="close"||Ci(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ci(w,7):cm(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}hl(4)}catch{}}var AP=class{constructor(u,p){this.g=u,this.map=p}};function m0(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function g0(u){return u.h?1:u.g?u.g.size:0}function om(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function am(u,p){u.g?u.g.add(p):u.h=p}function y0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}m0.prototype.cancel=function(){if(this.i=v0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function v0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const w of u.g.values())p=p.concat(w.D);return p}return v(u.i)}function kP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],w=u.length,P=0;P<w;P++)p.push(u[P]);return p}p=[],w=0;for(P in u)p[w++]=u[P];return p}function OP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var w=0;w<u;w++)p.push(w);return p}p=[],w=0;for(const P in u)p[w++]=P;return p}}}function x0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var w=OP(u),P=kP(u),L=P.length,z=0;z<L;z++)p.call(void 0,P[z],w&&w[z],u)}var w0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DP(u,p){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var P=u[w].indexOf("="),L=null;if(0<=P){var z=u[w].substring(0,P);L=u[w].substring(P+1)}else z=u[w];p(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ii(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ii){this.h=u.h,ju(this,u.j),this.o=u.o,this.g=u.g,Iu(this,u.s),this.l=u.l;var p=u.i,w=new vl;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),_0(this,w),this.m=u.m}else u&&(p=String(u).match(w0))?(this.h=!1,ju(this,p[1]||"",!0),this.o=gl(p[2]||""),this.g=gl(p[3]||"",!0),Iu(this,p[4]),this.l=gl(p[5]||"",!0),_0(this,p[6]||"",!0),this.m=gl(p[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}Ii.prototype.toString=function(){var u=[],p=this.j;p&&u.push(yl(p,b0,!0),":");var w=this.g;return(w||p=="file")&&(u.push("//"),(p=this.o)&&u.push(yl(p,b0,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(yl(w,w.charAt(0)=="/"?VP:LP,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",yl(w,zP)),u.join("")};function Or(u){return new Ii(u)}function ju(u,p,w){u.j=w?gl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Iu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function _0(u,p,w){p instanceof vl?(u.i=p,UP(u.i,u.h)):(w||(p=yl(p,FP)),u.i=new vl(p,u.h))}function Qe(u,p,w){u.i.set(p,w)}function Cu(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yl(u,p,w){return typeof u=="string"?(u=encodeURI(u).replace(p,MP),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function MP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var b0=/[#\/\?@]/g,LP=/[#\?:]/g,VP=/[#\?]/g,FP=/[#\?@]/g,zP=/#/g;function vl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ds(u){u.g||(u.g=new Map,u.h=0,u.i&&DP(u.i,function(p,w){u.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=vl.prototype,t.add=function(u,p){ds(this),this.i=null,u=No(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(p),this.h+=1,this};function E0(u,p){ds(u),p=No(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function N0(u,p){return ds(u),p=No(u,p),u.g.has(p)}t.forEach=function(u,p){ds(this),this.g.forEach(function(w,P){w.forEach(function(L){u.call(p,L,P,this)},this)},this)},t.na=function(){ds(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let P=0;P<p.length;P++){const L=u[P];for(let z=0;z<L.length;z++)w.push(p[P])}return w},t.V=function(u){ds(this);let p=[];if(typeof u=="string")N0(this,u)&&(p=p.concat(this.g.get(No(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)p=p.concat(u[w])}return p},t.set=function(u,p){return ds(this),this.i=null,u=No(this,u),N0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function S0(u,p,w){E0(u,p),0<w.length&&(u.i=null,u.g.set(No(u,p),v(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var P=p[w];const z=encodeURIComponent(String(P)),Q=this.V(P);for(P=0;P<Q.length;P++){var L=z;Q[P]!==""&&(L+="="+encodeURIComponent(String(Q[P]))),u.push(L)}}return this.i=u.join("&")};function No(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function UP(u,p){p&&!u.j&&(ds(u),u.i=null,u.g.forEach(function(w,P){var L=P.toLowerCase();P!=L&&(E0(this,P),S0(this,L,w))},u)),u.j=p}function $P(u,p){const w=new ml;if(l.Image){const P=new Image;P.onload=x(hs,w,"TestLoadImage: loaded",!0,p,P),P.onerror=x(hs,w,"TestLoadImage: error",!1,p,P),P.onabort=x(hs,w,"TestLoadImage: abort",!1,p,P),P.ontimeout=x(hs,w,"TestLoadImage: timeout",!1,p,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function BP(u,p){const w=new ml,P=new AbortController,L=setTimeout(()=>{P.abort(),hs(w,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(z=>{clearTimeout(L),z.ok?hs(w,"TestPingServer: ok",!0,p):hs(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),hs(w,"TestPingServer: error",!1,p)})}function hs(u,p,w,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(w)}catch{}}function HP(){this.g=new TP}function qP(u,p,w){const P=w||"";try{x0(u,function(L,z){let Q=L;d(L)&&(Q=Xf(L)),p.push(P+z+"="+encodeURIComponent(Q))})}catch(L){throw p.push(P+"type="+encodeURIComponent("_badmap")),L}}function Pu(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Pu,Jf),Pu.prototype.g=function(){return new Ru(this.l,this.j)},Pu.prototype.i=function(u){return function(){return u}}({});function Ru(u,p){Ot.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ru,Ot),t=Ru.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,wl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function T0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?xl(this):wl(this),this.readyState==3&&T0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,xl(this))},t.Qa=function(u){this.g&&(this.response=u,xl(this))},t.ga=function(){this.g&&xl(this)};function xl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wl(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=p.next();return u.join(`\r
`)};function wl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function j0(u){let p="";return M(u,function(w,P){p+=P,p+=":",p+=w,p+=`\r
`}),p}function lm(u,p,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=j0(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):Qe(u,p,w))}function at(u){Ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(at,Ot);var WP=/^https?$/i,KP=["POST","PUT"];t=at.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tm.g(),this.v=this.o?n0(this.o):n0(tm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){I0(this,z);return}if(u=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)w.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const z of P.keys())w.set(z,P.get(z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(z=>z.toLowerCase()=="content-type"),L=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(KP,p,void 0))||P||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Q]of w)this.g.setRequestHeader(z,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R0(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){I0(this,z)}};function I0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,C0(u),Au(u)}function C0(u){u.A||(u.A=!0,Jt(u,"complete"),Jt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Jt(this,"complete"),Jt(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P0(this):this.bb())},t.bb=function(){P0(this)};function P0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Dr(u)!=4||u.Z()!=2)){if(u.u&&Dr(u)==4)Jx(u.Ea,0,u);else if(Jt(u,"readystatechange"),Dr(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var P;if(P=Q===0){var L=String(u.D).match(w0)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),P=!WP.test(L?L.toLowerCase():"")}w=P}if(w)Jt(u,"complete"),Jt(u,"success");else{u.m=6;try{var z=2<Dr(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",C0(u)}}finally{Au(u)}}}}function Au(u,p){if(u.g){R0(u);const w=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Jt(u,"ready");try{w.onreadystatechange=P}catch{}}}function R0(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Dr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),SP(p)}};function A0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function GP(u){const p={};u=(u.g&&2<=Dr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(y(u[P]))continue;var w=k(u[P]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const z=p[L]||[];p[L]=z,z.push(w)}j(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _l(u,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||p}function k0(u){this.Aa=0,this.i=[],this.j=new ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_l("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_l("baseRetryDelayMs",5e3,u),this.cb=_l("retryDelaySeedMs",1e4,u),this.Wa=_l("forwardChannelMaxRetries",2,u),this.wa=_l("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new m0(u&&u.concurrentRequestLimit),this.Da=new HP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=k0.prototype,t.la=8,t.G=1,t.connect=function(u,p,w,P){Zt(0),this.W=u,this.H=p||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=$0(this,null,this.W),Ou(this)};function cm(u){if(O0(u),u.G==3){var p=u.U++,w=Or(u.I);if(Qe(w,"SID",u.K),Qe(w,"RID",p),Qe(w,"TYPE","terminate"),bl(u,w),p=new us(u,u.j,p),p.L=2,p.v=Cu(Or(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&l.Image&&(new Image().src=p.v,w=!0),w||(p.g=B0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Tu(p)}U0(u)}function ku(u){u.g&&(dm(u),u.g.cancel(),u.g=null)}function O0(u){ku(u),u.u&&(l.clearTimeout(u.u),u.u=null),Du(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Ou(u){if(!p0(u.h)&&!u.s){u.s=!0;var p=u.Ga;J||ne(),F||(J(),F=!0),K.add(p,u),u.B=0}}function QP(u,p){return g0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fl(m(u.Ga,u,p),z0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new us(this,this.j,u);let z=this.o;if(this.S&&(z?(z=N(z),I(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=M0(this,L,p),w=Or(this.I),Qe(w,"RID",u),Qe(w,"CVER",22),this.D&&Qe(w,"X-HTTP-Session-Id",this.D),bl(this,w),z&&(this.O?p="headers="+encodeURIComponent(String(j0(z)))+"&"+p:this.m&&lm(w,this.m,z)),am(this.h,L),this.Ua&&Qe(w,"TYPE","init"),this.P?(Qe(w,"$req",p),Qe(w,"SID","null"),L.T=!0,rm(L,w,null)):rm(L,w,p),this.G=2}}else this.G==3&&(u?D0(this,u):this.i.length==0||p0(this.h)||D0(this))};function D0(u,p){var w;p?w=p.l:w=u.U++;const P=Or(u.I);Qe(P,"SID",u.K),Qe(P,"RID",w),Qe(P,"AID",u.T),bl(u,P),u.m&&u.o&&lm(P,u.m,u.o),w=new us(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),p&&(u.i=p.D.concat(u.i)),p=M0(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),am(u.h,w),rm(w,P,p)}function bl(u,p){u.H&&M(u.H,function(w,P){Qe(p,P,w)}),u.l&&x0({},function(w,P){Qe(p,P,w)})}function M0(u,p,w){w=Math.min(u.i.length,w);var P=u.l?m(u.l.Na,u.l,u):null;e:{var L=u.i;let z=-1;for(;;){const Q=["count="+w];z==-1?0<w?(z=L[0].g,Q.push("ofs="+z)):z=0:Q.push("ofs="+z);let qe=!0;for(let St=0;St<w;St++){let Fe=L[St].g;const Dt=L[St].map;if(Fe-=z,0>Fe)z=Math.max(0,L[St].g-100),qe=!1;else try{qP(Dt,Q,"req"+Fe+"_")}catch{P&&P(Dt)}}if(qe){P=Q.join("&");break e}}}return u=u.i.splice(0,w),p.D=u,P}function L0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;J||ne(),F||(J(),F=!0),K.add(p,u),u.v=0}}function um(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fl(m(u.Fa,u),z0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,V0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fl(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),ku(this),V0(this))};function dm(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function V0(u){u.g=new us(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Or(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),bl(u,p),u.m&&u.o&&lm(p,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Cu(Or(p)),w.m=null,w.P=!0,d0(w,u)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),um(this),Zt(19))};function Du(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function F0(u,p){var w=null;if(u.g==p){Du(u),dm(u),u.g=null;var P=2}else if(om(u.h,p))w=p.D,y0(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;P=Eu(),Jt(P,new a0(P,w)),Ou(u)}else L0(u);else if(L=p.s,L==3||L==0&&0<p.X||!(P==1&&QP(u,p)||P==2&&um(u)))switch(w&&0<w.length&&(p=u.h,p.i=p.i.concat(w)),L){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function z0(u,p){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*p}function Ci(u,p){if(u.j.info("Error code "+p),p==2){var w=m(u.fb,u),P=u.Xa;const L=!P;P=new Ii(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ju(P,"https"),Cu(P),L?$P(P.toString(),w):BP(P.toString(),w)}else Zt(2);u.G=0,u.l&&u.l.sa(p),U0(u),O0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function U0(u){if(u.G=0,u.ka=[],u.l){const p=v0(u.h);(p.length!=0||u.i.length!=0)&&(_(u.ka,p),_(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function $0(u,p,w){var P=w instanceof Ii?Or(w):new Ii(w);if(P.g!="")p&&(P.g=p+"."+P.g),Iu(P,P.s);else{var L=l.location;P=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var z=new Ii(null);P&&ju(z,P),p&&(z.g=p),L&&Iu(z,L),w&&(z.l=w),P=z}return w=u.D,p=u.ya,w&&p&&Qe(P,w,p),Qe(P,"VER",u.la),bl(u,P),P}function B0(u,p,w){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new at(new Pu({eb:w})):new at(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H0(){}t=H0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mu(){}Mu.prototype.g=function(u,p){return new _n(u,p)};function _n(u,p){Ot.call(this),this.g=new k0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new So(this)}T(_n,Ot),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){cm(this.g)},_n.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=Xf(u),u=w);p.i.push(new AP(p.Ya++,u)),p.G==3&&Ou(p)},_n.prototype.N=function(){this.g.l=null,delete this.j,cm(this.g),delete this.g,_n.aa.N.call(this)};function q0(u){Zf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const w in p){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}T(q0,Zf);function W0(){em.call(this),this.status=1}T(W0,em);function So(u){this.g=u}T(So,H0),So.prototype.ua=function(){Jt(this.g,"a")},So.prototype.ta=function(u){Jt(this.g,new q0(u))},So.prototype.sa=function(u){Jt(this.g,new W0)},So.prototype.ra=function(){Jt(this.g,"b")},Mu.prototype.createWebChannel=Mu.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$I=function(){return new Mu},UI=function(){return Eu()},zI=Ti,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,Md=Nu,l0.COMPLETE="complete",FI=l0,r0.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,ql=r0,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,VI=at}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore",Nb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new qv("@firebase/firestore");function Ao(){return go.logLevel}function te(t,...e){if(go.logLevel<=Ae.DEBUG){const n=e.map(sx);go.debug(`Firestore (${il}): ${t}`,...n)}}function is(t,...e){if(go.logLevel<=Ae.ERROR){const n=e.map(sx);go.error(`Firestore (${il}): ${t}`,...n)}}function Va(t,...e){if(go.logLevel<=Ae.WARN){const n=e.map(sx);go.warn(`Firestore (${il}): ${t}`,...n)}}function sx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,BI(t,r,n)}function BI(t,e,n){let r=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function $e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||BI(e,s,r)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class RF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AF{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zs,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new HI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class kF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=MF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Gg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ie(r,s);{const i=qI(),a=LF(i.encode(Tb(t,n)),i.encode(Tb(e,n)));return a!==0?a:Ie(r,s)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function Tb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function Fa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,Ib=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ib);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jb)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new xt(0,0))}static max(){return new xe(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__name__";class hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=hr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=hr.isNumericId(e),s=hr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Gg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Je extends hr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const VF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends hr{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return VF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cb}static keyField(){return new Pt([Cb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Je.fromString(e))}static fromName(e){return new ce(Je.fromString(e).popFirst(5))}static empty(){return new ce(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=-1;function FF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new ci(s,ce.empty(),e)}function zF(t){return new ci(t.readTime,t.key,Lc)}class ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ci(xe.min(),ce.empty(),Lc)}static max(){return new ci(xe.max(),ce.empty(),Lc)}}function UF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==$F)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=-1;function jf(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function qF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="";function WF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pb(e)),e=KF(t.get(n),e);return Pb(e)}function KF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case KI:n+="";break;default:n+=i}}return n}function Pb(t){return t+KI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??It.EMPTY,this.right=i??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return It.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ab(this.data.getIterator())}getIteratorFrom(e){return new Ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new wt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QI("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const GF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=GF.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="server_timestamp",XI="__type__",JI="__previous_value__",ZI="__local_write_time__";function ox(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XI])===null||n===void 0?void 0:n.stringValue)===YI}function If(t){const e=t.mapValue.fields[JI];return ox(e)?If(e):e}function Vc(t){const e=ui(t.mapValue.fields[ZI].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,s,i,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Rh="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__type__",tC="__max__",fd={mapValue:{fields:{__type__:{stringValue:tC}}}},nC="__vector__",Ah="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ox(t)?4:XF(t)?9007199254740991:YF(t)?10:11:ye(28295,{value:t})}function Pr(t,e){if(t===e)return!0;const n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vc(t).isEqual(Vc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=ui(s.timestampValue),l=ui(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return di(s.bytesValue).isEqual(di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ut(s.geoPointValue.latitude)===ut(i.geoPointValue.latitude)&&ut(s.geoPointValue.longitude)===ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ut(s.integerValue)===ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=ut(s.doubleValue),l=ut(i.doubleValue);return a===l?Ph(a)===Ph(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Rb(a)!==Rb(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Pr(a[c],l[c])))return!1;return!0}(t,e);default:return ye(52216,{left:t})}}function zc(t,e){return(t.values||[]).find(n=>Pr(n,e))!==void 0}function za(t,e){if(t===e)return 0;const n=hi(t),r=hi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=ut(i.integerValue||i.doubleValue),c=ut(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(Vc(t),Vc(e));case 5:return Gg(t.stringValue,e.stringValue);case 6:return function(i,a){const l=di(i),c=di(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=Ie(l[d],c[d]);if(h!==0)return h}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ie(ut(i.latitude),ut(a.latitude));return l!==0?l:Ie(ut(i.longitude),ut(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ob(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,h;const f=i.fields||{},m=a.fields||{},x=(l=f[Ah])===null||l===void 0?void 0:l.arrayValue,T=(c=m[Ah])===null||c===void 0?void 0:c.arrayValue,v=Ie(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:Ob(x,T)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===fd.mapValue&&a===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(a===fd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Gg(c[f],h[f]);if(m!==0)return m;const x=za(l[c[f]],d[h[f]]);if(x!==0)return x}return Ie(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ye(23264,{Pe:n})}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ui(t),r=ui(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function Ob(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=za(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Ua(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Qg(n.fields[a])}`;return s+"}"}(t.mapValue):ye(61005,{value:t})}function Ld(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=If(t);return e?16+Ld(e):16;case 5:return 2*t.stringValue.length;case 6:return di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ld(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ei(r.fields,(i,a)=>{s+=i.length+Ld(a)}),s}(t.mapValue);default:throw ye(13486,{value:t})}}function Db(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yg(t){return!!t&&"integerValue"in t}function ax(t){return!!t&&"arrayValue"in t}function Mb(t){return!!t&&"nullValue"in t}function Lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function YF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eC])===null||n===void 0?void 0:n.stringValue)===nC}function lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=Pt.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=lc(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(lc(this.value))}}function rC(t){const e=[];return Ei(t.fields,(n,r)=>{const s=new Pt([n]);if(Vd(r)){const i=rC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qt(e,0,xe.min(),xe.min(),xe.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,xe.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,xe.min(),xe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,xe.min(),xe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function Vb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(a.referenceValue),n.key):r=za(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n="asc"){this.field=e,this.dir=n}}function JF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{}class pt extends sC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ez(e,n,r):n==="array-contains"?new rz(e,r):n==="in"?new sz(e,r):n==="not-in"?new iz(e,r):n==="array-contains-any"?new oz(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tz(e,r):new nz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(za(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends sC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new or(e,n)}matches(e){return iC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iC(t){return t.op==="and"}function oC(t){return ZF(t)&&iC(t)}function ZF(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Xg(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(oC(t))return t.filters.map(e=>Xg(e)).join(",");{const e=t.filters.map(n=>Xg(n)).join(",");return`${t.op}(${e})`}}function aC(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Pr(r.value,s.value)}(t,e):t instanceof or?function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&aC(a,s.filters[l]),!0):!1}(t,e):void ye(19439)}function lC(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(lC).join(" ,")+"}"}(t):"Filter"}class ez extends pt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class tz extends pt{constructor(e,n){super(e,"in",n),this.keys=cC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nz extends pt{constructor(e,n){super(e,"not-in",n),this.keys=cC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class rz extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ax(n)&&zc(n.arrayValue,this.value)}}class sz extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class iz extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zc(this.value.arrayValue,n)}}class oz extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function zb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new az(t,e,n,r,s,i,a)}function lx(t){const e=we(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.Ie=n}return e.Ie}function cx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fb(t.startAt,e.startAt)&&Fb(t.endAt,e.endAt)}function Jg(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lz(t,e,n,r,s,i,a,l){return new ll(t,e,n,r,s,i,a,l)}function ux(t){return new ll(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uC(t){return t.collectionGroup!==null}function cc(t){const e=we(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new wt(Pt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Uc(i,r))}),n.has(Pt.keyField().canonicalString())||e.Ee.push(new Uc(Pt.keyField(),r))}return e.Ee}function Tr(t){const e=we(t);return e.de||(e.de=cz(e,cc(t))),e.de}function cz(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Uc(s.field,i)});const n=t.endAt?new kh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kh(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zg(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return cx(Tr(t),Tr(e))&&t.limitType===e.limitType}function dC(t){return`${lx(Tr(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lC(s)).join(", ")}]`),jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ua(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ua(s)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=Vb(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,cc(r),s)||r.endAt&&!function(a,l,c){const d=Vb(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,cc(r),s))}(t,e)}function uz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hC(t){return(e,n)=>{let r=!1;for(const s of cc(t)){const i=dz(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dz(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?za(c,d):ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return GI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new it(ce.comparator);function os(){return hz}const fC=new it(ce.comparator);function Wl(...t){let e=fC;for(const n of t)e=e.insert(n.key,n);return e}function mC(t){let e=fC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return uc()}function pC(){return uc()}function uc(){return new wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const fz=new it(ce.comparator),mz=new wt(ce.comparator);function ke(...t){let e=mz;for(const n of t)e=e.add(n);return e}const pz=new wt(Ie);function gz(){return pz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function gC(t){return{integerValue:""+t}}function yz(t,e){return qF(e)?gC(e):dx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function vz(t,e,n){return t instanceof $c?function(s,i){const a={fields:{[XI]:{stringValue:YI},[ZI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ox(i)&&(i=If(i)),i&&(a.fields[JI]=i),{mapValue:a}}(n,e):t instanceof Bc?vC(t,e):t instanceof Hc?xC(t,e):function(s,i){const a=yC(s,i),l=$b(a)+$b(s.Re);return Yg(a)&&Yg(s.Re)?gC(l):dx(s.serializer,l)}(t,e)}function xz(t,e,n){return t instanceof Bc?vC(t,e):t instanceof Hc?xC(t,e):n}function yC(t,e){return t instanceof Oh?function(r){return Yg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class $c extends Rf{}class Bc extends Rf{constructor(e){super(),this.elements=e}}function vC(t,e){const n=wC(e);for(const r of t.elements)n.some(s=>Pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Hc extends Rf{constructor(e){super(),this.elements=e}}function xC(t,e){let n=wC(e);for(const r of t.elements)n=n.filter(s=>!Pr(s,r));return{arrayValue:{values:n}}}class Oh extends Rf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $b(t){return ut(t.integerValue||t.doubleValue)}function wC(t){return ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.field=e,this.transform=n}}function _z(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bc&&s instanceof Bc||r instanceof Hc&&s instanceof Hc?Fa(r.elements,s.elements,Pr):r instanceof Oh&&s instanceof Oh?Pr(r.Re,s.Re):r instanceof $c&&s instanceof $c}(t.transform,e.transform)}class bz{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Af{}function _C(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EC(t.key,jr.none()):new mu(t.key,t.data,jr.none());{const n=t.data,r=mn.empty();let s=new wt(Pt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ni(t.key,r,new jn(s.toArray()),jr.none())}}function Ez(t,e,n){t instanceof mu?function(s,i,a){const l=s.value.clone(),c=Hb(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(s,i,a){if(!Fd(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Hb(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(bC(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function dc(t,e,n,r){return t instanceof mu?function(i,a,l,c){if(!Fd(i.precondition,a))return l;const d=i.value.clone(),h=qb(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,a,l,c){if(!Fd(i.precondition,a))return l;const d=qb(i.fieldTransforms,c,a),h=a.data;return h.setAll(bC(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Fd(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Nz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=yC(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function Bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fa(r,s,(i,a)=>_z(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends Af{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ni extends Af{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hb(t,e,n){const r=new Map;$e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,xz(a,l,n[s]))}return r}function qb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,vz(i,a,e))}return r}class EC extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sz extends Af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Ez(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pC();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=_C(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>Bb(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>Bb(n,r))}}class hx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){$e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return fz}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new hx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,De;function Cz(t){switch(t){case B.OK:return ye(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ye(15467,{code:t})}}function NC(t){if(t===void 0)return is("GRPC error has no .code"),B.UNKNOWN;switch(t){case ht.OK:return B.OK;case ht.CANCELLED:return B.CANCELLED;case ht.UNKNOWN:return B.UNKNOWN;case ht.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ht.INTERNAL:return B.INTERNAL;case ht.UNAVAILABLE:return B.UNAVAILABLE;case ht.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ht.NOT_FOUND:return B.NOT_FOUND;case ht.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ht.ABORTED:return B.ABORTED;case ht.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ht.DATA_LOSS:return B.DATA_LOSS;default:return ye(39323,{code:t})}}(De=ht||(ht={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Js([4294967295,4294967295],0);function Wb(t){const e=qI().encode(t),n=new LI;return n.update(e),new Uint8Array(n.digest())}function Kb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Js([n,r],0),new Js([s,i],0)]}class fx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Js.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Js.fromNumber(r)));return s.compare(Pz)===1&&(s=new Js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Wb(e),[r,s]=Kb(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new fx(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=Wb(e),[r,s]=Kb(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kf(xe.min(),s,new it(Ie),os(),ke())}}class pu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class SC{constructor(e,n){this.targetId=e,this.Ce=n}}class TC{constructor(e,n,r=kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Gb{constructor(){this.Fe=0,this.Me=Qb(),this.xe=kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),r=ke();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye(38017,{changeType:i})}}),new pu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Qb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Rz{constructor(e){this.ze=e,this.je=new Map,this.He=os(),this.Je=md(),this.Ye=md(),this.Ze=new it(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Jg(i))if(r===0){const a=new ce(i.path);this.tt(n,a,qt.newNoDocument(a,xe.min()))}else $e(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=di(r).toUint8Array()}catch(c){if(c instanceof QI)return Va("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new fx(a,s,i)}catch(c){return Va(c instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Jg(l.target)){const c=new ce(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,qt.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=ke();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new kf(e,n,this.Ze,this.He,r);return this.He=os(),this.Je=md(),this.Ye=md(),this.Ze=new it(Ie),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Gb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new wt(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new wt(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Gb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function md(){return new it(ce.comparator)}function Qb(){return new it(ce.comparator)}const Az={asc:"ASCENDING",desc:"DESCENDING"},kz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oz={and:"AND",or:"OR"};class Dz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ty(t,e){return t.useProto3Json||jf(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mz(t,e){return Dh(t,e.toTimestamp())}function Ir(t){return $e(!!t,49232),xe.fromTimestamp(function(n){const r=ui(n);return new xt(r.seconds,r.nanos)}(t))}function mx(t,e){return ny(t,e).canonicalString()}function ny(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IC(t){const e=Je.fromString(t);return $e(kC(e),10190,{key:e.toString()}),e}function ry(t,e){return mx(t.databaseId,e.path)}function op(t,e){const n=IC(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(PC(n))}function CC(t,e){return mx(t.databaseId,e)}function Lz(t){const e=IC(t);return e.length===4?Je.emptyPath():PC(e)}function sy(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PC(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yb(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function Vz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ye(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?($e(h===void 0||typeof h=="string",58123),kt.fromBase64String(h||"")):($e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?B.UNKNOWN:NC(d.code);return new se(h,d.message||"")}(a);n=new TC(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=op(t,r.document.name),i=Ir(r.document.updateTime),a=r.document.createTime?Ir(r.document.createTime):xe.min(),l=new mn({mapValue:{fields:r.document.fields}}),c=qt.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new zd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=op(t,r.document),i=r.readTime?Ir(r.readTime):xe.min(),a=qt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new zd([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=op(t,r.document),i=r.removedTargetIds||[];n=new zd([],i,s,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new Iz(s,i),l=r.targetId;n=new SC(l,a)}}return n}function Fz(t,e){let n;if(e instanceof mu)n={update:Yb(t,e.key,e.value)};else if(e instanceof EC)n={delete:ry(t,e.key)};else if(e instanceof Ni)n={update:Yb(t,e.key,e.data),updateMask:Gz(e.fieldMask)};else{if(!(e instanceof Sz))return ye(16599,{ft:e.type});n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof $c)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Bc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Oh)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw ye(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Mz(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye(27497)}(t,e.precondition)),n}function zz(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Ir(s.updateTime):Ir(i);return a.isEqual(xe.min())&&(a=Ir(i)),new bz(a,s.transformResults||[])}(n,e))):[]}function Uz(t,e){return{documents:[CC(t,e.path)]}}function $z(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CC(t,s);const i=function(d){if(d.length!==0)return AC(or.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Oo(m.field),direction:qz(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ty(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function Bz(t){let e=Lz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){$e(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=RC(f);return m instanceof or&&oC(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(T){return new Uc(Do(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,jf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,x=f.values||[];return new kh(x,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,x=f.values||[];return new kh(x,m)}(n.endAt)),lz(e,s,a,i,l,"F",c,d)}function Hz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Do(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Do(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Do(n.unaryFilter.field);return pt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Do(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>RC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(t):ye(30097,{filter:t})}function qz(t){return Az[t]}function Wz(t){return kz[t]}function Kz(t){return Oz[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function Do(t){return Pt.fromServerFormat(t.fieldPath)}function AC(t){return t instanceof pt?function(n){if(n.op==="=="){if(Lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(Mb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(Mb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:Wz(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(s=>AC(s));return r.length===1?r[0]:{compositeFilter:{op:Kz(n.op),filters:r}}}(t):ye(54877,{filter:t})}function Gz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,s,i=xe.min(),a=xe.min(),l=kt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.wt=e}}function Yz(t){const e=Bz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.Cn=new Jz}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ci.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class Jz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OC=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(OC,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new $a(0)}static lr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LruGarbageCollector",Zz=1048576;function Zb([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class e9{constructor(e){this.Er=e,this.buffer=new wt(Zb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){te(Jb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?te(Jb,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.mr(3e5)})}}class n9{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Tf.le);const r=new e9(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Xb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Ao()<=Ae.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function r9(t,e){return new n9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.changes=new wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dc(r.mutation,s,jn.empty(),xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=Li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Wl();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=os();const a=uc(),l=function(){return uc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ni)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),dc(h.mutation,d,h.mutation.getFieldMask(),xt.now())):a.set(d.key,jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new i9(h,(f=a.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=uc();let s=new it((a,l)=>a-l),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||jn.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||ke()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=pC();h.forEach(m=>{if(!i.has(m)){const x=_C(n.get(m),r.get(m));x!==null&&f.set(m,x),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Li());let l=Lc,c=i;return a.next(d=>$.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ke())).next(h=>({batchId:l,changes:mC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=Wl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Wl();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,c=>{const d=function(f,m){return new ll(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,qt.newInvalidDocument(h)))});let l=Wl();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&dc(h.mutation,d,jn.empty(),xt.now()),Pf(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return $.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:Yz(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.overlays=new it(ce.comparator),this.Qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Li(),i=n.length+1,a=new ce(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Li(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Li(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return $.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new jz(n,r));let i=this.Qr.get(n);i===void 0&&(i=ke(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.$r=new wt(_t.Ur),this.Kr=new wt(_t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new _t(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new _t(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ce(new Je([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ce(new Je([])),r=new _t(n,e),s=new _t(n,e+1);let i=ke();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new _t(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ce.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new wt(_t.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Tz(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new _t(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ix:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ie);return n.forEach(s=>{const i=new _t(s,0),a=new _t(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const a=new _t(new ce(i),0);let l=new wt(Ie);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Zr)),!0)},a),$.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new _t(n,0),s=this.Xr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.ii=e,this.docs=function(){return new it(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=os();const a=n.path,l=new ce(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||UF(zF(h),r)<=0||(s.has(h.key)||Pf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye(9500)}si(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h9(this)}getSize(e){return $.resolve(this.size)}}class h9 extends s9{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.persistence=e,this.oi=new wo(n=>lx(n),cx),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this._i=0,this.ai=new px,this.targetCount=0,this.ui=$a.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),$.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new $a(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Tr(n),$.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.ci={},this.overlays={},this.li=new Tf(0),this.hi=!1,this.hi=!0,this.Pi=new c9,this.referenceDelegate=e(this),this.Ti=new f9(this),this.indexManager=new Xz,this.remoteDocumentCache=function(s){return new d9(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Qz(n),this.Ei=new a9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new u9(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new m9(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class m9 extends BF{constructor(e){super(),this.currentSequenceNumber=e}}class gx{constructor(e){this.persistence=e,this.Vi=new px,this.mi=null}static fi(e){return new gx(e)}get gi(){if(this.mi)return this.mi;throw ye(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const s=ce.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,xe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return $.or([()=>$.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.yi=new wo(r=>WF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=r9(this,n)}static fi(e,n){return new Mh(e,n)}di(){}Ai(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return $.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,xe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),$.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ld(e.data.value)),n}Dr(e,n,r){return $.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new yx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Q3()?8:HF(Qt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new p9;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ao()<=Ae.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(Ao()<=Ae.DEBUG&&te("QueryEngine","Query:",ko(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ao()<=Ae.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):$.resolve())}ws(e,n){if(Ub(n))return $.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ey(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ke(...i);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,a,c.readTime)?this.ws(e,ey(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,s){return Ub(n)||s.isEqual(xe.min())?$.resolve(null):this.ys.getDocuments(e,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?$.resolve(null):(Ao()<=Ae.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ko(n)),this.Fs(e,a,n,FF(s,Lc)).next(l=>l))})}vs(e,n){let r=new wt(hC(e));return n.forEach((s,i)=>{Pf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ao()<=Ae.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ys.getDocumentsMatchingQuery(e,n,ci.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="LocalStore",y9=3e8;class v9{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new it(Ie),this.Os=new wo(i=>lx(i),cx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function x9(t,e,n,r){return new v9(t,e,n,r)}async function MC(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ke();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:l}))})})}function w9(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let x=$.resolve();return m.forEach(T=>{x=x.next(()=>h.getEntry(c,T)).next(v=>{const _=d.docVersions.get(T);$e(_!==null,48541),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ke();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LC(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function _9(t,e){const n=we(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,f)));let x=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(kt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(f,x),function(v,_,b){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=y9?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,x,h)&&l.push(n.Ti.updateTargetData(i,x))});let c=os(),d=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(b9(i,a,e.documentUpdates).next(h=>{c=h.qs,d=h.Qs})),!r.isEqual(xe.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return $.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.xs=s,i))}function b9(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=os();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):te(vx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function E9(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ix),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function N9(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new Vs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function iy(t,e,n){const r=we(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!al(a))throw a;te(vx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function e1(t,e,n){const r=we(t);let s=xe.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=we(c),m=f.Os.get(h);return m!==void 0?$.resolve(f.xs.get(m)):f.Ti.getTargetData(d,h)}(r,a,Tr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,e,n?s:xe.min(),n?i:ke())).next(l=>(S9(r,uz(e),l),{documents:l,$s:i})))}function S9(t,e,n){let r=t.Ns.get(e)||xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class t1{constructor(){this.activeTargetIds=gz()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T9{constructor(){this.xo=new t1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new t1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="ConnectivityMonitor";class r1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){te(n1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){te(n1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function oy(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C9{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const a=oy(),l=this.jo(e,n.toUriEncodedString());te(ap,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:d}=new URL(l),h=nl(d);return this.Jo(e,l,c,r,h).then(f=>(te(ap,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Va(ap,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Yo(e,n,r,s,i,a){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=I9[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class R9 extends C9{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=oy();return new Promise((l,c)=>{const d=new VI;d.setWithCredentials(!0),d.listenOnce(FI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Md.NO_ERROR:const f=d.getResponseJson();te(Ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Md.TIMEOUT:te(Ft,`RPC '${e}' ${a} timed out`),c(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:const m=d.getStatus();if(te(Ft,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x==null?void 0:x.error;if(T&&T.status&&T.message){const v=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(T.status);c(new se(v,T.message))}else c(new se(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new se(B.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{te(Ft,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);te(Ft,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}I_(e,n,r){const s=oy(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$I(),l=UI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");te(Ft,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.E_(f);let m=!1,x=!1;const T=new P9({Zo:_=>{x?te(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(te(Ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),te(Ft,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Xo:()=>f.close()}),v=(_,b,y)=>{_.listen(b,S=>{try{y(S)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,ql.EventType.OPEN,()=>{x||(te(Ft,`RPC '${e}' stream ${s} transport opened.`),T.__())}),v(f,ql.EventType.CLOSE,()=>{x||(x=!0,te(Ft,`RPC '${e}' stream ${s} transport closed`),T.u_(),this.d_(f))}),v(f,ql.EventType.ERROR,_=>{x||(x=!0,Va(Ft,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.u_(new se(B.UNAVAILABLE,"The operation could not be completed")))}),v(f,ql.EventType.MESSAGE,_=>{var b;if(!x){const y=_.data[0];$e(!!y,16349);const S=y,A=(S==null?void 0:S.error)||((b=S[0])===null||b===void 0?void 0:b.error);if(A){te(Ft,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let M=function(E){const I=ht[E];if(I!==void 0)return NC(I)}(O),j=A.message;M===void 0&&(M=B.INTERNAL,j="Unknown error status: "+O+" with message "+A.message),x=!0,T.u_(new se(M,j)),f.close()}else te(Ft,`RPC '${e}' stream ${s} received:`,y),T.c_(y)}}),v(l,zI.STAT_EVENT,_=>{_.stat===Kg.PROXY?te(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Kg.NOPROXY&&te(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new Dz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="PersistentStream";class FC{constructor(e,n,r,s,i,a,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new VC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return te(s1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(te(s1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A9 extends FC{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Vz(this.serializer,e),r=function(i){if(!("targetChange"in i))return xe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?Ir(a.readTime):xe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Jg(c)?{documents:Uz(i,c)}:{query:$z(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=jC(i,a.resumeToken);const d=ty(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(xe.min())>0){l.readTime=Dh(i,a.snapshotVersion.toTimestamp());const d=ty(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=Hz(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.Q_(n)}}class k9 extends FC{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=zz(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=sy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fz(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{}class D9 extends O9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(e,ny(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,ny(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(B.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class M9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(is(n),this.ua=!1):te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class L9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{_o(this)&&(te(yo,"Restarting streams for network reachability change."),await async function(c){const d=we(c);d.da.add(4),await gu(d),d.Va.set("Unknown"),d.da.delete(4),await Df(d)}(this))})}),this.Va=new M9(r,s)}}async function Df(t){if(_o(t))for(const e of t.Aa)await e(!0)}async function gu(t){for(const e of t.Aa)await e(!1)}function zC(t,e){const n=we(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),bx(n)?_x(n):cl(n).N_()&&wx(n,e))}function xx(t,e){const n=we(t),r=cl(n);n.Ea.delete(e),r.N_()&&UC(n,e),n.Ea.size===0&&(r.N_()?r.k_():_o(n)&&n.Va.set("Unknown"))}function wx(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).Z_(e)}function UC(t,e){t.ma.Ke(e),cl(t).X_(e)}function _x(t){t.ma=new Rz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.Va.ca()}function bx(t){return _o(t)&&!cl(t).O_()&&t.Ea.size>0}function _o(t){return we(t).da.size===0}function $C(t){t.ma=void 0}async function V9(t){t.Va.set("Online")}async function F9(t){t.Ea.forEach((e,n)=>{wx(t,e)})}async function z9(t,e){$C(t),bx(t)?(t.Va.Pa(e),_x(t)):t.Va.set("Unknown")}async function U9(t,e,n){if(t.Va.set("Online"),e instanceof TC&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){te(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(t,r)}else if(e instanceof zd?t.ma.Xe(e):e instanceof SC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(xe.min()))try{const r=await LC(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ea.get(d);h&&i.Ea.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.Ea.get(c);if(!h)return;i.Ea.set(c,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),UC(i,c);const f=new Vs(h.target,c,d,h.sequenceNumber);wx(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){te(yo,"Failed to raise snapshot:",r),await Lh(t,r)}}async function Lh(t,e,n){if(!al(e))throw e;t.da.add(1),await gu(t),t.Va.set("Offline"),n||(n=()=>LC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(yo,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Df(t)})}function BC(t,e){return e().catch(n=>Lh(t,n,e))}async function Mf(t){const e=we(t),n=fi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ix;for(;$9(e);)try{const s=await E9(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,B9(e,s)}catch(s){await Lh(e,s)}HC(e)&&qC(e)}function $9(t){return _o(t)&&t.Ia.length<10}function B9(t,e){t.Ia.push(e);const n=fi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function HC(t){return _o(t)&&!fi(t).O_()&&t.Ia.length>0}function qC(t){fi(t).start()}async function H9(t){fi(t).ia()}async function q9(t){const e=fi(t);for(const n of t.Ia)e.ta(n.mutations)}async function W9(t,e,n){const r=t.Ia.shift(),s=hx.from(r,e,n);await BC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mf(t)}async function K9(t,e){e&&fi(t).ea&&await async function(r,s){if(function(a){return Cz(a)&&a!==B.ABORTED}(s.code)){const i=r.Ia.shift();fi(r).L_(),await BC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mf(r)}}(t,e),HC(t)&&qC(t)}async function i1(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),te(yo,"RemoteStore received new credentials");const r=_o(n);n.da.add(3),await gu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Df(n)}async function G9(t,e){const n=we(t);e?(n.da.delete(2),await Df(n)):e||(n.da.add(2),await gu(n),n.Va.set("Unknown"))}function cl(t){return t.fa||(t.fa=function(n,r,s){const i=we(n);return i.oa(),new A9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:V9.bind(null,t),n_:F9.bind(null,t),i_:z9.bind(null,t),Y_:U9.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),bx(t)?_x(t):t.Va.set("Unknown")):(await t.fa.stop(),$C(t))})),t.fa}function fi(t){return t.ga||(t.ga=function(n,r,s){const i=we(n);return i.oa(),new k9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:H9.bind(null,t),i_:K9.bind(null,t),na:q9.bind(null,t),ra:W9.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Mf(t)):(await t.ga.stop(),t.Ia.length>0&&(te(yo,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Ex(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nx(t,e){if(is("AsyncQueue",`${e}: ${t}`),al(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.pa=new it(ce.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ba{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ba(e,n,ca.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Y9{constructor(){this.queries=a1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=we(n),i=s.queries;s.queries=a1(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new se(B.ABORTED,"Firestore shutting down"))}}function a1(){return new wo(t=>dC(t),Cf)}async function WC(t,e){const n=we(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new Q9,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Nx(a,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&Sx(n)}async function KC(t,e){const n=we(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X9(t,e){const n=we(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&Sx(n)}function J9(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sx(t){t.Ca.forEach(e=>{e.next()})}var ay,l1;(l1=ay||(ay={})).xa="default",l1.Cache="cache";class GC{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.key=e}}class YC{constructor(e){this.key=e}}class Z9{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.Za=hC(e),this.Xa=new ca(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new o1,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),x=Pf(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),v=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let _=!1;m&&x?m.data.isEqual(x.data)?T!==v&&(r.track({type:3,doc:x}),_=!0):this.ru(m,x)||(r.track({type:2,doc:x}),_=!0,(c&&this.Za(x,c)>0||d&&this.Za(x,d)<0)&&(l=!0)):!m&&x?(r.track({type:0,doc:x}),_=!0):m&&!x&&(r.track({type:1,doc:m}),_=!0,(c||d)&&(l=!0)),_&&(x?(a=a.add(x),i=v?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((h,f)=>function(x,T){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:_})}};return v(x)-v(T)}(h.type,f.type)||this.Za(h.doc,f.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,d=c!==this.Ja;return this.Ja=c,a.length!==0||d?{snapshot:new Ba(this.query,e.Xa,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new o1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new YC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new QC(r))}),n}au(e){this.Ha=e.$s,this.Ya=ke();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Ba.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tx="SyncEngine";class eU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tU{constructor(e){this.key=e,this.cu=!1}}class nU{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new wo(l=>dC(l),Cf),this.Pu=new Map,this.Tu=new Set,this.Iu=new it(ce.comparator),this.Eu=new Map,this.du=new px,this.Au={},this.Ru=new Map,this.Vu=$a.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rU(t,e,n=!0){const r=n2(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await XC(r,e,n,!0),s}async function sU(t,e){const n=n2(t);await XC(n,e,!0,!1)}async function XC(t,e,n,r){const s=await N9(t.localStore,Tr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await iU(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&zC(t.remoteStore,s),l}async function iU(t,e,n,r,s){t.fu=(f,m,x)=>async function(v,_,b,y){let S=_.view.tu(b);S.Cs&&(S=await e1(v.localStore,_.query,!1).then(({documents:j})=>_.view.tu(j,S)));const A=y&&y.targetChanges.get(_.targetId),O=y&&y.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(S,v.isPrimaryClient,A,O);return u1(v,_.targetId,M.ou),M.snapshot}(t,f,m,x);const i=await e1(t.localStore,e,!0),a=new Z9(e,i.$s),l=a.tu(i.documents),c=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);u1(t,n,d.ou);const h=new eU(e,n,a);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function oU(t,e,n){const r=we(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!Cf(a,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await iy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xx(r.remoteStore,s.targetId),ly(r,s.targetId)}).catch(ol)):(ly(r,s.targetId),await iy(r.localStore,s.targetId,!0))}async function aU(t,e){const n=we(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xx(n.remoteStore,r.targetId))}async function lU(t,e,n){const r=pU(t);try{const s=await function(a,l){const c=we(a),d=xt.now(),h=l.reduce((x,T)=>x.add(T.key),ke());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let T=os(),v=ke();return c.Bs.getEntries(x,h).next(_=>{T=_,T.forEach((b,y)=>{y.isValidDocument()||(v=v.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,T)).next(_=>{f=_;const b=[];for(const y of l){const S=Nz(y,f.get(y.key).overlayedDocument);S!=null&&b.push(new Ni(y.key,S,rC(S.value.mapValue),jr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,b,l)}).next(_=>{m=_;const b=_.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(x,_.batchId,b)})}).then(()=>({batchId:m.batchId,changes:mC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Au[a.currentUser.toKey()];d||(d=new it(Ie)),d=d.insert(l,c),a.Au[a.currentUser.toKey()]=d}(r,s.batchId,n),await yu(r,s.changes),await Mf(r.remoteStore)}catch(s){const i=Nx(s,"Failed to persist write");n.reject(i)}}async function JC(t,e){const n=we(t);try{const r=await _9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?$e(a.cu,14607):s.removedDocuments.size>0&&($e(a.cu,42227),a.cu=!1))}),await yu(n,r,e)}catch(r){await ol(r)}}function c1(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=we(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.Fa(l)&&(d=!0)}),d&&Sx(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cU(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new it(ce.comparator);a=a.insert(i,qt.newNoDocument(i,xe.min()));const l=ke().add(i),c=new kf(xe.min(),new Map,new it(Ie),a,l);await JC(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),jx(r)}else await iy(r.localStore,e,!1).then(()=>ly(r,e,n)).catch(ol)}async function uU(t,e){const n=we(t),r=e.batch.batchId;try{const s=await w9(n.localStore,e);e2(n,r,null),ZC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,s)}catch(s){await ol(s)}}async function dU(t,e,n){const r=we(t);try{const s=await function(a,l){const c=we(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>($e(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);e2(r,e,n),ZC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,s)}catch(s){await ol(s)}}function ZC(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function e2(t,e,n){const r=we(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||t2(t,r)})}function t2(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(xx(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),jx(t))}function u1(t,e,n){for(const r of n)r instanceof QC?(t.du.addReference(r.key,e),hU(t,r)):r instanceof YC?(te(Tx,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||t2(t,r.key)):ye(19791,{pu:r})}function hU(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(te(Tx,"New document in limbo: "+n),t.Tu.add(r),jx(t))}function jx(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ce(Je.fromString(e)),r=t.Vu.next();t.Eu.set(r,new tU(n)),t.Iu=t.Iu.insert(n,r),zC(t.remoteStore,new Vs(Tr(ux(n.path)),r,"TargetPurposeLimboResolution",Tf.le))}}async function yu(t,e,n){const r=we(t),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=yx.Rs(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(c,d){const h=we(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,m=>$.forEach(m.ds,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>$.forEach(m.As,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!al(f))throw f;te(vx,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const x=h.xs.get(m),T=x.snapshotVersion,v=x.withLastLimboFreeSnapshotVersion(T);h.xs=h.xs.insert(m,v)}}}(r.localStore,i))}async function fU(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){te(Tx,"User change. New user:",e.toKey());const r=await MC(n.localStore,e);n.currentUser=e,function(i,a){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new se(B.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.ks)}}function mU(t,e){const n=we(t),r=n.Eu.get(e);if(r&&r.cu)return ke().add(r.key);{let s=ke();const i=n.Pu.get(e);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function n2(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cU.bind(null,e),e.lu.Y_=X9.bind(null,e.eventManager),e.lu.gu=J9.bind(null,e.eventManager),e}function pU(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dU.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return x9(this.persistence,new g9,e.initialUser,this.serializer)}Su(e){return new DC(gx.fi,this.serializer)}bu(e){return new T9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class gU extends Vh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){$e(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new t9(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new DC(r=>Mh.fi(r,n),this.serializer)}}class cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fU.bind(null,this.syncEngine),await G9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y9}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=function(i){return new R9(i)}(e.databaseInfo);return function(i,a,l,c){return new D9(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new L9(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>c1(this.syncEngine,n,0),function(){return r1.C()?new r1:new j9}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new nU(s,i,a,l,c,d);return h&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=we(s);te(yo,"RemoteStore shutting down."),i.da.add(5),await gu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class yU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=WI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{te(mi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(te(mi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),te(mi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vU(t);te(mi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>i1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>i1(e.remoteStore,s)),t._onlineComponents=e}async function vU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(mi,"Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new Vh)}}else te(mi,"Using default OfflineComponentProvider"),await cp(t,new gU(void 0));return t._offlineComponents}async function s2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(mi,"Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(te(mi,"Using default OnlineComponentProvider"),await d1(t,new cy))),t._onlineComponents}function xU(t){return s2(t).then(e=>e.syncEngine)}async function uy(t){const e=await s2(t),n=e.eventManager;return n.onListen=rU.bind(null,e.syncEngine),n.onUnlisten=oU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aU.bind(null,e.syncEngine),n}function wU(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new r2({next:m=>{h.xu(),a.enqueueAndForget(()=>KC(i,f)),m.fromCache&&c.source==="server"?d.reject(new se(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new GC(l,h,{includeMetadataChanges:!0,Qa:!0});return WC(i,f)}(await uy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _U(t,e,n,r){if(e===!0&&r===!0)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f1(t){if(!ce.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m1(t){if(ce.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye(12329,{type:typeof t})}function Qr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firestore.googleapis.com",p1=!0;class g1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a2,this.ssl=p1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zz)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_U("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PF;switch(r.type){case"firstParty":return new OF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h1.get(n);r&&(te("ComponentProvider","Removing Datastore"),h1.delete(n),r.terminate())}(this),Promise.resolve()}}function bU(t,e,n,r={}){var s;t=Qr(t,Vf);const i=nl(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Kj(`https://${c}`),Gj("Firestore",!0)),a.host!==a2&&a.host!==c&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!ho(d,l)&&(t._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Bt.MOCK_USER;else{h=z3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(m)}t._authCredentials=new RF(new HI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class ei extends Si{constructor(e,n,r){super(e,n,ux(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ce(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function EU(t,e,...n){if(t=Nt(t),o2("collection","path",e),t instanceof Vf){const r=Je.fromString(e,...n);return m1(r),new ei(t,null,r)}{if(!(t instanceof xn||t instanceof ei))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return m1(r),new ei(t.firestore,null,r)}}function l2(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=WI.newId()),o2("doc","path",e),t instanceof Vf){const r=Je.fromString(e,...n);return f1(r),new xn(t,null,new ce(r))}{if(!(t instanceof xn||t instanceof ei))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return f1(r),new xn(t.firestore,t instanceof ei?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="AsyncQueue";class v1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new VC(this,"async_queue_retry"),this.rc=()=>{const r=lp();r&&te(y1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Zs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!al(e))throw e;te(y1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,is("INTERNAL UNHANDLED ERROR: ",x1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Ex.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&ye(47125,{cc:x1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function x1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ha extends Vf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new v1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function NU(t,e){const n=typeof t=="object"?t:Jj(),r=typeof t=="string"?t:Rh,s=Kv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=V3("firestore");i&&bU(s,...i)}return s}function Ix(t){if(t._terminated)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SU(t),t._firestoreClient}function SU(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new QF(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,i2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new yU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(kt.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=/^__.*__$/;class jU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ic:t})}}class Rx{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Rx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Fh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(u2(this.Ic)&&TU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class IU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}bc(e,n,r,s=!1){return new Rx({Ic:e,methodName:n,wc:r,path:Pt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ax(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new IU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CU(t,e,n,r,s,i={}){const a=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Ox("Data must be an object, but it was:",a,r);const l=d2(r,a);let c,d;if(i.merge)c=new jn(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=dy(e,f,n);if(!a.contains(m))throw new se(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);f2(h,m)||h.push(m)}c=new jn(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new jU(new mn(l),c,d)}class Uf extends zf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}class kx extends zf{_toFieldTransform(e){return new wz(e.path,new $c)}isEqual(e){return e instanceof kx}}function PU(t,e,n,r){const s=t.bc(1,e,n);Ox("Data must be an object, but it was:",s,r);const i=[],a=mn.empty();Ei(r,(c,d)=>{const h=Dx(e,c,n);d=Nt(d);const f=s.mc(h);if(d instanceof Uf)i.push(h);else{const m=vu(d,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new jn(i);return new c2(a,l,s.fieldTransforms)}function RU(t,e,n,r,s,i){const a=t.bc(1,e,n),l=[dy(e,r,n)],c=[s];if(i.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(dy(e,i[m])),c.push(i[m+1]);const d=[],h=mn.empty();for(let m=l.length-1;m>=0;--m)if(!f2(d,l[m])){const x=l[m];let T=c[m];T=Nt(T);const v=a.mc(x);if(T instanceof Uf)d.push(x);else{const _=vu(T,v);_!=null&&(d.push(x),h.set(x,_))}}const f=new jn(d);return new c2(h,f,a.fieldTransforms)}function AU(t,e,n,r=!1){return vu(n,t.bc(r?4:3,e))}function vu(t,e){if(h2(t=Nt(t)))return Ox("Unsupported field value:",e,t),d2(t,e);if(t instanceof zf)return function(r,s){if(!u2(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=vu(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xt.fromDate(r);return{timestampValue:Dh(s.serializer,i)}}if(r instanceof xt){const i=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(s.serializer,i)}}if(r instanceof Cx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:jC(s.serializer,r._byteString)};if(r instanceof xn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Px)return function(a,l){return{mapValue:{fields:{[eC]:{stringValue:nC},[Ah]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return dx(l.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Lf(r)}`)}(t,e)}function d2(t,e){const n={};return GI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,s)=>{const i=vu(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function h2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof Cx||t instanceof qa||t instanceof xn||t instanceof zf||t instanceof Px)}function Ox(t,e,n){if(!h2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function dy(t,e,n){if((e=Nt(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return Dx(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const kU=new RegExp("[~\\*/\\[\\]]");function Dx(t,e,n){if(e.search(kU)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new se(B.INVALID_ARGUMENT,l+t+c)}function f2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($f("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OU extends m2{data(){return super.data()}}function $f(t,e){return typeof e=="string"?Dx(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mx{}class g2 extends Mx{}function Pi(t,e,...n){let r=[];e instanceof Mx&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Lx).length,l=i.filter(c=>c instanceof Bf).length;if(a>1||a>0&&l>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Bf extends g2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return y2(e._query,n),new Si(e.firestore,e.converter,Zg(e._query,n))}_parse(e){const n=Ax(e.firestore);return function(i,a,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){E1(f,h);const T=[];for(const v of f)T.push(b1(c,i,v));m={arrayValue:{values:T}}}else m=b1(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||E1(f,h),m=AU(l,a,f,h==="in"||h==="not-in");return pt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ro(t,e,n){const r=e,s=$f("where",t);return Bf._create(s,r,n)}class Lx extends Mx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)y2(a,c),a=Zg(a,c)}(e._query,n),new Si(e.firestore,e.converter,Zg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vx extends g2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Vx(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(i,a)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new ll(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function _1(t,e="asc"){const n=e,r=$f("orderBy",t);return Vx._create(r,n)}function b1(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uC(e)&&n.indexOf("/")!==-1)throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ce.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(t,new ce(r))}if(n instanceof xn)return Db(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lf(n)}.`)}function E1(t,e){if(!Array.isArray(t)||t.length===0)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y2(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DU{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>ut(a.doubleValue));return new Px(i)}convertGeoPoint(e){return new Cx(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=If(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const n=ui(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);$e(kC(r),9688,{name:e});const s=new Fc(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v2 extends m2{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($f("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ud extends v2{data(e={}){return super.data(e)}}class x2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ud(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Ud(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ud(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:LU(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:t})}}class Fx extends DU{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function Ol(t){t=Qr(t,Si);const e=Qr(t.firestore,Ha),n=Ix(e),r=new Fx(e);return p2(t._query),wU(n,t._query).then(s=>new x2(e,r,t,s))}function VU(t,e,n,...r){t=Qr(t,xn);const s=Qr(t.firestore,Ha),i=Ax(s);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Ff?RU(i,"updateDoc",t._key,e,n,r):PU(i,"updateDoc",t._key,e),w2(s,[a.toMutation(t._key,jr.exists(!0))])}function FU(t,e){const n=Qr(t.firestore,Ha),r=l2(t),s=MU(t.converter,e);return w2(n,[CU(Ax(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function N1(t,...e){var n,r,s;t=Nt(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||w1(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(w1(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof xn)d=Qr(t.firestore,Ha),h=ux(t._key.path),c={next:f=>{e[a]&&e[a](zU(d,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Qr(t,Si);d=Qr(f.firestore,Ha),h=f._query;const m=new Fx(d);c={next:x=>{e[a]&&e[a](new x2(d,m,f,x))},error:e[a+1],complete:e[a+2]},p2(t._query)}return function(m,x,T,v){const _=new r2(v),b=new GC(x,_,T);return m.asyncQueue.enqueueAndForget(async()=>WC(await uy(m),b)),()=>{_.xu(),m.asyncQueue.enqueueAndForget(async()=>KC(await uy(m),b))}}(Ix(d),h,l,c)}function w2(t,e){return function(r,s){const i=new Zs;return r.asyncQueue.enqueueAndForget(async()=>lU(await xU(r),s,i)),i.promise}(Ix(t),e)}function zU(t,e,n){const r=n.docs.get(e._key),s=new Fx(t);return new v2(t,s,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function up(){return new kx("serverTimestamp")}(function(e,n=!0){(function(s){il=s})(rl),La(new fo("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ha(new AF(r.getProvider("auth-internal")),new DF(a,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Xs(Eb,Nb,e),Xs(Eb,Nb,"esm2017")})();const UU={apiKey:void 0,authDomain:"undefined.firebaseapp.com",projectId:void 0,storageBucket:"undefined.firebasestorage.app",appId:void 0},_2=Xj(UU),$U=NU(_2),xu=TF(_2),b2=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0);return g.useEffect(()=>{const s=p5(xu,i=>{e(i),r(!1)});return()=>s()},[]),{user:t,loading:n}},BU=new Br,HU=async(t,e)=>{try{return{user:(await h5(xu,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},qU=async(t,e)=>{try{return{user:(await d5(xu,t,e)).user,error:null}}catch(n){return{user:null,error:n.message}}},WU=async()=>{try{await z5(xu,BU)}catch(t){throw t}},KU=async()=>{try{const t=await $5(xu);return t?{user:t.user,error:null}:{user:null,error:null}}catch(t){return{user:null,error:t.message}}},Ze=g.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ze.displayName="Input";var GU="Label",E2=g.forwardRef((t,e)=>o.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));E2.displayName=GU;var N2=E2;const QU=pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=g.forwardRef(({className:t,...e},n)=>o.jsx(N2,{ref:n,className:ve(QU(),t),...e}));Se.displayName=N2.displayName;var dp="rovingFocusGroup.onEntryFocus",YU={bubbles:!1,cancelable:!0},Hf="RovingFocusGroup",[hy,S2,XU]=XT(Hf),[JU,qf]=ar(Hf,[XU]),[ZU,e8]=JU(Hf),T2=g.forwardRef((t,e)=>o.jsx(hy.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(hy.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(t8,{...t,ref:e})})}));T2.displayName=Hf;var t8=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=g.useRef(null),x=Ve(e,m),T=ou(i),[v=null,_]=io({prop:a,defaultProp:l,onChange:c}),[b,y]=g.useState(!1),S=Ct(d),A=S2(n),O=g.useRef(!1),[M,j]=g.useState(0);return g.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(dp,S),()=>N.removeEventListener(dp,S)},[S]),o.jsx(ZU,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(N=>_(N),[_]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>j(N=>N-1),[]),children:o.jsx(_e.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{O.current=!0}),onFocus:ue(t.onFocus,N=>{const E=!O.current;if(N.target===N.currentTarget&&E&&!b){const I=new CustomEvent(dp,YU);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=A().filter(G=>G.focusable),C=k.find(G=>G.active),R=k.find(G=>G.id===v),Y=[C,R,...k].filter(Boolean).map(G=>G.ref.current);C2(Y,h)}}O.current=!1}),onBlur:ue(t.onBlur,()=>y(!1))})})}),j2="RovingFocusGroupItem",I2=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,l=Ks(),c=i||l,d=e8(j2,n),h=d.currentTabStopId===c,f=S2(n),{onFocusableItemAdd:m,onFocusableItemRemove:x}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),o.jsx(hy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(_e.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ue(t.onMouseDown,T=>{r?d.onItemFocus(c):T.preventDefault()}),onFocus:ue(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ue(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){d.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const v=s8(T,d.orientation,d.dir);if(v!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const y=b.indexOf(T.currentTarget);b=d.loop?i8(b,y+1):b.slice(y+1)}setTimeout(()=>C2(b))}})})})});I2.displayName=j2;var n8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function s8(t,e,n){const r=r8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n8[r]}function C2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function i8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var P2=T2,R2=I2,zx="Tabs",[o8,f7]=ar(zx,[qf]),A2=qf(),[a8,Ux]=o8(zx),k2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=ou(l),[f,m]=io({prop:r,onChange:s,defaultProp:i});return o.jsx(a8,{scope:n,baseId:Ks(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(_e.div,{dir:h,"data-orientation":a,...d,ref:e})})});k2.displayName=zx;var O2="TabsList",D2=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Ux(O2,n),a=A2(n);return o.jsx(P2,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});D2.displayName=O2;var M2="TabsTrigger",L2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Ux(M2,n),l=A2(n),c=z2(a.baseId,r),d=U2(a.baseId,r),h=r===a.value;return o.jsx(R2,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(_e.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ue(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ue(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});L2.displayName=M2;var V2="TabsContent",F2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Ux(V2,n),c=z2(l.baseId,r),d=U2(l.baseId,r),h=r===l.value,f=g.useRef(h);return g.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Hn,{present:s||h,children:({present:m})=>o.jsx(_e.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});F2.displayName=V2;function z2(t,e){return`${t}-trigger-${e}`}function U2(t,e){return`${t}-content-${e}`}var l8=k2,$2=D2,B2=L2,H2=F2;const Wf=l8,wu=g.forwardRef(({className:t,...e},n)=>o.jsx($2,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wu.displayName=$2.displayName;const sn=g.forwardRef(({className:t,...e},n)=>o.jsx(B2,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));sn.displayName=B2.displayName;const on=g.forwardRef(({className:t,...e},n)=>o.jsx(H2,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));on.displayName=H2.displayName;function S1({isOpen:t,onClose:e}){const[n,r]=g.useState(""),[s,i]=g.useState(""),[a,l]=g.useState(!1),{toast:c}=Yt(),d=async m=>{m.preventDefault(),l(!0);const{user:x,error:T}=await HU(n,s);T?c({title:"Sign In Failed",description:T,variant:"destructive"}):x&&(c({title:"Welcome Back!",description:"You have successfully signed in.",variant:"success"}),e()),l(!1)},h=async m=>{m.preventDefault(),l(!0);const{user:x,error:T}=await qU(n,s);T?c({title:"Sign Up Failed",description:T,variant:"destructive"}):x&&(c({title:"Account Created!",description:"Welcome to Lemur Express 11!",variant:"success"}),e()),l(!1)},f=async()=>{try{await WU()}catch(m){c({title:"Google Sign In Failed",description:m.message,variant:"destructive"})}};return o.jsx(ia,{open:t,onOpenChange:e,children:o.jsxs(Gi,{className:"sm:max-w-md",children:[o.jsxs(Qi,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Yi,{className:"text-2xl font-bold text-neutral-text",children:"Welcome Back"}),o.jsx(U,{variant:"ghost",size:"sm",onClick:e,children:o.jsx(Ov,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-neutral-secondary",children:"Sign in to track your orders"})]}),o.jsxs(Wf,{defaultValue:"signin",className:"w-full",children:[o.jsxs(wu,{className:"grid w-full grid-cols-2",children:[o.jsx(sn,{value:"signin",children:"Sign In"}),o.jsx(sn,{value:"signup",children:"Sign Up"})]}),o.jsx(on,{value:"signin",className:"space-y-4",children:o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"signin-email",children:"Email"}),o.jsx(Ze,{id:"signin-email",type:"email",value:n,onChange:m=>r(m.target.value),placeholder:"your@email.com",required:!0})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"signin-password",children:"Password"}),o.jsx(Ze,{id:"signin-password",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"••••••••",required:!0})]}),o.jsx(U,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:a,children:a?"Signing In...":"Sign In"})]})}),o.jsx(on,{value:"signup",className:"space-y-4",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"signup-email",children:"Email"}),o.jsx(Ze,{id:"signup-email",type:"email",value:n,onChange:m=>r(m.target.value),placeholder:"your@email.com",required:!0})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"signup-password",children:"Password"}),o.jsx(Ze,{id:"signup-password",type:"password",value:s,onChange:m=>i(m.target.value),placeholder:"••••••••",required:!0})]}),o.jsx(U,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:a,children:a?"Creating Account...":"Sign Up"})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs(U,{variant:"outline",onClick:f,className:"w-full",children:[o.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})})}const pi=g.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));pi.displayName="Textarea";function c8({total:t,onPaymentSuccess:e,onPaymentError:n}){const[r,s]=g.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:"",billingZip:""}),[i,a]=g.useState(!1),{toast:l}=Yt(),c=v=>{const _=v.replace(/\s+/g,"").replace(/[^0-9]/gi,""),b=_.match(/\d{4,16}/g),y=b&&b[0]||"",S=[];for(let A=0,O=y.length;A<O;A+=4)S.push(y.substring(A,A+4));return S.length?S.join(" "):_},d=v=>{const _=c(v.target.value);_.replace(/\s/g,"").length<=16&&s(b=>({...b,cardNumber:_}))},h=v=>{const _=v.target.value.replace(/[^0-9]/g,"");_.length<=4&&s(b=>({...b,cvv:_}))},f=async v=>{v.preventDefault(),a(!0);try{const _=r.cardNumber.replace(/\s/g,"");if(_.length<4)throw new Error("Please enter at least 4 digits for testing");if(!r.cardholderName.trim())throw new Error("Please enter cardholder name");console.log("=== PAYMENT TEST DATA ==="),console.log("Card Number:",_),console.log("Cardholder:",r.cardholderName),console.log("Expiry:",`${r.expiryMonth}/${r.expiryYear}`),console.log("CVV:",r.cvv),console.log("Billing ZIP:",r.billingZip),console.log("Amount:",`$${t.toFixed(2)}`),console.log("=== END PAYMENT DATA ==="),await new Promise(y=>setTimeout(y,1500));const b=`test_pay_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log("=== PAYMENT SUCCESS ==="),console.log("Payment ID:",b),console.log("Status: APPROVED"),console.log("========================"),l({title:"Payment Authorized",description:`Payment of $${t.toFixed(2)} authorized - will be charged when order is confirmed`,variant:"success"}),e(b)}catch(_){console.log("=== PAYMENT ERROR ==="),console.log("Error:",_.message),console.log("====================="),l({title:"Payment Failed",description:_.message||"Payment could not be processed",variant:"destructive"}),n(_.message)}finally{a(!1)}},m=new Date().getFullYear(),x=Array.from({length:10},(v,_)=>m+_),T=[{value:"01",label:"01 - January"},{value:"02",label:"02 - February"},{value:"03",label:"03 - March"},{value:"04",label:"04 - April"},{value:"05",label:"05 - May"},{value:"06",label:"06 - June"},{value:"07",label:"07 - July"},{value:"08",label:"08 - August"},{value:"09",label:"09 - September"},{value:"10",label:"10 - October"},{value:"11",label:"11 - November"},{value:"12",label:"12 - December"}];return o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(pe,{className:"flex items-center",children:[o.jsx(Ac,{className:"mr-2 h-5 w-5"}),"Payment Information"]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:[o.jsx("h4",{className:"font-semibold text-blue-800 text-sm mb-2",children:"Test Mode - Use Any Card Numbers"}),o.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("p",{children:"• Card: 4111 1111 1111 1111 (or any numbers)"}),o.jsx("p",{children:"• Expiry: Any future date"}),o.jsx("p",{children:"• CVV: Any 3-4 digits"}),o.jsx("p",{children:"• Check browser console for detailed logs"})]})]})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"cardNumber",children:"Card Number"}),o.jsx(Ze,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:r.cardNumber,onChange:d,required:!0,disabled:i})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Se,{htmlFor:"expiryMonth",children:[o.jsx(mM,{className:"inline mr-1 h-4 w-4"}),"Month"]}),o.jsxs(co,{value:r.expiryMonth,onValueChange:v=>s(_=>({..._,expiryMonth:v})),disabled:i,children:[o.jsx(ai,{children:o.jsx(uo,{placeholder:"MM"})}),o.jsx(li,{children:T.map(v=>o.jsx(be,{value:v.value,children:v.label},v.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"expiryYear",children:"Year"}),o.jsxs(co,{value:r.expiryYear,onValueChange:v=>s(_=>({..._,expiryYear:v})),disabled:i,children:[o.jsx(ai,{children:o.jsx(uo,{placeholder:"YYYY"})}),o.jsx(li,{children:x.map(v=>o.jsx(be,{value:v.toString(),children:v},v))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"cvv",children:"CVV"}),o.jsx(Ze,{id:"cvv",type:"text",placeholder:"123",value:r.cvv,onChange:h,required:!0,disabled:i})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Se,{htmlFor:"cardholderName",children:[o.jsx(oi,{className:"inline mr-1 h-4 w-4"}),"Cardholder Name"]}),o.jsx(Ze,{id:"cardholderName",type:"text",placeholder:"John Doe",value:r.cardholderName,onChange:v=>s(_=>({..._,cardholderName:v.target.value})),required:!0,disabled:i})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"billingZip",children:"Billing ZIP Code"}),o.jsx(Ze,{id:"billingZip",type:"text",placeholder:"12345",value:r.billingZip,onChange:v=>s(_=>({..._,billingZip:v.target.value})),required:!0,disabled:i})]}),o.jsx(U,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3",disabled:i,children:i?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(kc,{className:"mr-2 h-4 w-4"}),"Pay $",t.toFixed(2)]})}),o.jsxs("div",{className:"text-xs text-center text-neutral-secondary mt-4",children:[o.jsx(kc,{className:"inline mr-1 h-3 w-3"}),"Your payment information is encrypted and secure"]})]})})]})}const hp="pizza-order-ids",qc={generateOrderId:()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,8);return`LE${t.toString().slice(-6)}${e.toUpperCase()}`},saveOrderInfo:t=>{try{const e=qc.getOrderHistory(),n=[t,...e.slice(0,9)];localStorage.setItem(hp,JSON.stringify(n))}catch(e){console.error("Failed to save order info:",e)}},getOrderHistory:()=>{try{const t=localStorage.getItem(hp);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load order history:",t)}return[]},getOrderInfo:t=>qc.getOrderHistory().find(n=>n.orderId===t)||null,clearHistory:()=>{try{localStorage.removeItem(hp)}catch(t){console.error("Failed to clear order history:",t)}}},Yx=class Yx{static saveFormData(e,n){try{const r=this.getAllFormData();r[e]={...n,lastSaved:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(r){console.warn("Failed to save form data:",r)}}static getFormData(e){try{return this.getAllFormData()[e]||{}}catch(n){return console.warn("Failed to load form data:",n),{}}}static getAllFormData(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to parse form data:",e),{}}}static clearFormData(e){try{const n=this.getAllFormData();delete n[e],localStorage.setItem(this.storageKey,JSON.stringify(n))}catch(n){console.warn("Failed to clear form data:",n)}}static clearAllFormData(){try{localStorage.removeItem(this.storageKey)}catch(e){console.warn("Failed to clear all form data:",e)}}static setupAutoSave(e,n,r){const s=()=>{const a=n.getValues(),l=r.reduce((c,d)=>(a[d]!==void 0&&a[d]!==""&&(c[d]=a[d]),c),{});Object.keys(l).length>0&&this.saveFormData(e,l)};let i;return()=>{clearTimeout(i),i=setTimeout(s,500)}}};Yx.storageKey="lemur_express_form_data";let zh=Yx;function u8({cartItems:t,onOrderComplete:e}){const[n,r]=g.useState({firstName:"",lastName:"",phone:"",email:""}),[s,i]=g.useState(""),[a,l]=g.useState(0),[c,d]=g.useState(""),[h,f]=g.useState(1),[m,x]=g.useState(null),[T,v]=g.useState(!1),[_,b]=g.useState("card"),[y,S]=g.useState(""),[A,O]=g.useState(!1),[M,j]=g.useState(!1),[N,E]=g.useState(!1),[I,k]=g.useState(0),[C,R]=g.useState(!1);g.useState(null);const{toast:V}=Yt(),{user:Y}=b2(),[,G]=af();g.useEffect(()=>{const X=zh.getFormData("checkout-customer-info");(X.firstName||X.lastName||X.phone||X.email)&&r({firstName:X.firstName||"",lastName:X.lastName||"",phone:X.phone||"",email:X.email||""}),X.specialInstructions&&i(X.specialInstructions)},[]);const J="pickup",F=t.reduce((X,Me)=>X+Me.price*Me.quantity,0),K=F*.0825,ne=F+K,le=ne+a,Ce=[{label:"No Tip",value:0},{label:"15%",value:Math.round(ne*.15*100)/100},{label:"18%",value:Math.round(ne*.18*100)/100},{label:"20%",value:Math.round(ne*.2*100)/100},{label:"Custom",value:-1}],ze=X=>{X===-1?l(0):(l(X),d(""))},ot=X=>{d(X);const Me=parseFloat(X)||0;l(Me)},W=async X=>{if(!(!X||X.length<10)){R(!0);try{const Xt=await(await jt("POST","/api/check-cash-eligibility",{phone:X})).json();E(Xt.eligible),k(Xt.trustScore)}catch(Me){console.error("Error checking cash eligibility:",Me),E(!1),k(0)}finally{R(!1)}}},H=X=>/^[a-zA-Z\s\-']+$/.test(X)&&X.trim().length>=2,ee=(X,Me)=>{const Xt={...n,[X]:Me};r(Xt),zh.saveFormData("checkout-customer-info",{...Xt,specialInstructions:s})},Te=X=>{if(X.preventDefault(),!n.firstName||!n.lastName||!n.phone){V({title:"Required Information Missing",description:"Please fill in all required fields.",variant:"destructive"});return}if(!H(n.firstName)){V({title:"Invalid First Name",description:"Please enter a valid first name (letters only, minimum 2 characters).",variant:"destructive"});return}if(!H(n.lastName)){V({title:"Invalid Last Name",description:"Please enter a valid last name (letters only, minimum 2 characters).",variant:"destructive"});return}const Me=/^[\+]?[1-9][\d]{0,15}$/,Xt=n.phone.replace(/[\s\-\(\)]/g,"");if(!Me.test(Xt)||Xt.length<10){V({title:"Invalid Phone Number",description:"Please enter a valid phone number (10+ digits).",variant:"destructive"});return}W(Xt),f(2)},He=async()=>{if(n.phone){v(!0);try{const X=Math.floor(1e3+Math.random()*9e3).toString();sessionStorage.setItem(`verification_${n.phone}`,X),V({title:"Verification Code Sent",description:`Code: ${X} (This is a demo - in production this would be sent via SMS)`,variant:"default"}),O(!0)}catch{V({title:"Verification Failed",description:"Unable to send verification code. Please try again.",variant:"destructive"})}finally{v(!1)}}},Pe=()=>{const X=sessionStorage.getItem(`verification_${n.phone}`);y===X?(j(!0),sessionStorage.removeItem(`verification_${n.phone}`),V({title:"Phone Verified",description:"Your phone number has been verified successfully.",variant:"default"})):V({title:"Invalid Code",description:"Please enter the correct verification code.",variant:"destructive"})},Ee=()=>{if(!M){V({title:"Phone Verification Required",description:"Please verify your phone number before placing a cash order.",variant:"destructive"});return}f(3),wn("CASH_PAYMENT")},ae=X=>{x(X),f(3),wn(X)},de=X=>{V({title:"Payment Failed",description:X,variant:"destructive"})},Ge=async X=>{if(!n.firstName||!n.lastName||!n.phone){V({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}if(b(X),X==="cash"){if(!N){V({title:"Cash Payment Not Available",description:"Please use card payment or contact us",variant:"destructive"});return}f(3),wn("CASH_PAYMENT")}else f(2)},wn=async X=>{v(!0);try{const Me=qc.generateOrderId(),Xt={customerInfo:n,items:t,subtotal:parseFloat(F.toFixed(2)),tax:parseFloat(K.toFixed(2)),tip:parseFloat(a.toFixed(2)),total:parseFloat(le.toFixed(2)),orderType:J,specialInstructions:s,paymentStatus:X==="CASH_PAYMENT"?"cash_pending":"authorized"};console.log("=== ORDER SUBMISSION DATA ==="),console.log("Unique Order ID:",Me),console.log("Customer Info:",{name:`${n.firstName} ${n.lastName}`,phone:n.phone,email:n.email||"Not provided"}),console.log("Order Items:",t.map(cr=>({name:cr.name,size:cr.size,crust:cr.crust,toppings:cr.toppings,quantity:cr.quantity,price:`$${cr.price.toFixed(2)}`}))),console.log("Order Type:",J),console.log("Special Instructions:",s||"None"),console.log("Pricing:",{subtotal:`$${F.toFixed(2)}`,tax:`$${K.toFixed(2)}`,tip:`$${a.toFixed(2)}`,total:`$${le.toFixed(2)}`}),console.log("Payment ID:",X),console.log("User ID:",(Y==null?void 0:Y.uid)||"Guest order"),console.log("=== END ORDER DATA ===");const kr={...Xt,userId:(Y==null?void 0:Y.uid)||null,status:"confirmed",paymentId:X,estimatedTime:10,uniqueOrderId:Me},bo=await(await jt("POST","/api/orders",kr)).json(),Qf={orderId:Me,orderNumber:bo.id,customerName:`${n.firstName} ${n.lastName}`,timestamp:new Date().toISOString(),status:"confirmed"};qc.saveOrderInfo(Qf),console.log("=== ORDER SUCCESS ==="),console.log("Order ID:",bo.id),console.log("Unique ID:",Me),console.log("Status: CONFIRMED"),console.log("Database: Backend Storage"),console.log("Full Order:",bo),console.log("====================="),V({title:"Order Placed Successfully!",description:`Your order has been confirmed. Order ID: ${Me}`,variant:"success"}),setTimeout(()=>{G(`/order-tracking?id=${Me}`)},2e3),e(Me)}catch{V({title:"Order Failed",description:"There was an error placing your order. Please try again.",variant:"destructive"})}finally{v(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{className:"shadow-lg border-0",style:{background:"var(--pizza-surface)"},children:[o.jsx(me,{className:"text-white",style:{background:"var(--pizza-gradient)"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(pe,{className:"text-xl",children:"Checkout"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-orange-100",children:[o.jsx(Wt,{className:"h-4 w-4"}),o.jsx("span",{children:"Est. 7-10 mins"})]})]})}),o.jsx(oe,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-200 ${h>=1?"text-white shadow-lg":"bg-gray-300 text-gray-600"}`,style:h>=1?{background:"var(--pizza-primary)"}:{},children:h>1?o.jsx(rn,{className:"h-4 w-4"}):"1"}),o.jsx("span",{className:`ml-2 text-sm font-medium ${h>=1?"":"text-gray-600"}`,style:h>=1?{color:"var(--pizza-text)"}:{},children:"Customer Info"})]}),o.jsx("div",{className:`flex-1 h-px transition-all duration-200 ${h>1?"":"bg-gray-300"}`,style:h>1?{background:"var(--pizza-primary)"}:{}}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-200 ${h>=2?"text-white shadow-lg":"bg-gray-300 text-gray-600"}`,style:h>=2?{background:"var(--pizza-primary)"}:{},children:h>2?o.jsx(rn,{className:"h-4 w-4"}):o.jsx(Ac,{className:"h-4 w-4"})}),o.jsx("span",{className:`ml-2 text-sm font-medium ${h>=2?"":"text-gray-600"}`,style:h>=2?{color:"var(--pizza-text)"}:{},children:"Payment"})]}),o.jsx("div",{className:`flex-1 h-px transition-all duration-200 ${h>2?"":"bg-gray-300"}`,style:h>2?{background:"var(--pizza-success)"}:{}}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-200 ${h>=3?"text-white shadow-lg":"bg-gray-300 text-gray-600"}`,style:h>=3?{background:"var(--pizza-success)"}:{},children:h>=3?o.jsx(rn,{className:"h-4 w-4"}):"3"}),o.jsx("span",{className:`ml-2 text-sm font-medium ${h>=3?"":"text-gray-600"}`,style:h>=3?{color:"var(--pizza-success)"}:{},children:"Confirmation"})]})]})})]}),h===1&&o.jsxs("form",{id:"checkout-form",onSubmit:Te,className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Contact Information"})}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"firstName",children:"First Name *"}),o.jsx(Ze,{id:"firstName",type:"text",placeholder:"John",value:n.firstName,onChange:X=>ee("firstName",X.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"lastName",children:"Last Name *"}),o.jsx(Ze,{id:"lastName",type:"text",placeholder:"Doe",value:n.lastName,onChange:X=>ee("lastName",X.target.value),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"phone",children:"Phone Number *"}),o.jsx(Ze,{id:"phone",type:"tel",placeholder:"(361) 555-0123",value:n.phone,onChange:X=>r(Me=>({...Me,phone:X.target.value})),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"email",children:"Email (Optional)"}),o.jsx(Ze,{id:"email",type:"email",placeholder:"john@example.com",value:n.email,onChange:X=>r(Me=>({...Me,email:X.target.value}))})]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Pickup Information"})}),o.jsx(oe,{children:o.jsx("div",{className:"border-2 border-red-600 bg-red-50 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold flex items-center",children:[o.jsx(IM,{className:"mr-2 h-5 w-5 text-red-600"}),"Pickup Only"]}),o.jsx("p",{className:"text-sm text-neutral-secondary mt-1",children:"Ready in 7-10 minutes"}),o.jsx("p",{className:"text-xs text-neutral-secondary mt-1",children:"2100 1st Street, Palacios, TX 77465"})]}),o.jsx("div",{className:"w-5 h-5 border-2 border-red-600 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"})})]})})})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Special Instructions"})}),o.jsx(oe,{children:o.jsx(pi,{placeholder:"Any special requests for your order...",value:s,onChange:X=>i(X.target.value),rows:3})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Payment Method"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you'd like to pay"}),C&&o.jsx("div",{className:"text-sm text-blue-600",children:"Checking customer eligibility..."})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:`grid gap-4 ${N?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs(U,{type:"button",variant:_==="card"?"default":"outline",onClick:()=>b("card"),className:`h-16 ${_==="card"?"bg-blue-600 hover:bg-blue-700":""}`,children:[o.jsx(Ac,{className:"mr-2 h-5 w-5"}),"Credit Card"]}),N&&o.jsx(U,{type:"button",variant:_==="cash"?"default":"outline",onClick:()=>b("cash"),className:`h-16 ${_==="cash"?"bg-green-600 hover:bg-green-700":""}`,children:"💵 Cash at Pickup"})]}),I>0&&o.jsxs("div",{className:`p-4 rounded-lg border ${N?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-sm",children:"Customer Trust Score"}),o.jsxs("span",{className:`font-bold ${N?"text-green-700":"text-orange-700"}`,children:[I,"/100"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N?"bg-green-600":"bg-orange-500"}`,style:{width:`${I}%`}})}),o.jsx("p",{className:`text-xs mt-2 ${N?"text-green-700":"text-orange-700"}`,children:N?"You're eligible for cash payment as a trusted customer!":"Complete a few more orders with card payment to unlock cash payment option."})]}),_==="cash"&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Cash Payment Requirements"}),o.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[o.jsx("li",{children:"• Phone verification required to prevent spam orders"}),o.jsx("li",{children:"• Payment due at pickup - exact change appreciated"}),o.jsx("li",{children:"• Order will be cancelled if not picked up within 30 minutes"})]}),!M&&o.jsx("div",{className:"mt-4 space-y-3",children:A?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"verificationCode",children:"Enter 4-digit code"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ze,{id:"verificationCode",value:y,onChange:X=>S(X.target.value),placeholder:"1234",maxLength:4,className:"flex-1"}),o.jsx(U,{onClick:Pe,disabled:y.length!==4,className:"bg-green-600 hover:bg-green-700",children:"Verify"})]})]}):o.jsx(U,{onClick:He,disabled:T||!n.phone,className:"w-full bg-blue-600 hover:bg-blue-700",children:T?"Sending...":"Send Verification Code"})}),M&&o.jsx("div",{className:"mt-4 p-3 bg-green-100 border border-green-200 rounded",children:o.jsxs("div",{className:"flex items-center text-green-800",children:[o.jsx(rn,{className:"h-4 w-4 mr-2"}),"Phone verified - ready for cash payment"]})})]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(pe,{children:"Add a Tip (Optional)"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Show your appreciation for great service"})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Ce.map(X=>o.jsxs(U,{type:"button",variant:a===X.value?"default":"outline",onClick:()=>ze(X.value),className:`${a===X.value?"bg-green-600 hover:bg-green-700":""}`,children:[X.label,X.value>0&&o.jsxs("div",{className:"text-xs mt-1",children:["$",X.value.toFixed(2)]})]},X.label))}),a===0&&c!==""||Ce.find(X=>X.label==="Custom"&&a===0)?o.jsxs("div",{className:"mt-4",children:[o.jsx(Se,{htmlFor:"customTip",children:"Custom Tip Amount"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("span",{className:"text-lg mr-2",children:"$"}),o.jsx(Ze,{id:"customTip",type:"number",step:"0.01",min:"0",value:c,onChange:X=>ot(X.target.value),placeholder:"0.00",className:"w-24"})]})]}):null,a>0&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["Thank you! Tip amount: $",a.toFixed(2)]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(U,{type:"button",onClick:()=>Ge("card"),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 flex items-center justify-center gap-2",children:"💳 Quick Pay with Card"}),N&&o.jsx(U,{type:"button",onClick:()=>Ge("cash"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 flex items-center justify-center gap-2",children:"💵 Quick Pay Cash"})]}),o.jsx("div",{className:"text-center text-sm text-gray-500",children:"or"}),o.jsx(U,{type:"submit",variant:"outline",className:"w-full py-3",children:"Continue to Payment Options"})]})]}),h===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Payment"}),o.jsx(U,{variant:"outline",onClick:()=>f(1),children:"Back to Info"})]}),_==="card"?o.jsx(c8,{total:le,onPaymentSuccess:ae,onPaymentError:de}):o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{className:"flex items-center",children:"💵 Cash Payment at Pickup"})}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",F.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tax (8.25%):"}),o.jsxs("span",{children:["$",K.toFixed(2)]})]}),a>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tip:"}),o.jsxs("span",{children:["$",a.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[o.jsx("span",{children:"Total Due at Pickup:"}),o.jsxs("span",{children:["$",le.toFixed(2)]})]})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Important Reminders"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:["• Bring exact change or cash for $",le.toFixed(2)]}),o.jsx("li",{children:"• Order must be picked up within 30 minutes"}),o.jsx("li",{children:"• We'll call you when your order is ready"}),o.jsx("li",{children:"• Orders not picked up on time will be cancelled"})]})]}),o.jsx(U,{onClick:Ee,disabled:!M,className:"w-full bg-green-600 hover:bg-green-700 h-12 text-lg font-semibold",children:M?"Place Cash Order":"Phone Verification Required"})]})]})]}),h===3&&o.jsx(ie,{children:o.jsx(oe,{className:"pt-6",children:T?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-semibold",children:"Processing your order..."}),o.jsx("p",{className:"text-neutral-secondary",children:"Please wait while we confirm your payment"})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(rn,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Order Confirmed!"}),m==="CASH_PAYMENT"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-neutral-secondary mb-4",children:["Your order is confirmed and being prepared. Payment due at pickup: ",o.jsxs("strong",{children:["$",le.toFixed(2)]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg max-w-md mx-auto",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Pickup Instructions"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[o.jsx("li",{children:"• We'll call you when your order is ready"}),o.jsxs("li",{children:["• Bring $",le.toFixed(2)," in cash"]}),o.jsx("li",{children:"• Pickup within 30 minutes to avoid cancellation"})]})]})]}):o.jsx("p",{className:"text-neutral-secondary mb-4",children:"Your payment has been processed and your order is being prepared."}),m&&m!=="CASH_PAYMENT"&&o.jsxs("p",{className:"text-xs text-neutral-secondary",children:["Payment ID: ",m]})]})})})]})}const d8=pf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ft({className:t,variant:e,...n}){return o.jsx("div",{className:ve(d8({variant:e}),t),...n})}var h8="Separator",T1="horizontal",f8=["horizontal","vertical"],q2=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=T1,...s}=t,i=m8(r)?r:T1,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(_e.div,{"data-orientation":i,...l,...s,ref:e})});q2.displayName=h8;function m8(t){return f8.includes(t)}var W2=q2;const xr=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(W2,{ref:s,decorative:n,orientation:e,className:ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));xr.displayName=W2.displayName;function K2({orderId:t}){const[e,n]=g.useState(""),[r,s]=g.useState(0),[i,a]=g.useState(!1),[l,c]=g.useState([]),[d,h]=g.useState(""),[f,m]=g.useState(null),x=nu(),{toast:T}=Yt();g.useRef(null);const{data:v,isLoading:_,error:b,refetch:y}=mh({queryKey:["/api/orders",t],queryFn:async()=>{const V=await fetch(`/api/orders/${t}`);if(!V.ok)throw new Error("Order not found");return V.json()},refetchInterval:5e3,enabled:!!t}),{data:S}=mh({queryKey:["/api/notifications/order",t],queryFn:async()=>{const V=await fetch(`/api/notifications/order/${t}`);return V.ok?V.json():[]},refetchInterval:1e4,enabled:!!t});g.useEffect(()=>{S&&c(S)},[S]);const A=wg({mutationFn:async V=>{const Y=await fetch(`/api/orders/${t}/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!Y.ok)throw new Error("Failed to submit feedback");return Y.json()},onSuccess:()=>{T({title:"Thank you for your feedback!",description:"We appreciate your review and will use it to improve our service.",variant:"default"}),a(!1),n(""),s(0)},onError:()=>{T({title:"Feedback submission failed",description:"Please try again later.",variant:"destructive"})}}),O=wg({mutationFn:async({notificationId:V,response:Y,status:G})=>{const J=await fetch(`/api/notifications/${V}/respond`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:Y,status:G})});if(!J.ok)throw new Error("Failed to submit response");return J.json()},onSuccess:()=>{T({title:"Response Submitted",description:"Thank you for your response. The restaurant has been notified.",variant:"default"}),m(null),h(""),x.invalidateQueries({queryKey:["/api/notifications/order",t]})},onError:()=>{T({title:"Response Failed",description:"Unable to submit your response. Please try again.",variant:"destructive"})}});if(_)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 py-8",style:{background:"var(--pizza-surface)"},children:o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsx(We,{href:"/",children:o.jsxs(U,{className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 shadow-lg transition-all duration-200",style:{background:"var(--pizza-primary)",borderColor:"var(--pizza-primary)"},children:[o.jsx(jg,{className:"h-4 w-4"}),"Back to Homepage"]})}),o.jsx("div",{className:"text-lg font-semibold",style:{color:"var(--pizza-text)"},children:"Order Tracking"})]}),o.jsxs(ie,{className:"shadow-xl border-0",children:[o.jsx(me,{className:"text-white rounded-t-lg",style:{background:"var(--pizza-gradient)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ki,{className:"w-8 h-8 animate-spin"}),o.jsxs("div",{children:[o.jsx(pe,{className:"text-2xl",children:"Loading Your Order..."}),o.jsx("p",{className:"text-blue-100",children:"Please wait while we fetch your order details"})]})]})}),o.jsx(oe,{className:"p-8",children:o.jsxs("div",{className:"animate-pulse space-y-6",children:[o.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"})]})]})})]})]})});if(b||!v)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 py-8",children:o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsx(ie,{className:"shadow-xl border-0",children:o.jsxs(oe,{className:"p-12 text-center",children:[o.jsx(oo,{className:"h-16 w-16 text-red-500 mx-auto mb-6"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Order Not Found"}),o.jsxs("p",{className:"text-gray-600 mb-8 text-lg",children:["We couldn't locate order #",t,". Please check your order number and try again."]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(U,{onClick:()=>y(),variant:"outline",className:"mr-4",children:[o.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Try Again"]}),o.jsxs(U,{onClick:()=>window.location.href="/track-order",variant:"outline",className:"mr-4",children:[o.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Track Different Order"]}),o.jsxs(U,{onClick:()=>window.location.href="/",className:"bg-red-600 hover:bg-red-700 text-white",children:[o.jsx(D_,{className:"mr-2 h-4 w-4"}),"Order More"]})]})]})})})});const j=(V=>{switch(V){case"confirmed":return 1;case"preparing":return 2;case"ready":return 3;case"completed":return 4;default:return 1}})(v.status),N=j/4*100,E=V=>[{title:"Order Confirmed",description:"We've received your order and payment is secure",icon:id,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Preparing Your Food",description:"Our chefs are crafting your delicious meal",icon:zl,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Ready for Pickup",description:"Your order is ready! Come get it while it's hot",icon:Da,color:"text-green-600",bgColor:"bg-green-100"},{title:"Order Complete",description:"Thank you for choosing us! Enjoy your meal",icon:_M,color:"text-purple-600",bgColor:"bg-purple-100"}][V-1],I=V=>new Date(V).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),k=()=>{if(!v.estimatedTime)return"Calculating...";const V=new Date(v.createdAt);return new Date(V.getTime()+v.estimatedTime*6e4).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},C=()=>{if(!v.estimatedTime)return null;const V=new Date(v.createdAt),Y=new Date(V.getTime()+v.estimatedTime*6e4),G=new Date,J=Y.getTime()-G.getTime();return J<=0?"Ready now!":`${Math.ceil(J/6e4)} min remaining`},R=()=>{if(r===0){T({title:"Please select a rating",description:"Your rating helps us improve our service.",variant:"destructive"});return}A.mutate({rating:r,comment:e})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50",style:{background:"var(--pizza-surface)"},children:o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsx(We,{href:"/",children:o.jsxs(U,{className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 shadow-lg transition-all duration-200",style:{background:"var(--pizza-primary)",borderColor:"var(--pizza-primary)"},children:[o.jsx(jg,{className:"h-4 w-4"}),"Back to Homepage"]})}),o.jsx("div",{className:"text-lg font-semibold",style:{color:"var(--pizza-text)"},children:"Order Tracking"})]}),o.jsx(ie,{className:"mb-8 shadow-2xl border-0 overflow-hidden",children:o.jsxs(me,{className:"text-white relative",style:{background:"var(--pizza-gradient)"},children:[o.jsx("div",{className:"absolute inset-0 bg-black/10"}),o.jsx("div",{className:"relative z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(pe,{className:"text-3xl font-bold mb-2",children:["Order #",v.id]}),o.jsxs("div",{className:"flex items-center space-x-4 text-blue-100",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Placed at ",I(v.createdAt)]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(kv,{className:"mr-2 h-4 w-4"}),"Ready by ",k()]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx(ft,{className:"bg-white/20 text-white px-4 py-2 text-lg font-semibold",children:C()||"Processing..."}),o.jsxs("p",{className:"text-blue-100 mt-2 text-sm",children:[v.customerInfo.firstName," ",v.customerInfo.lastName]})]})]})})]})}),o.jsxs(ie,{className:"mb-8 shadow-xl border-0",children:[o.jsxs(me,{className:"pb-4",children:[o.jsx(pe,{className:"text-2xl font-semibold text-gray-800",children:"Order Progress"}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-1000 ease-in-out",style:{width:`${N}%`}})})]}),o.jsx(oe,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(V=>{const Y=E(V),G=Y.icon,J=V===j,F=V<j;return o.jsx("div",{className:`relative p-6 rounded-xl transition-all duration-500 ${J?`${Y.bgColor} border-2 border-current shadow-lg scale-105`:F?"bg-green-50 border-2 border-green-200":"bg-gray-50 border-2 border-gray-200"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4 ${J?Y.bgColor:F?"bg-green-100":"bg-gray-200"}`,children:o.jsx(G,{className:`h-8 w-8 ${J?Y.color:F?"text-green-600":"text-gray-400"}`})}),o.jsx("h3",{className:`font-bold text-lg mb-2 ${J?Y.color:F?"text-green-700":"text-gray-500"}`,children:Y.title}),o.jsx("p",{className:`text-sm ${J?"text-gray-700":F?"text-green-600":"text-gray-400"}`,children:Y.description}),J&&o.jsx("div",{className:"mt-3",children:o.jsx("div",{className:"w-2 h-2 bg-current rounded-full mx-auto animate-pulse"})}),F&&o.jsx("div",{className:"absolute -top-2 -right-2",children:o.jsx(id,{className:"h-6 w-6 text-green-500 bg-white rounded-full"})})]})},V)})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[o.jsxs(ie,{className:"lg:col-span-2 shadow-xl border-0",children:[o.jsx(me,{className:"bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-t-lg",children:o.jsxs(pe,{className:"flex items-center text-xl",children:[o.jsx(D_,{className:"mr-3 h-6 w-6"}),"Your Delicious Order"]})}),o.jsx(oe,{className:"p-6",children:o.jsx("div",{className:"space-y-4",children:v.items.map((V,Y)=>o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 transition-all hover:shadow-md",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-lg text-gray-800",children:V.name}),o.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[o.jsx(ft,{variant:"outline",className:"text-xs",children:V.size}),V.crust&&o.jsxs(ft,{variant:"outline",className:"text-xs",children:[V.crust," Crust"]}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Qty: ",V.quantity]})]}),V.toppings&&V.toppings.length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Toppings:"}),o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:V.toppings.map((G,J)=>o.jsx(ft,{variant:"secondary",className:"text-xs",children:G},J))})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",V.price.toFixed(2)]})})]})},Y))})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{className:"shadow-xl border-0",children:[o.jsx(me,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-lg",children:o.jsxs(pe,{className:"flex items-center",children:[o.jsx(Pn,{className:"mr-2 h-5 w-5"}),"Contact Details"]})}),o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Customer Name"}),o.jsxs("p",{className:"text-lg font-semibold",children:[v.customerInfo.firstName," ",v.customerInfo.lastName]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Phone"}),o.jsx("p",{className:"text-lg",children:v.customerInfo.phone})]}),v.customerInfo.email&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Email"}),o.jsx("p",{className:"text-lg",children:v.customerInfo.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Order Type"}),o.jsxs(ft,{className:"bg-blue-100 text-blue-800",children:[o.jsx(gf,{className:"mr-1 h-3 w-3"}),"Pickup"]})]}),v.specialInstructions&&o.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Special Instructions"}),o.jsx("p",{className:"text-sm mt-1",children:v.specialInstructions})]})]})})]}),o.jsxs(ie,{className:"shadow-xl border-0",children:[o.jsx(me,{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-t-lg",children:o.jsxs(pe,{className:"flex items-center",children:[o.jsx(Ac,{className:"mr-2 h-5 w-5"}),"Payment Summary"]})}),o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium",children:["$",v.subtotal.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tax"}),o.jsxs("span",{className:"font-medium",children:["$",v.tax.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tip"}),o.jsxs("span",{className:"font-medium",children:["$",Number(v.tip).toFixed(2)]})]}),o.jsx(xr,{}),o.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"text-green-600",children:["$",v.total.toFixed(2)]})]}),o.jsx("div",{className:"mt-4",children:o.jsxs(ft,{className:`w-full justify-center py-2 ${v.paymentStatus==="charged"?"bg-green-100 text-green-800 border-green-300":"bg-yellow-100 text-yellow-800 border-yellow-300"}`,children:[o.jsx(Ac,{className:"mr-2 h-4 w-4"}),"Payment ",v.paymentStatus==="charged"?"Completed":"Authorized"]})})]})})]})]})]}),l&&l.filter(V=>V.type==="substitution_request"&&!V.customerResponse).length>0&&o.jsxs(ie,{className:"shadow-xl border-0 mb-8 border-orange-200",children:[o.jsx(me,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-t-lg",children:o.jsxs(pe,{className:"flex items-center",children:[o.jsx(oo,{className:"mr-2 h-5 w-5"}),"Action Required - Substitution Request"]})}),o.jsx(oe,{className:"p-6",children:l.filter(V=>V.type==="substitution_request"&&!V.customerResponse).map((V,Y)=>o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Restaurant Message:"}),o.jsx("p",{className:"text-gray-700 mb-3",children:V.message}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Sent: ",new Date(V.createdAt).toLocaleString()]})]})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(U,{onClick:()=>O.mutate({notificationId:V.id,response:"approved",status:"approved"}),disabled:O.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(id,{className:"w-4 h-4 mr-2"}),"Approve Substitution"]}),o.jsxs(U,{onClick:()=>O.mutate({notificationId:V.id,response:"declined",status:"declined"}),disabled:O.isPending,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[o.jsx(ic,{className:"w-4 h-4 mr-2"}),"Decline"]}),o.jsxs(U,{onClick:()=>m(V),disabled:O.isPending,variant:"outline",children:[o.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Add Comment"]})]})]},V.id))})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs(ie,{className:"w-full max-w-md",children:[o.jsx(me,{children:o.jsx(pe,{children:"Respond to Substitution Request"})}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"text-sm font-medium",children:"Restaurant Message:"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1 p-3 bg-gray-50 rounded",children:f.message})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"response",className:"text-sm font-medium",children:"Your Response:"}),o.jsx(pi,{id:"response",placeholder:"Please approve/decline and add any special instructions...",value:d,onChange:V=>h(V.target.value),className:"mt-1",rows:3})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(U,{onClick:()=>O.mutate({notificationId:f.id,response:d||"approved",status:"approved"}),disabled:O.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"}),o.jsx(U,{onClick:()=>O.mutate({notificationId:f.id,response:d||"declined",status:"declined"}),disabled:O.isPending,variant:"destructive",className:"flex-1",children:"Decline"}),o.jsx(U,{onClick:()=>{m(null),h("")},variant:"outline",children:"Cancel"})]})]})]})}),l&&l.filter(V=>V.customerResponse).length>0&&o.jsxs(ie,{className:"shadow-xl border-0 mb-8",children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center text-gray-700",children:[o.jsx(id,{className:"mr-2 h-5 w-5 text-green-600"}),"Previous Responses"]})}),o.jsx(oe,{className:"p-6",children:l.filter(V=>V.customerResponse).map(V=>o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:V.message}),o.jsxs("p",{className:"font-medium text-green-800",children:["Your response: ",V.responseStatus,V.customerResponse!==V.responseStatus&&` - "${V.customerResponse}"`]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Responded: ",new Date(V.respondedAt).toLocaleString()]})]})})},V.id))})]}),(v.status==="completed"||v.status==="ready")&&o.jsxs(ie,{className:"shadow-xl border-0",children:[o.jsx(me,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-t-lg",children:o.jsxs(pe,{className:"flex items-center",children:[o.jsx(Ig,{className:"mr-2 h-5 w-5"}),"How was your experience?"]})}),o.jsx(oe,{className:"p-6",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"text-base font-medium",children:"Rate your experience"}),o.jsx("div",{className:"flex space-x-2 mt-2",children:[1,2,3,4,5].map(V=>o.jsx("button",{onClick:()=>s(V),className:`p-2 rounded-full transition-all ${V<=r?"text-yellow-500 bg-yellow-100":"text-gray-300 hover:text-yellow-400"}`,children:o.jsx(k_,{className:"h-8 w-8 fill-current"})},V))})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"feedback",className:"text-base font-medium",children:"Tell us more (optional)"}),o.jsx(pi,{id:"feedback",value:e,onChange:V=>n(V.target.value),placeholder:"How was the food? Service? Anything we can improve?",className:"mt-2 min-h-[100px]"})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(U,{onClick:R,disabled:A.isPending,className:"bg-green-600 hover:bg-green-700 text-white flex-1",children:A.isPending?"Submitting...":"Submit Feedback"}),o.jsx(U,{variant:"outline",onClick:()=>{a(!1),s(0),n("")},children:"Cancel"})]})]}):o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"We'd love to hear about your experience! Your feedback helps us serve you better."}),o.jsxs(U,{onClick:()=>a(!0),className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(k_,{className:"mr-2 h-4 w-4"}),"Leave Feedback"]})]})})]})]})})}function p8(){var x,T;const[t,e]=g.useState(!1),[n,r]=g.useState(null),{cartItems:s,updateQuantity:i,removeItem:a,clearCart:l,getTotalItems:c,addToCart:d}=su(),{user:h,loading:f}=b2();g.useEffect(()=>{const v=localStorage.getItem("premadeCartItems");if(v)try{JSON.parse(v).forEach(b=>d(b)),localStorage.removeItem("premadeCartItems")}catch(_){console.error("Error parsing stored cart items:",_)}KU().then(({user:_,error:b})=>{})},[d]);const m=v=>{r(v),l()};return f?o.jsx("div",{className:"min-h-screen bg-neutral-bg flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600"})}):n?o.jsxs("div",{className:"min-h-screen bg-neutral-bg py-8",children:[o.jsx(K2,{orderId:n}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(We,{href:"/",children:o.jsx(U,{onClick:()=>{r(null)},variant:"outline",children:"Order More"})})})]}):s.length===0?o.jsxs("div",{className:"min-h-screen bg-neutral-bg",children:[o.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"text-2xl mr-2",children:"🍕"}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-cursive text-2xl text-red-600",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-xs text-neutral-secondary -mt-1",children:"Checkout"})]})]})}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[o.jsx("a",{href:"/",className:"text-neutral-text hover:text-red-600 transition-colors font-medium",children:"Menu"}),o.jsx("a",{href:"#",className:"text-neutral-text hover:text-red-600 transition-colors font-medium",children:"Build Pizza"}),o.jsx("a",{href:"#",className:"text-neutral-text hover:text-red-600 transition-colors font-medium",children:"Track Order"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(U,{variant:"ghost",onClick:()=>e(!0),className:"text-neutral-secondary hover:text-neutral-text",children:[o.jsx(oi,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:h?(x=h.email)==null?void 0:x.split("@")[0]:"Sign In"})]}),o.jsxs(U,{className:"bg-red-600 hover:bg-red-700 text-white",children:[o.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Cart",o.jsx("span",{className:"ml-2 bg-yellow-400 text-neutral-text text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:"0"})]})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🛒"}),o.jsx("h2",{className:"text-2xl font-bold text-neutral-text mb-4",children:"Your cart is empty"}),o.jsx("p",{className:"text-neutral-secondary mb-8",children:"Add some delicious pizzas to get started!"}),o.jsx(We,{href:"/",children:o.jsx(U,{className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 text-lg",children:"Browse Menu"})})]}),o.jsx(S1,{isOpen:t,onClose:()=>e(!1)})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-red-200 rounded-full opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-yellow-300 rounded-full opacity-30 animate-bounce delay-300"}),o.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-20 bg-orange-200 rounded-full opacity-25 animate-pulse delay-700"}),o.jsx("div",{className:"absolute bottom-20 right-10 w-16 h-16 bg-red-300 rounded-full opacity-20 animate-bounce delay-1000"})]}),o.jsx("header",{className:"bg-gradient-to-r from-red-600 via-red-500 to-orange-500 shadow-lg sticky top-0 z-40",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-18 py-2",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"text-3xl mr-3 filter drop-shadow-lg",children:"🍕"}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-3xl text-white drop-shadow-lg",children:"Hunt Brothers Pizza"}),o.jsx("p",{className:"text-sm text-orange-100 -mt-1 font-medium",children:"Delicious Checkout Experience"})]})]})}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[o.jsx(We,{href:"/",className:"text-white hover:text-yellow-200 transition-colors font-medium text-lg px-3 py-2 rounded-lg hover:bg-white/10",children:"Menu"}),o.jsx(We,{href:"/build-pizza",className:"text-white hover:text-yellow-200 transition-colors font-medium text-lg px-3 py-2 rounded-lg hover:bg-white/10",children:"Build Pizza"}),o.jsx(We,{href:"/track-order",className:"text-white hover:text-yellow-200 transition-colors font-medium text-lg px-3 py-2 rounded-lg hover:bg-white/10",children:"Track Order"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(U,{variant:"ghost",onClick:()=>e(!0),className:"text-white hover:text-yellow-200 hover:bg-white/10 border-2 border-white/20",children:[o.jsx(oi,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"hidden sm:inline font-medium",children:h?(T=h.email)==null?void 0:T.split("@")[0]:"Sign In"})]}),o.jsxs(U,{className:"bg-yellow-400 hover:bg-yellow-300 text-black font-bold shadow-lg transform hover:scale-105 transition-all",children:[o.jsx(Ma,{className:"mr-2 h-5 w-5"}),"Cart",o.jsx("span",{className:"ml-2 bg-red-600 text-white text-sm rounded-full h-6 w-6 flex items-center justify-center font-bold shadow-md",children:c()})]})]})]})})}),o.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 py-6 shadow-lg relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/10"}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-white drop-shadow-lg",children:"Almost There!"}),o.jsx("p",{className:"text-xl text-white/90 mt-2 font-medium",children:"Complete your delicious order in just a few steps"}),o.jsxs("div",{className:"flex justify-center items-center mt-4 space-x-8",children:[o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-lg",children:"⚡"})}),o.jsx("span",{className:"font-medium",children:"Fast Checkout"})]}),o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-lg",children:"🔒"})}),o.jsx("span",{className:"font-medium",children:"Secure Payment"})]}),o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-lg",children:"🍕"})}),o.jsx("span",{className:"font-medium",children:"Fresh & Hot"})]})]})]})})]}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative",children:[o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border-4 border-gradient-to-r from-red-200 to-orange-200",children:o.jsx(u8,{cartItems:s,onOrderComplete:m})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gradient-to-br from-red-600 to-orange-600 rounded-2xl shadow-2xl p-1",children:o.jsxs("div",{className:"bg-white rounded-xl p-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg p-4 mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🛒"}),"Your Order"]}),o.jsx("p",{className:"text-red-100 text-sm mt-1",children:"Review your delicious selections"})]}),o.jsx(zj,{cartItems:s,onUpdateQuantity:i,onRemoveItem:a})]})})})]}),o.jsx("div",{className:"mt-12 bg-white rounded-2xl shadow-xl p-8 border-2 border-yellow-200",children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"✅"})}),o.jsx("h4",{className:"font-bold text-lg text-gray-800",children:"Quality Guaranteed"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Fresh ingredients, made to order"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🕐"})}),o.jsx("h4",{className:"font-bold text-lg text-gray-800",children:"Ready in 7-10 Minutes"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Hot and fresh for pickup"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"💯"})}),o.jsx("h4",{className:"font-bold text-lg text-gray-800",children:"100% Satisfaction"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Love it or we'll make it right"})]})]})})]}),o.jsx(S1,{isOpen:t,onClose:()=>e(!1)})]})}function g8(){const[t,e]=g.useState(""),[n,r]=g.useState(null),s=i=>{i.preventDefault(),t.trim()&&r(t.trim())};return n?o.jsxs("div",{className:"min-h-screen bg-neutral-bg py-8",children:[o.jsx(K2,{orderId:n}),o.jsx("div",{className:"text-center mt-8",children:o.jsx(U,{variant:"outline",onClick:()=>{r(null),e("")},children:"Track Another Order"})})]}):o.jsx("div",{className:"min-h-screen py-16",style:{background:"var(--pizza-surface)"},children:o.jsxs("div",{className:"max-w-md mx-auto px-4",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx(We,{href:"/",children:o.jsxs(U,{className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 shadow-lg transition-all duration-200",style:{background:"var(--pizza-primary)",borderColor:"var(--pizza-primary)"},children:[o.jsx(jg,{className:"h-4 w-4"}),"Back to Homepage"]})})}),o.jsxs(ie,{className:"shadow-lg border-0",style:{background:"var(--pizza-surface)"},children:[o.jsxs(me,{className:"text-center text-white",style:{background:"var(--pizza-gradient)"},children:[o.jsx(pe,{className:"text-2xl font-bold",children:"Track Your Order"}),o.jsx("p",{className:"text-orange-100",children:"Enter your order ID to see the status"})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:s,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"orderId",style:{color:"var(--pizza-text)"},children:"Order ID"}),o.jsx(Ze,{id:"orderId",value:t,onChange:i=>e(i.target.value),placeholder:"Enter your order ID",required:!0,className:"border-red-200 focus:border-red-400 focus:ring-red-200"})]}),o.jsxs(U,{type:"submit",className:"w-full text-white font-semibold py-3 shadow-lg transition-all duration-200",style:{background:"var(--pizza-primary)",borderColor:"var(--pizza-primary)"},children:[o.jsx(xT,{className:"mr-2 h-4 w-4"}),"Track Order"]})]})})]})]})})}function y8(){const[t,e]=g.useState([]),[n,r]=g.useState(!0),[s,i]=g.useState(null),[a,l]=g.useState(0),[c,d]=g.useState(new Date),[h,f]=g.useState(new Date),[m,x]=g.useState(!1),[T,v]=g.useState(!1),[_,b]=g.useState(null),[y,S]=g.useState(""),[A,O]=g.useState(""),[M,j]=g.useState(""),[N,E]=g.useState("all"),[I,k]=g.useState({}),{toast:C}=Yt();g.useEffect(()=>{const W=setInterval(()=>{f(new Date)},1e3);return()=>clearInterval(W)},[]);const R=async W=>{try{return await(await jt("GET",`/api/notifications/order/${W}`)).json()}catch(H){return console.error(`Error fetching notifications for order ${W}:`,H),[]}},V=async()=>{var W;try{r(!0);const Te=(await(await jt("GET","/api/orders")).json()).filter(ae=>ae.status!=="completed").sort((ae,de)=>new Date(de.createdAt).getTime()-new Date(ae.createdAt).getTime()),He={};for(const ae of Te)if((W=ae.specialInstructions)!=null&&W.includes("SUBSTITUTION REQUEST")){const de=await R(ae.id);He[ae.id]=de}k(He);const Pe=t.map(ae=>ae.id),Ee=Te.filter(ae=>!Pe.includes(ae.id));if(Ee.length>0&&t.length>0){if(l(ae=>ae+Ee.length),"AudioContext"in window||"webkitAudioContext"in window)try{const ae=new(window.AudioContext||window.webkitAudioContext),de=ae.createOscillator(),Ge=ae.createGain();de.connect(Ge),Ge.connect(ae.destination),de.frequency.value=800,Ge.gain.value=.1,de.start(),de.stop(ae.currentTime+.2)}catch{}C({title:"New Order Received!",description:`${Ee.length} new order(s) ready for preparation`,variant:"default"})}e(Te),d(new Date)}catch{C({title:"Error",description:"Failed to fetch orders. Please try again.",variant:"destructive"})}finally{r(!1)}},Y=async(W,H,ee)=>{try{const Te={status:H,updatedAt:new Date().toISOString()};(await jt("PATCH",`/api/orders/${W}`,Te)).ok&&(await V(),C({title:"Order Updated",description:`Order #${W} marked as ${H}`,variant:"success"}),H==="preparing"&&l(0))}catch{C({title:"Error",description:"Failed to update order status",variant:"destructive"})}},G=async W=>{try{(await jt("POST",`/api/orders/${W}/charge`,{updatedAt:new Date().toISOString()})).ok&&(await V(),C({title:"Payment Charged",description:`Customer payment has been successfully charged for order #${W}`,variant:"success"}))}catch{C({title:"Charge Failed",description:"Failed to charge customer payment. Please try again.",variant:"destructive"})}},J=async(W,H)=>{try{(await jt("PATCH",`/api/orders/${W}`,{estimatedTime:H,updatedAt:new Date().toISOString()})).ok&&(await V(),C({title:"Time Estimated",description:`Order #${W} will be ready in ${H} minutes`,variant:"success"}))}catch{C({title:"Error",description:"Failed to set estimated time",variant:"destructive"})}},F=async()=>{if(!_||!y.trim()){C({title:"Missing Information",description:"Please provide a reason for cancellation",variant:"destructive"});return}try{if(_.customerInfo.email){const H=`Hello ${_.customerInfo.firstName},

We regret to inform you that your order #${_.id} has been cancelled.

Reason: ${y}

Your payment will be refunded within 3-5 business days. If you have any questions, please contact us directly.

We apologize for the inconvenience.`;await jt("POST","/api/notifications",{orderId:_.id,type:"order_cancelled",message:H,customerEmail:_.customerInfo.email,requestDetails:{reason:y,cancelledBy:"employee",cancelledAt:new Date().toISOString()}})}(await jt("PATCH",`/api/orders/${_.id}`,{status:"cancelled",cancellationReason:y,cancelledBy:"employee",cancelledAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).ok&&(await V(),C({title:"Order Cancelled",description:_.customerInfo.email?`Order #${_.id} cancelled. Customer has been notified via email.`:`Order #${_.id} cancelled. No email notification sent (no email on file).`,variant:"success"}),x(!1),S(""),b(null))}catch{C({title:"Cancellation Failed",description:"Failed to cancel order. Please try again.",variant:"destructive"})}},K=async()=>{if(!_||!A.trim()||!M.trim()){C({title:"Missing Information",description:"Please provide both reason and suggested replacement",variant:"destructive"});return}try{if(_.customerInfo.email){const H=`Hello ${_.customerInfo.firstName},

We need to make a substitution for your order #${_.id}.

Reason: ${A}
Suggested alternative: ${M}

Please click the link below to approve or decline this substitution:`;await jt("POST","/api/notifications",{orderId:_.id,type:"substitution_request",message:H,customerEmail:_.customerInfo.email,requestDetails:{reason:A,suggestion:M,requestedBy:"employee",requestedAt:new Date().toISOString()}})}(await jt("PATCH",`/api/orders/${_.id}`,{specialInstructions:`SUBSTITUTION REQUEST: ${A}. Suggested: ${M}. ${_.specialInstructions||""}`.trim(),updatedAt:new Date().toISOString()})).ok&&(await V(),C({title:"Substitution Requested",description:_.customerInfo.email?`Customer has been emailed about substitution for Order #${_.id}`:`Substitution logged for Order #${_.id} - No email on file`,variant:"success"}),v(!1),O(""),j(""),b(null))}catch{C({title:"Request Failed",description:"Failed to send substitution request. Please try again.",variant:"destructive"})}},ne=W=>{b(W),x(!0)},le=W=>{b(W),v(!0)};g.useEffect(()=>{V();const W=setInterval(V,3e4);return()=>clearInterval(W)},[]);const Ce=W=>{switch(W){case"confirmed":return"bg-blue-500 text-white";case"preparing":return"bg-yellow-500 text-black";case"ready":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},ze=W=>{switch(W){case"confirmed":return o.jsx(Oa,{className:"h-4 w-4"});case"preparing":return o.jsx(zl,{className:"h-4 w-4"});case"ready":return o.jsx(rn,{className:"h-4 w-4"});default:return o.jsx(Wt,{className:"h-4 w-4"})}},ot=W=>{const H=h.getTime(),ee=new Date(W).getTime();return Math.floor((H-ee)/1e3/60)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-red-600 rounded-full",children:o.jsx(NM,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Kitchen Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Hunt Brothers Pizza - Employee Portal"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-mono font-bold text-gray-800",children:h.toLocaleTimeString()}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Last refresh: ",c.toLocaleTimeString()]})]}),o.jsxs(U,{onClick:V,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[n?o.jsx(Ki,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),o.jsxs("div",{className:"grid grid-cols-5 gap-4 mt-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(W=>W.status==="confirmed").length}),o.jsx("div",{className:"text-sm text-blue-600",children:"New Orders"})]}),o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(W=>W.status==="preparing").length}),o.jsx("div",{className:"text-sm text-yellow-600",children:"Preparing"})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(W=>W.status==="ready").length}),o.jsx("div",{className:"text-sm text-green-600",children:"Ready"})]}),o.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(W=>W.status==="cancelled").length}),o.jsx("div",{className:"text-sm text-red-600",children:"Cancelled"})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.filter(W=>W.status!=="cancelled").length}),o.jsx("div",{className:"text-sm text-purple-600",children:"Total Active"})]})]})]}),a>0&&o.jsx("div",{className:"bg-red-600 text-white rounded-xl p-4 mb-6 animate-pulse",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Oa,{className:"h-6 w-6"}),o.jsxs("span",{className:"text-lg font-bold",children:[a," NEW ORDER",a>1?"S":""," RECEIVED!"]})]}),o.jsx(U,{onClick:()=>l(0),variant:"outline",className:"border-white text-white hover:bg-white hover:text-red-600",children:"Acknowledge"})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All Orders",count:t.length},{key:"confirmed",label:"New",count:t.filter(W=>W.status==="confirmed").length},{key:"preparing",label:"Preparing",count:t.filter(W=>W.status==="preparing").length},{key:"ready",label:"Ready",count:t.filter(W=>W.status==="ready").length},{key:"completed",label:"Completed",count:t.filter(W=>W.status==="completed").length},{key:"cancelled",label:"Cancelled",count:t.filter(W=>W.status==="cancelled").length},{key:"history",label:"Order History",count:t.filter(W=>W.status==="completed"||W.status==="cancelled").length}].map(W=>o.jsxs("button",{onClick:()=>E(W.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${N===W.key?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[W.label,W.count>0&&o.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${N===W.key?"bg-red-100 text-red-600":"bg-gray-200 text-gray-600"}`,children:W.count})]},W.key))})}),n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ki,{className:"h-8 w-8 animate-spin text-gray-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):o.jsx("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 gap-6",children:(()=>{let W;return N==="all"?W=t:N==="history"?W=t.filter(H=>H.status==="completed"||H.status==="cancelled"):W=t.filter(H=>H.status===N),W.map(H=>{var He,Pe,Ee,ae;const ee=ot(H.createdAt),Te=ee>10;return o.jsxs(ie,{className:`relative transition-all duration-300 hover:shadow-xl ${Te?"ring-4 ring-red-500 bg-red-50":"hover:scale-105"}`,children:[o.jsxs(me,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(pe,{className:"text-lg font-bold",children:["Order #",H.id]}),o.jsxs(ft,{className:`${Ce(H.status)} px-3 py-1`,children:[ze(H.status),o.jsx("span",{className:"ml-1 capitalize",children:H.status})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(PM,{className:"h-4 w-4 mr-1"}),H.customerInfo.firstName," ",H.customerInfo.lastName]}),o.jsxs("div",{className:`flex items-center ${Te?"text-red-600 font-bold":"text-gray-600"}`,children:[o.jsx(kv,{className:"h-4 w-4 mr-1"}),ee,"m ago"]})]})]}),o.jsxs(oe,{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:H.items.map((de,Ge)=>o.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"font-semibold text-gray-800",children:[de.quantity,"x ",de.name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[de.size," • ",de.crust||"Hand Tossed"]}),de.toppings&&de.toppings.length>0&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+ ",de.toppings.join(", ")]})]})})},Ge))}),H.specialInstructions&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(oo,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-yellow-800",children:"Special Instructions:"}),o.jsx("div",{className:"text-sm text-yellow-700",children:H.specialInstructions})]})]})}),o.jsx("div",{className:"border-t pt-3",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Pn,{className:"h-4 w-4 mr-1"}),H.customerInfo.phone]}),o.jsxs("div",{className:"font-bold text-lg",children:["$",H.total.toFixed(2)]})]})}),o.jsxs("div",{className:"flex space-x-2 pt-2",children:[o.jsxs(ia,{children:[o.jsx(Uv,{asChild:!0,children:o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>i(H),className:"flex-1",children:[o.jsx(vT,{className:"h-4 w-4 mr-1"}),"Details"]})}),o.jsxs(Gi,{className:"max-w-2xl",children:[o.jsx(Qi,{children:o.jsxs(Yi,{children:["Order #",H.id," Details"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),o.jsxs("p",{children:[H.customerInfo.firstName," ",H.customerInfo.lastName]}),o.jsx("p",{children:H.customerInfo.phone}),H.customerInfo.email&&o.jsx("p",{children:H.customerInfo.email})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),H.items.map((de,Ge)=>o.jsxs("div",{className:"border rounded p-3 mb-2",children:[o.jsxs("div",{className:"font-medium",children:[de.quantity,"x ",de.name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[de.size," • ",de.crust]}),de.toppings.length>0&&o.jsxs("div",{className:"text-sm text-gray-500",children:["Toppings: ",de.toppings.join(", ")]}),o.jsxs("div",{className:"text-sm font-medium",children:["$",de.price.toFixed(2)]})]},Ge))]}),o.jsxs("div",{children:[H.tip&&H.tip>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[o.jsxs("h4",{className:"font-semibold text-green-800",children:["Customer Tip: $",H.tip.toFixed(2)]}),o.jsx("p",{className:"text-sm text-green-600",children:"To be distributed among today's staff"})]}),o.jsxs("h4",{className:"font-semibold",children:["Total: $",H.total.toFixed(2)]}),H.paymentStatus&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Payment Status: ",o.jsx("span",{className:"capitalize",children:H.paymentStatus})]})]})]})]})]}),H.status==="confirmed"&&o.jsxs("div",{className:"space-y-2",children:[((He=H.specialInstructions)==null?void 0:He.includes("SUBSTITUTION REQUEST"))&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Wt,{className:"h-4 w-4 text-orange-600"}),o.jsx("span",{className:"text-sm text-orange-800 font-medium",children:"Substitution Request"})]}),I[H.id]&&I[H.id].length>0?o.jsx("div",{className:"space-y-2",children:I[H.id].map(de=>o.jsxs("div",{className:"bg-white rounded border p-2",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-1",children:de.type==="substitution_request"?"Substitution Request":"Notification"}),de.customerResponse?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"text-sm font-medium text-green-700",children:["Customer Response: ",de.responseStatus==="approved"?"✓ Approved":"✗ Declined"]}),o.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:['"',de.customerResponse,'"']}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Responded: ",new Date(de.respondedAt).toLocaleString()]})]}):o.jsx("div",{className:"text-sm text-orange-700",children:"Waiting for customer response..."})]},de.id))}):o.jsx("p",{className:"text-xs text-orange-700",children:"Substitution request sent. You can still manage this order while waiting."})]}),H.paymentStatus==="authorized"&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-yellow-800 font-medium",children:"Payment on Hold"}),o.jsxs(ft,{variant:"outline",className:"text-yellow-700 border-yellow-300",children:["$",H.total.toFixed(2)," Authorized"]})]}),o.jsx(U,{onClick:()=>G(H.id),className:"bg-green-600 hover:bg-green-700 text-white w-full",size:"sm",children:"Confirm Supplies & Charge Customer"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Set Estimated Time"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(U,{onClick:()=>J(H.id,10),variant:"outline",size:"sm",className:"text-xs",children:"10 min"}),o.jsx(U,{onClick:()=>J(H.id,15),variant:"outline",size:"sm",className:"text-xs",children:"15 min"}),o.jsx(U,{onClick:()=>J(H.id,20),variant:"outline",size:"sm",className:"text-xs",children:"20 min"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[H.status==="confirmed"&&o.jsxs(U,{onClick:()=>Y(H.id,"preparing"),className:"bg-yellow-600 hover:bg-yellow-700 text-white",size:"sm",children:[o.jsx(zl,{className:"h-4 w-4 mr-1"}),"Start Cooking"]}),((Pe=H.specialInstructions)==null?void 0:Pe.includes("SUBSTITUTION REQUEST"))&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(U,{onClick:()=>Y(H.id,"preparing"),className:"bg-yellow-600 hover:bg-yellow-700 text-white",size:"sm",children:[o.jsx(zl,{className:"h-4 w-4 mr-1"}),"Start Anyway"]}),o.jsxs(U,{onClick:()=>Y(H.id,"confirmed"),variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[o.jsx(kl,{className:"h-4 w-4 mr-1"}),"Revert to Confirmed"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(U,{onClick:()=>le(H),variant:"outline",size:"sm",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[o.jsx(kl,{className:"h-4 w-4 mr-1"}),(Ee=H.specialInstructions)!=null&&Ee.includes("SUBSTITUTION REQUEST")?"Send Another Request":"Request Substitution"]}),o.jsxs(U,{onClick:()=>ne(H),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:[o.jsx(ic,{className:"h-4 w-4 mr-1"}),"Cancel Order"]})]}),((ae=H.specialInstructions)==null?void 0:ae.includes("SUBSTITUTION REQUEST"))&&o.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[o.jsx(U,{onClick:()=>Y(H.id,"confirmed"),variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50 text-xs",children:"Accept Original"}),o.jsx(U,{onClick:()=>J(H.id,25),variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-50 text-xs",children:"Extend Time"}),o.jsx(U,{onClick:()=>le(H),variant:"outline",size:"sm",className:"border-green-300 text-green-700 hover:bg-green-50 text-xs",children:"New Request"})]})]})]})]}),H.status==="preparing"&&o.jsxs(U,{onClick:()=>Y(H.id,"ready"),className:"bg-green-600 hover:bg-green-700 text-white flex-1",size:"sm",children:[o.jsx(rn,{className:"h-4 w-4 mr-1"}),"Mark Ready"]}),H.status==="ready"&&o.jsxs(U,{onClick:()=>Y(H.id,"completed"),className:"bg-gray-600 hover:bg-gray-700 text-white flex-1",size:"sm",children:[o.jsx(Da,{className:"h-4 w-4 mr-1"}),"Complete"]}),(H.status==="completed"||H.status==="cancelled")&&N==="history"&&o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Order Restoration - Go Back One Step"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.status==="completed"&&o.jsxs(U,{onClick:()=>Y(H.id,"ready"),className:"bg-orange-600 hover:bg-orange-700 text-white",size:"sm",children:[o.jsx(kl,{className:"h-4 w-4 mr-1"}),"Back to Ready"]}),H.status==="cancelled"&&o.jsxs(U,{onClick:()=>Y(H.id,"confirmed"),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[o.jsx(kl,{className:"h-4 w-4 mr-1"}),"Restore Order"]}),o.jsxs(U,{onClick:()=>Y(H.id,"preparing"),variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[o.jsx(zl,{className:"h-4 w-4 mr-1"}),"Back to Kitchen"]})]})]})})]})]})]},H.id)})})()}),o.jsx(ia,{open:m,onOpenChange:x,children:o.jsxs(Gi,{className:"max-w-md",children:[o.jsx(Qi,{children:o.jsxs(Yi,{className:"flex items-center gap-2 text-red-700",children:[o.jsx(ic,{className:"h-5 w-5"}),"Cancel Order #",_==null?void 0:_.id]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsx("p",{className:"text-sm text-red-800",children:"This will cancel the order and notify the customer. Please provide a reason for cancellation."})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"cancelReason",children:"Cancellation Reason"}),o.jsxs(co,{value:y,onValueChange:S,children:[o.jsx(ai,{children:o.jsx(uo,{placeholder:"Select a reason..."})}),o.jsxs(li,{children:[o.jsx(be,{value:"out_of_ingredients",children:"Out of ingredients"}),o.jsx(be,{value:"equipment_issue",children:"Equipment malfunction"}),o.jsx(be,{value:"staffing_issue",children:"Insufficient staffing"}),o.jsx(be,{value:"high_volume",children:"Too many orders - cannot fulfill in time"}),o.jsx(be,{value:"special_request",children:"Cannot accommodate special request"}),o.jsx(be,{value:"other",children:"Other reason"})]})]})]}),y==="other"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"customReason",children:"Please specify:"}),o.jsx(pi,{id:"customReason",placeholder:"Enter specific reason for cancellation...",value:y==="other"?"":y,onChange:W=>S(W.target.value),rows:3})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsx(U,{variant:"outline",onClick:()=>{x(!1),S(""),b(null)},className:"flex-1",children:"Cancel"}),o.jsxs(U,{onClick:F,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",disabled:!y.trim(),children:[o.jsx(ic,{className:"h-4 w-4 mr-1"}),"Cancel Order"]})]})]})]})}),o.jsx(ia,{open:T,onOpenChange:v,children:o.jsxs(Gi,{className:"max-w-lg",children:[o.jsx(Qi,{children:o.jsxs(Yi,{className:"flex items-center gap-2 text-orange-700",children:[o.jsx(kl,{className:"h-5 w-5"}),"Request Substitution - Order #",_==null?void 0:_.id]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:o.jsx("p",{className:"text-sm text-orange-800",children:"Request a substitution from the customer when ingredients are unavailable. The customer will be contacted to approve or decline."})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"substitutionReason",children:"What item is unavailable?"}),o.jsxs(co,{value:A,onValueChange:O,children:[o.jsx(ai,{children:o.jsx(uo,{placeholder:"Select unavailable item..."})}),o.jsxs(li,{children:[o.jsx(be,{value:"pepperoni",children:"Pepperoni"}),o.jsx(be,{value:"italian_sausage",children:"Italian Sausage"}),o.jsx(be,{value:"ham",children:"Ham"}),o.jsx(be,{value:"bacon",children:"Bacon"}),o.jsx(be,{value:"chicken",children:"Chicken"}),o.jsx(be,{value:"ground_beef",children:"Ground Beef"}),o.jsx(be,{value:"mushrooms",children:"Mushrooms"}),o.jsx(be,{value:"green_peppers",children:"Green Peppers"}),o.jsx(be,{value:"red_peppers",children:"Red Peppers"}),o.jsx(be,{value:"onions",children:"Onions"}),o.jsx(be,{value:"black_olives",children:"Black Olives"}),o.jsx(be,{value:"green_olives",children:"Green Olives"}),o.jsx(be,{value:"tomatoes",children:"Fresh Tomatoes"}),o.jsx(be,{value:"spinach",children:"Spinach"}),o.jsx(be,{value:"jalapenos",children:"Jalapeños"}),o.jsx(be,{value:"banana_peppers",children:"Banana Peppers"}),o.jsx(be,{value:"pineapple",children:"Pineapple"}),o.jsx(be,{value:"extra_cheese",children:"Extra Cheese"}),o.jsx(be,{value:"stuffed_crust",children:"Stuffed Crust"}),o.jsx(be,{value:"thin_crust",children:"Thin Crust"}),o.jsx(be,{value:"hand_tossed",children:"Hand Tossed Crust"}),o.jsx(be,{value:"thick_crust",children:"Thick Crust"}),o.jsx(be,{value:"gluten_free",children:"Gluten-Free Crust"}),o.jsx(be,{value:"entire_pizza",children:"Entire Pizza Type"}),o.jsx(be,{value:"other",children:"Other item"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"substitutionSuggestion",children:"Suggested replacement:"}),o.jsx(pi,{id:"substitutionSuggestion",placeholder:"e.g., 'Replace pepperoni with Italian sausage' or 'Substitute stuffed crust with hand-tossed'",value:M,onChange:W=>j(W.target.value),rows:3})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsx(U,{variant:"outline",onClick:()=>{v(!1),O(""),j(""),b(null)},className:"flex-1",children:"Cancel"}),o.jsxs(U,{onClick:K,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",disabled:!A.trim()||!M.trim(),children:[o.jsx(Ig,{className:"h-4 w-4 mr-1"}),"Request Substitution"]})]})]})]})})]})}function v8(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[a,l]=g.useState(!1),[c,d]=g.useState(!1),{toast:h}=Yt(),f={username:"admin",password:"1234"},m=async x=>{x.preventDefault(),d(!0),await new Promise(T=>setTimeout(T,800)),n===f.username&&s===f.password?(e(!0),h({title:"Access Granted",description:"Welcome to the employee dashboard",variant:"default"})):h({title:"Access Denied",description:"Invalid username or password",variant:"destructive"}),d(!1)};return t?o.jsx(y8,{}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center p-4",children:o.jsxs(ie,{className:"w-full max-w-md shadow-lg",children:[o.jsxs(me,{className:"text-center pb-6",children:[o.jsx("div",{className:"mx-auto h-20 w-20 bg-orange-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:o.jsx(oi,{className:"h-10 w-10 text-white"})}),o.jsx(pe,{className:"text-2xl font-bold text-gray-800",children:"Employee Access"}),o.jsx("p",{className:"text-gray-600",children:"Lemur Express 11 - Staff Portal"}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Testing Credentials:"}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Username: admin | Password: 1234"})]})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"username",children:"Username"}),o.jsx(Ze,{id:"username",type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"Enter username",required:!0,disabled:c,className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ze,{id:"password",type:a?"text":"password",value:s,onChange:x=>i(x.target.value),placeholder:"Enter password",required:!0,disabled:c,className:"h-12 pr-12"}),o.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>l(!a),disabled:c,children:a?o.jsx(wM,{className:"h-4 w-4"}):o.jsx(vT,{className:"h-4 w-4"})})]})]}),o.jsx(U,{type:"submit",className:"w-full h-12 bg-orange-600 hover:bg-orange-700 text-white font-semibold",disabled:c,children:c?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Authenticating..."]}):o.jsxs("div",{className:"flex items-center",children:[o.jsx(kc,{className:"h-4 w-4 mr-2"}),"Access Dashboard"]})})]})})]})})}const fy=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",t),...e})}));fy.displayName="Table";const my=g.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",t),...e}));my.displayName="TableHeader";const py=g.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",t),...e}));py.displayName="TableBody";const x8=g.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));x8.displayName="TableFooter";const Ql=g.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ql.displayName="TableRow";const zt=g.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));zt.displayName="TableHead";const Ut=g.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ut.displayName="TableCell";const w8=g.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",t),...e}));w8.displayName="TableCaption";function _8(){const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState({todayOrders:0,todayRevenue:0,activeOrders:0,avgPrepTime:0,recentOrders:[]}),[a,l]=g.useState(!0),[c,d]=g.useState("overview");g.useState(null);const[h,f]=g.useState({name:"",description:"",basePrice:0,imageUrl:"",category:"signature",isActive:!0}),{toast:m}=Yt(),x=async()=>{try{l(!0);const S=await(await jt("GET","/api/orders")).json();e(S);const O=await(await jt("GET","/api/pizzas")).json();r(O);const M=new Date;M.setHours(0,0,0,0);const j=S.filter(k=>new Date(k.createdAt)>=M),N=j.reduce((k,C)=>k+C.total,0),E=S.filter(k=>k.status!=="completed"),I=S.sort((k,C)=>new Date(C.createdAt).getTime()-new Date(k.createdAt).getTime()).slice(0,10);i({todayOrders:j.length,todayRevenue:N,activeOrders:E.length,avgPrepTime:8,recentOrders:I})}catch{m({title:"Error",description:"Failed to fetch data. Please try again.",variant:"destructive"})}finally{l(!1)}},T=async(y,S)=>{try{(await jt("PATCH",`/api/orders/${y}`,{status:S,updatedAt:new Date().toISOString()})).ok&&(await x(),m({title:"Order Updated",description:`Order #${y} status updated to ${S}`,variant:"success"}))}catch{m({title:"Error",description:"Failed to update order status",variant:"destructive"})}},v=async()=>{try{if(!h.name||!h.description||h.basePrice<=0){m({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}(await jt("POST","/api/pizzas",h)).ok&&(await x(),f({name:"",description:"",basePrice:0,imageUrl:"",category:"signature",isActive:!0}),m({title:"Pizza Added",description:"New pizza item has been added to the menu",variant:"success"}))}catch{m({title:"Error",description:"Failed to add pizza",variant:"destructive"})}};g.useEffect(()=>{x();const y=setInterval(x,6e4);return()=>clearInterval(y)},[]);const _=y=>{switch(y){case"confirmed":return"bg-blue-500 text-white";case"preparing":return"bg-yellow-500 text-black";case"ready":return"bg-green-500 text-white";case"completed":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},b=()=>{const y=[["Order ID","Customer","Phone","Items","Total","Status","Date"].join(","),...t.map(M=>[M.id,`${M.customerInfo.firstName} ${M.customerInfo.lastName}`,M.customerInfo.phone,M.items.map(j=>`${j.quantity}x ${j.name}`).join("; "),M.total.toFixed(2),M.status,new Date(M.createdAt).toLocaleDateString()].join(","))].join(`
`),S=new Blob([y],{type:"text/csv"}),A=window.URL.createObjectURL(S),O=document.createElement("a");O.href=A,O.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,O.click(),window.URL.revokeObjectURL(A)};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ki,{className:"h-8 w-8 animate-spin text-gray-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"p-3 bg-red-600 rounded-full",children:o.jsx(pM,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Hunt Brothers Pizza - Management Portal"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(U,{onClick:b,variant:"outline",children:[o.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Export Orders"]}),o.jsxs(U,{onClick:x,disabled:a,children:[o.jsx(Ki,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(pe,{className:"text-sm font-medium",children:"Today's Orders"}),o.jsx(SM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.todayOrders}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(O_,{className:"h-3 w-3 inline mr-1"}),"+12% from yesterday"]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(pe,{className:"text-sm font-medium",children:"Today's Revenue"}),o.jsx(xM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",s.todayRevenue.toFixed(2)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(O_,{className:"h-3 w-3 inline mr-1"}),"+8% from yesterday"]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(pe,{className:"text-sm font-medium",children:"Active Orders"}),o.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.activeOrders}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently in progress"})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(pe,{className:"text-sm font-medium",children:"Avg Prep Time"}),o.jsx(kv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(oe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[s.avgPrepTime,"m"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Within target range"})]})]})]}),o.jsxs(Wf,{value:c,onValueChange:d,className:"space-y-6",children:[o.jsxs(wu,{className:"grid w-full grid-cols-4",children:[o.jsx(sn,{value:"overview",children:"Overview"}),o.jsx(sn,{value:"orders",children:"Orders"}),o.jsx(sn,{value:"menu",children:"Menu Management"}),o.jsx(sn,{value:"analytics",children:"Analytics"})]}),o.jsx(on,{value:"overview",className:"space-y-6",children:o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Recent Orders"})}),o.jsx(oe,{children:o.jsxs(fy,{children:[o.jsx(my,{children:o.jsxs(Ql,{children:[o.jsx(zt,{children:"Order ID"}),o.jsx(zt,{children:"Customer"}),o.jsx(zt,{children:"Items"}),o.jsx(zt,{children:"Total"}),o.jsx(zt,{children:"Status"}),o.jsx(zt,{children:"Time"}),o.jsx(zt,{children:"Actions"})]})}),o.jsx(py,{children:s.recentOrders.map(y=>o.jsxs(Ql,{children:[o.jsxs(Ut,{className:"font-medium",children:["#",y.id]}),o.jsxs(Ut,{children:[y.customerInfo.firstName," ",y.customerInfo.lastName]}),o.jsxs(Ut,{children:[y.items.map(S=>`${S.quantity}x ${S.name}`).join(", ").slice(0,30),"..."]}),o.jsxs(Ut,{children:["$",y.total.toFixed(2)]}),o.jsx(Ut,{children:o.jsx(ft,{className:_(y.status),children:y.status})}),o.jsx(Ut,{children:new Date(y.createdAt).toLocaleTimeString()}),o.jsx(Ut,{children:o.jsxs(ia,{children:[o.jsx(Uv,{asChild:!0,children:o.jsx(U,{variant:"outline",size:"sm",children:"View"})}),o.jsxs(Gi,{className:"max-w-2xl",children:[o.jsx(Qi,{children:o.jsxs(Yi,{children:["Order #",y.id," Details"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),o.jsxs("p",{children:[y.customerInfo.firstName," ",y.customerInfo.lastName]}),o.jsx("p",{children:y.customerInfo.phone}),y.customerInfo.email&&o.jsx("p",{children:y.customerInfo.email})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Order Items"}),y.items.map((S,A)=>o.jsxs("div",{className:"border rounded p-3 mb-2",children:[o.jsxs("div",{className:"font-medium",children:[S.quantity,"x ",S.name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[S.size," • ",S.crust]}),S.toppings.length>0&&o.jsxs("div",{className:"text-sm text-gray-500",children:["Toppings: ",S.toppings.join(", ")]}),o.jsxs("div",{className:"text-sm font-medium",children:["$",S.price.toFixed(2)]})]},A))]}),o.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[o.jsxs("h4",{className:"font-semibold",children:["Total: $",y.total.toFixed(2)]}),o.jsx("div",{className:"space-x-2",children:y.status!=="completed"&&o.jsx(U,{onClick:()=>T(y.id,"completed"),size:"sm",children:"Mark Complete"})})]})]})]})]})})]},y.id))})]})})]})}),o.jsx(on,{value:"orders",className:"space-y-6",children:o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(pe,{children:["All Orders (",t.length,")"]})}),o.jsx(oe,{children:o.jsxs(fy,{children:[o.jsx(my,{children:o.jsxs(Ql,{children:[o.jsx(zt,{children:"Order ID"}),o.jsx(zt,{children:"Customer"}),o.jsx(zt,{children:"Phone"}),o.jsx(zt,{children:"Items"}),o.jsx(zt,{children:"Total"}),o.jsx(zt,{children:"Status"}),o.jsx(zt,{children:"Date"}),o.jsx(zt,{children:"Actions"})]})}),o.jsx(py,{children:t.map(y=>o.jsxs(Ql,{children:[o.jsxs(Ut,{className:"font-medium",children:["#",y.id]}),o.jsxs(Ut,{children:[y.customerInfo.firstName," ",y.customerInfo.lastName]}),o.jsx(Ut,{children:y.customerInfo.phone}),o.jsxs(Ut,{children:[y.items.length," item",y.items.length>1?"s":""]}),o.jsxs(Ut,{children:["$",y.total.toFixed(2)]}),o.jsx(Ut,{children:o.jsxs(co,{value:y.status,onValueChange:S=>T(y.id,S),children:[o.jsx(ai,{className:"w-32",children:o.jsx(uo,{})}),o.jsxs(li,{children:[o.jsx(be,{value:"confirmed",children:"Confirmed"}),o.jsx(be,{value:"preparing",children:"Preparing"}),o.jsx(be,{value:"ready",children:"Ready"}),o.jsx(be,{value:"completed",children:"Completed"})]})]})}),o.jsx(Ut,{children:new Date(y.createdAt).toLocaleDateString()}),o.jsx(Ut,{children:o.jsx(U,{variant:"outline",size:"sm",children:"View Details"})})]},y.id))})]})})]})}),o.jsxs(on,{value:"menu",className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Add New Pizza"})}),o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"name",children:"Pizza Name"}),o.jsx(Ze,{id:"name",value:h.name,onChange:y=>f({...h,name:y.target.value}),placeholder:"e.g., Pepperoni Supreme"})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"basePrice",children:"Base Price"}),o.jsx(Ze,{id:"basePrice",type:"number",step:"0.01",value:h.basePrice||"",onChange:y=>f({...h,basePrice:parseFloat(y.target.value)||0}),placeholder:"11.99"})]})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"description",children:"Description"}),o.jsx(pi,{id:"description",value:h.description,onChange:y=>f({...h,description:y.target.value}),placeholder:"Delicious pizza with fresh ingredients..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"category",children:"Category"}),o.jsxs(co,{value:h.category,onValueChange:y=>f({...h,category:y}),children:[o.jsx(ai,{children:o.jsx(uo,{})}),o.jsxs(li,{children:[o.jsx(be,{value:"signature",children:"Signature"}),o.jsx(be,{value:"classic",children:"Classic"}),o.jsx(be,{value:"specialty",children:"Specialty"}),o.jsx(be,{value:"vegetarian",children:"Vegetarian"})]})]})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"imageUrl",children:"Image URL"}),o.jsx(Ze,{id:"imageUrl",value:h.imageUrl,onChange:y=>f({...h,imageUrl:y.target.value}),placeholder:"https://example.com/pizza.jpg"})]})]}),o.jsxs(U,{onClick:v,className:"w-full",children:[o.jsx(yf,{className:"h-4 w-4 mr-2"}),"Add Pizza to Menu"]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(pe,{children:["Current Menu (",n.length," items)"]})}),o.jsx(oe,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(y=>o.jsxs(ie,{className:"relative",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(pe,{className:"text-lg",children:y.name}),o.jsx(ft,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]})}),o.jsxs(oe,{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.description}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-bold text-lg",children:["$",Number(y.basePrice).toFixed(2)]}),o.jsxs("div",{className:"space-x-2",children:[o.jsx(U,{variant:"outline",size:"sm",children:o.jsx(jM,{className:"h-3 w-3"})}),o.jsx(U,{variant:"outline",size:"sm",children:o.jsx(Cg,{className:"h-3 w-3"})})]})]})]})]},y.id))})})]})]}),o.jsx(on,{value:"analytics",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Sales Summary"})}),o.jsx(oe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total Orders:"}),o.jsx("span",{className:"font-bold",children:t.length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total Revenue:"}),o.jsxs("span",{className:"font-bold",children:["$",t.reduce((y,S)=>y+S.total,0).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Average Order Value:"}),o.jsxs("span",{className:"font-bold",children:["$",t.length>0?(t.reduce((y,S)=>y+S.total,0)/t.length).toFixed(2):"0.00"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Completed Orders:"}),o.jsx("span",{className:"font-bold",children:t.filter(y=>y.status==="completed").length})]})]})})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsx(pe,{children:"Order Status Distribution"})}),o.jsx(oe,{children:o.jsx("div",{className:"space-y-4",children:["confirmed","preparing","ready","completed"].map(y=>{const S=t.filter(O=>O.status===y).length,A=t.length>0?(S/t.length*100).toFixed(1):"0";return o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"capitalize",children:[y,":"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"font-bold",children:S}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",A,"%)"]})]})]},y)})})})]})]})})]})]})}function b8(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(!1),{toast:a}=Yt(),l="admin123",c=async d=>{d.preventDefault(),i(!0),await new Promise(h=>setTimeout(h,500)),n===l?(e(!0),a({title:"Access Granted",description:"Welcome to the admin dashboard",variant:"success"})):a({title:"Access Denied",description:"Incorrect password",variant:"destructive"}),i(!1)};return t?o.jsx(_8,{}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs(ie,{className:"w-full max-w-md mx-4",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"mx-auto h-16 w-16 bg-red-600 rounded-full flex items-center justify-center mb-4",children:o.jsx(TM,{className:"h-8 w-8 text-white"})}),o.jsx(pe,{className:"text-2xl font-bold text-gray-800",children:"Admin Access"}),o.jsx("p",{className:"text-gray-600",children:"Enter password to access management dashboard"})]}),o.jsx(oe,{children:o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Se,{htmlFor:"password",children:"Admin Password"}),o.jsx(Ze,{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),placeholder:"Enter admin password",required:!0,disabled:s}),o.jsx("p",{className:"text-xs text-gray-500",children:"Hint: admin123"})]}),o.jsx(U,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:s,children:s?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Verifying..."]}):o.jsxs("div",{className:"flex items-center",children:[o.jsx(kc,{className:"h-4 w-4 mr-2"}),"Access Dashboard"]})})]})})]})})}function E8(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(ie,{className:"w-full max-w-md mx-4",children:o.jsxs(oe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(oo,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function N8(){var v;af();const{toast:t}=Yt(),[e,n]=g.useState(""),[r,s]=g.useState(""),[i,a]=g.useState([]);g.useEffect(()=>{a(qc.getOrderHistory());const b=new URLSearchParams(window.location.search).get("id");b&&(s(b),n(b))},[]);const{data:l,isLoading:c,error:d}=mh({queryKey:["/api/orders",r],enabled:!!r}),h=()=>{if(!e.trim()){t({title:"Enter Order ID",description:"Please enter your order ID to track your order.",variant:"destructive"});return}s(e.trim())},f=_=>{navigator.clipboard.writeText(_),t({title:"Copied!",description:"Order ID copied to clipboard."})},m=_=>{switch(_.toLowerCase()){case"confirmed":case"pending":return o.jsx(Wt,{className:"h-5 w-5 text-yellow-500"});case"preparing":return o.jsx(Wt,{className:"h-5 w-5 text-blue-500"});case"ready":return o.jsx(rn,{className:"h-5 w-5 text-green-500"});case"completed":return o.jsx(CM,{className:"h-5 w-5 text-green-600"});default:return o.jsx(Wt,{className:"h-5 w-5 text-gray-500"})}},x=_=>{switch(_.toLowerCase()){case"confirmed":case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"completed":return"bg-green-200 text-green-900";default:return"bg-gray-100 text-gray-800"}},T=_=>new Date(_).toLocaleString();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx(We,{href:"/",children:o.jsxs(U,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700",children:[o.jsx(xh,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Tracking"}),o.jsx("div",{})]}),o.jsxs(ie,{className:"mb-6",children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(xT,{className:"h-5 w-5"}),"Track Your Order"]})}),o.jsx(oe,{children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Ze,{placeholder:"Enter your order ID (e.g., LE123456ABC)",value:e,onChange:_=>n(_.target.value),onKeyPress:_=>_.key==="Enter"&&h(),className:"flex-1"}),o.jsx(U,{onClick:h,disabled:c,children:c?"Searching...":"Track Order"})]})})]}),r&&o.jsxs(ie,{className:"mb-6",children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Order Details"}),o.jsxs(U,{variant:"outline",size:"sm",onClick:()=>f(r),children:[o.jsx(vM,{className:"h-4 w-4 mr-2"}),"Copy ID"]})]})}),o.jsx(oe,{children:d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Order not found or there was an error loading your order."}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Order ID: ",o.jsx("span",{className:"font-mono",children:r})]})]}):c?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]}):l?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",l.id]}),o.jsxs("p",{className:"text-gray-600",children:["ID: ",r]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs(ft,{className:x(l.status),children:[m(l.status),o.jsx("span",{className:"ml-2 capitalize",children:l.status})]}),l.estimatedTime&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Est. ready: ",l.estimatedTime," min"]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Customer Information"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[l.customerName,o.jsx("br",{}),l.customerPhone,o.jsx("br",{}),l.customerEmail&&`${l.customerEmail}`]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Order Information"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Type: Pickup",o.jsx("br",{}),"Total: $",(v=l.total)==null?void 0:v.toFixed(2),o.jsx("br",{}),"Placed: ",T(l.createdAt)]})]})]}),l.items&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Order Items"}),o.jsx("div",{className:"space-y-2",children:JSON.parse(l.items).map((_,b)=>{var y;return o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:_.name}),_.crust&&o.jsxs("span",{className:"text-sm text-gray-600",children:[" - ",_.crust]}),_.toppings&&_.toppings.length>0&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Toppings: ",_.toppings.join(", ")]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"font-medium",children:["$",(y=_.price)==null?void 0:y.toFixed(2)]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Qty: ",_.quantity]})]})]},b)})})]}),l.specialInstructions&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Special Instructions"}),o.jsx("p",{className:"text-sm text-gray-600 p-2 bg-gray-50 rounded",children:l.specialInstructions})]})]}):null})]}),i.length>0&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(pe,{className:"flex items-center gap-2",children:[o.jsx(bM,{className:"h-5 w-5"}),"Recent Orders"]})}),o.jsx(oe,{children:o.jsx("div",{className:"space-y-3",children:i.map(_=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>{s(_.orderId),n(_.orderId)},children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-medium",children:["Order #",_.orderNumber]}),o.jsx(ft,{className:x(_.status),children:_.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[_.customerName," • ",T(_.timestamp)]}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["ID: ",_.orderId]})]}),o.jsx(U,{variant:"outline",size:"sm",children:"View Details"})]},_.orderId))})})]}),o.jsx(ie,{className:"mt-6",children:o.jsx(oe,{className:"pt-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Need Help?"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Can't find your order? Call us at ",o.jsx("span",{className:"font-medium",children:"(555) 123-PIZZA"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Order IDs are in the format: LE123456ABC"})]})})})]})})}var $x="Radio",[S8,G2]=ar($x),[T8,j8]=S8($x),Q2=g.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:l="on",onCheck:c,form:d,...h}=t,[f,m]=g.useState(null),x=Ve(e,_=>m(_)),T=g.useRef(!1),v=f?d||!!f.closest("form"):!0;return o.jsxs(T8,{scope:n,checked:s,disabled:a,children:[o.jsx(_e.button,{type:"button",role:"radio","aria-checked":s,"data-state":J2(s),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:x,onClick:ue(t.onClick,_=>{s||c==null||c(),v&&(T.current=_.isPropagationStopped(),T.current||_.stopPropagation())})}),v&&o.jsx(I8,{control:f,bubbles:!T.current,name:r,value:l,checked:s,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});Q2.displayName=$x;var Y2="RadioIndicator",X2=g.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=j8(Y2,n);return o.jsx(Hn,{present:r||i.checked,children:o.jsx(_e.span,{"data-state":J2(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});X2.displayName=Y2;var I8=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=g.useRef(null),a=$v(n),l=Nv(e);return g.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[a,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function J2(t){return t?"checked":"unchecked"}var C8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bx="RadioGroup",[P8,m7]=ar(Bx,[qf,G2]),Z2=qf(),eP=G2(),[R8,A8]=P8(Bx),tP=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:d,loop:h=!0,onValueChange:f,...m}=t,x=Z2(n),T=ou(d),[v,_]=io({prop:i,defaultProp:s,onChange:f});return o.jsx(R8,{scope:n,name:r,required:a,disabled:l,value:v,onValueChange:_,children:o.jsx(P2,{asChild:!0,...x,orientation:c,dir:T,loop:h,children:o.jsx(_e.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:T,...m,ref:e})})})});tP.displayName=Bx;var nP="RadioGroupItem",rP=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=A8(nP,n),a=i.disabled||r,l=Z2(n),c=eP(n),d=g.useRef(null),h=Ve(e,d),f=i.value===s.value,m=g.useRef(!1);return g.useEffect(()=>{const x=v=>{C8.includes(v.key)&&(m.current=!0)},T=()=>m.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",T)}},[]),o.jsx(R2,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(Q2,{disabled:a,required:i.required,checked:f,...c,...s,name:i.name,ref:h,onCheck:()=>i.onValueChange(s.value),onKeyDown:ue(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ue(s.onFocus,()=>{var x;m.current&&((x=d.current)==null||x.click())})})})});rP.displayName=nP;var k8="RadioGroupIndicator",sP=g.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=eP(n);return o.jsx(X2,{...s,...r,ref:e})});sP.displayName=k8;var iP=tP,oP=rP,O8=sP;const aP=g.forwardRef(({className:t,...e},n)=>o.jsx(iP,{className:ve("grid gap-2",t),...e,ref:n}));aP.displayName=iP.displayName;const gy=g.forwardRef(({className:t,...e},n)=>o.jsx(oP,{ref:n,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(O8,{className:"flex items-center justify-center",children:o.jsx(yM,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gy.displayName=oP.displayName;function D8(){const e=lS().id,[n,r]=g.useState(null),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,d]=g.useState(!1),[h,f]=g.useState(!0),[m,x]=g.useState(""),{toast:T}=Yt();g.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{f(!0);const y=await fetch(`/api/notifications/${e}`);if(y.ok){const S=await y.json();r(S)}else y.status===404?x("This notification link is invalid or has expired."):x("Unable to load notification details.")}catch(y){console.error("Error fetching notification:",y),x("Unable to load notification details.")}finally{f(!1)}},_=async()=>{if(!a){T({title:"Response Required",description:"Please select your response to the substitution request.",variant:"destructive"});return}d(!0);try{await jt("POST",`/api/notifications/${e}/respond`,{response:s||a,status:a==="approved"?"approved":"declined"}),T({title:"Response Submitted",description:"Thank you for your response. The restaurant has been notified."}),v()}catch(y){console.error("Error submitting response:",y),T({title:"Submission Failed",description:"Unable to submit your response. Please try again.",variant:"destructive"})}finally{d(!1)}};if(h)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4",children:o.jsx(ie,{className:"w-full max-w-md",children:o.jsx(oe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full"}),o.jsx("span",{children:"Loading notification..."})]})})})});if(m||!n)return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center p-4",children:o.jsxs(ie,{className:"w-full max-w-md",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(ic,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),o.jsx(pe,{className:"text-red-600",children:"Invalid Link"}),o.jsx(Pg,{children:m})]}),o.jsx(oe,{children:o.jsx(We,{href:"/",children:o.jsxs(U,{className:"w-full",children:[o.jsx(xh,{className:"w-4 h-4 mr-2"}),"Return to Homepage"]})})})]})});const b=n.customerResponse||n.responseStatus;return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsx(We,{href:"/",children:o.jsxs(U,{variant:"ghost",className:"mb-4",children:[o.jsx(xh,{className:"w-4 h-4 mr-2"}),"Back to Homepage"]})})}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[b?o.jsx(rn,{className:"w-6 h-6 text-green-500"}):o.jsx(Wt,{className:"w-6 h-6 text-orange-500"}),o.jsxs("div",{children:[o.jsx(pe,{children:n.type==="substitution_request"?"Substitution Request":"Order Update"}),o.jsxs(Pg,{children:["Order #",n.orderId," • ",new Date(n.createdAt).toLocaleDateString()]})]})]})}),o.jsxs(oe,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"text-base font-medium",children:"Restaurant Message:"}),o.jsx("p",{className:"mt-2 p-4 bg-gray-50 rounded-lg border",children:n.message})]}),b?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(rn,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"font-medium text-green-800",children:"Response Submitted"})]}),o.jsxs("p",{className:"text-green-700",children:["You responded: ",o.jsx("strong",{children:n.responseStatus})]}),n.customerResponse&&n.customerResponse!==n.responseStatus&&o.jsxs("p",{className:"text-green-700 mt-1",children:['Additional comments: "',n.customerResponse,'"']}),o.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Submitted on ",new Date(n.respondedAt).toLocaleString()]})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Se,{className:"text-base font-medium",children:"Your Response:"}),o.jsxs(aP,{value:a,onValueChange:l,className:"mt-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gy,{value:"approved",id:"approve"}),o.jsx(Se,{htmlFor:"approve",className:"cursor-pointer",children:"Approve - I accept the substitution"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gy,{value:"declined",id:"decline"}),o.jsx(Se,{htmlFor:"decline",className:"cursor-pointer",children:"Decline - Please cancel my order or find an alternative"})]})]})]}),o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"comments",className:"text-base font-medium",children:"Additional Comments (Optional)"}),o.jsx(pi,{id:"comments",placeholder:"Any special instructions or preferences...",value:s,onChange:y=>i(y.target.value),className:"mt-2",rows:3})]}),o.jsx(U,{onClick:_,disabled:c||!a,className:"w-full",size:"lg",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Submitting Response..."]}):"Submit Response"})]}),o.jsxs("div",{className:"text-sm text-gray-500 border-t pt-4",children:[o.jsxs("p",{children:["This notification was sent to: ",o.jsx("strong",{children:n.customerEmail})]}),o.jsx("p",{className:"mt-1",children:"If you did not place this order, please ignore this message."})]})]})]})]})})}function M8(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Hx="ScrollArea",[lP,p7]=ar(Hx),[L8,qn]=lP(Hx),cP=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=t,[l,c]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(null),[x,T]=g.useState(null),[v,_]=g.useState(null),[b,y]=g.useState(0),[S,A]=g.useState(0),[O,M]=g.useState(!1),[j,N]=g.useState(!1),E=Ve(e,k=>c(k)),I=ou(s);return o.jsx(L8,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:m,scrollbarX:x,onScrollbarXChange:T,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:v,onScrollbarYChange:_,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:y,onCornerHeightChange:A,children:o.jsx(_e.div,{dir:I,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});cP.displayName=Hx;var uP="ScrollAreaViewport",dP=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,a=qn(uP,n),l=g.useRef(null),c=Ve(e,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});dP.displayName=uP;var Ar="ScrollAreaScrollbar",qx=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qn(Ar,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(V8,{...r,ref:e,forceMount:n}):s.type==="scroll"?o.jsx(F8,{...r,ref:e,forceMount:n}):s.type==="auto"?o.jsx(hP,{...r,ref:e,forceMount:n}):s.type==="always"?o.jsx(Wx,{...r,ref:e}):null});qx.displayName=Ar;var V8=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qn(Ar,t.__scopeScrollArea),[i,a]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),a(!0)},h=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Hn,{present:n||i,children:o.jsx(hP,{"data-state":i?"visible":"hidden",...r,ref:e})})}),F8=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=qn(Ar,t.__scopeScrollArea),i=t.orientation==="horizontal",a=Gf(()=>c("SCROLL_END"),100),[l,c]=M8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const m=()=>{const x=d[h];f!==x&&(c("SCROLL"),a()),f=x};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,c,a]),o.jsx(Hn,{present:n||l!=="hidden",children:o.jsx(Wx,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ue(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hP=g.forwardRef((t,e)=>{const n=qn(Ar,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,a]=g.useState(!1),l=t.orientation==="horizontal",c=Gf(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:h)}},10);return Wa(n.viewport,c),Wa(n.content,c),o.jsx(Hn,{present:r||i,children:o.jsx(Wx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),Wx=g.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=qn(Ar,t.__scopeScrollArea),i=g.useRef(null),a=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=yP(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function f(m,x){return q8(m,a.current,l,x)}return n==="horizontal"?o.jsx(z8,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,x=j1(m,l,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?o.jsx(U8,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,x=j1(m,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),z8=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=qn(Ar,t.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),d=Ve(e,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),xP(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$h(a.paddingLeft),paddingEnd:$h(a.paddingRight)}})}})}),U8=g.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=qn(Ar,t.__scopeScrollArea),[a,l]=g.useState(),c=g.useRef(null),d=Ve(e,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mP,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kf(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),xP(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$h(a.paddingTop),paddingEnd:$h(a.paddingBottom)}})}})}),[$8,fP]=lP(Ar),mP=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...m}=t,x=qn(Ar,n),[T,v]=g.useState(null),_=Ve(e,E=>v(E)),b=g.useRef(null),y=g.useRef(""),S=x.viewport,A=r.content-r.viewport,O=Ct(h),M=Ct(c),j=Gf(f,10);function N(E){if(b.current){const I=E.clientX-b.current.left,k=E.clientY-b.current.top;d({x:I,y:k})}}return g.useEffect(()=>{const E=I=>{const k=I.target;(T==null?void 0:T.contains(k))&&O(I,A)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[S,T,A,O]),g.useEffect(M,[r,M]),Wa(T,j),Wa(x.content,j),o.jsx($8,{scope:n,scrollbar:T,hasThumb:s,onThumbChange:Ct(i),onThumbPointerUp:Ct(a),onThumbPositionChange:M,onThumbPointerDown:Ct(l),children:o.jsx(_e.div,{...m,ref:_,style:{position:"absolute",...m.style},onPointerDown:ue(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=T.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),N(E))}),onPointerMove:ue(t.onPointerMove,N),onPointerUp:ue(t.onPointerUp,E=>{const I=E.target;I.hasPointerCapture(E.pointerId)&&I.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),b.current=null})})})}),Uh="ScrollAreaThumb",pP=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=fP(Uh,t.__scopeScrollArea);return o.jsx(Hn,{present:n||s.hasThumb,children:o.jsx(B8,{ref:e,...r})})}),B8=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=qn(Uh,n),a=fP(Uh,n),{onThumbPositionChange:l}=a,c=Ve(e,f=>a.onThumbChange(f)),d=g.useRef(void 0),h=Gf(()=>{d.current&&(d.current(),d.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!d.current){const x=W8(f,l);d.current=x,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,l]),o.jsx(_e.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ue(t.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),T=f.clientX-x.left,v=f.clientY-x.top;a.onThumbPointerDown({x:T,y:v})}),onPointerUp:ue(t.onPointerUp,a.onThumbPointerUp)})});pP.displayName=Uh;var Kx="ScrollAreaCorner",gP=g.forwardRef((t,e)=>{const n=qn(Kx,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(H8,{...t,ref:e}):null});gP.displayName=Kx;var H8=g.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=qn(Kx,n),[i,a]=g.useState(0),[l,c]=g.useState(0),d=!!(i&&l);return Wa(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Wa(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),a(h)}),d?o.jsx(_e.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function $h(t){return t?parseInt(t,10):0}function yP(t,e){const n=t/e;return isNaN(n)?0:n}function Kf(t){const e=yP(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function q8(t,e,n,r="ltr"){const s=Kf(n),i=s/2,a=e||i,l=s-a,c=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return vP([c,d],f)(t)}function j1(t,e,n="ltr"){const r=Kf(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],d=Ag(t,c);return vP([0,a],[0,l])(d)}function vP(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function xP(t,e){return t>0&&t<e}var W8=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Gf(t,e){const n=Ct(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Wa(t,e){const n=Ct(e);Gt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var wP=cP,K8=dP,G8=gP;const Gx=g.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(wP,{ref:r,className:ve("relative overflow-hidden",t),...n,children:[o.jsx(K8,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(_P,{}),o.jsx(G8,{})]}));Gx.displayName=wP.displayName;const _P=g.forwardRef(({className:t,orientation:e="vertical",...n},r)=>o.jsx(qx,{ref:r,orientation:e,className:ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:o.jsx(pP,{className:"relative flex-1 rounded-full bg-border"})}));_P.displayName=qx.displayName;function bP(){const[t,e]=g.useState(null),[n,r]=g.useState(!1),[s,i]=g.useState(!1);return g.useEffect(()=>{const l=d=>{d.preventDefault(),e(d),r(!0)},c=()=>{i(!0),r(!1),e(null)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",c),window.matchMedia("(display-mode: standalone)").matches&&i(!0),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",c)}},[]),{isInstallable:n,isInstalled:s,installApp:async()=>{if(t)try{await t.prompt(),(await t.userChoice).outcome==="accepted"&&i(!0),e(null),r(!1)}catch(l){console.error("Error installing app:",l)}}}}function Qx(){const t=g.useCallback(c=>{"vibrate"in navigator&&navigator.vibrate(c)},[]),e=g.useCallback(()=>{t(10)},[t]),n=g.useCallback(()=>{t(20)},[t]),r=g.useCallback(()=>{t([30,10,30])},[t]),s=g.useCallback(()=>{t([100,50,100])},[t]),i=g.useCallback(()=>{t([200,50,200,50,200])},[t]),a=g.useCallback(()=>{t([300,100,300])},[t]),l=g.useCallback(()=>{t([200,100,200,100,200])},[t]);return{vibrate:t,lightImpact:e,mediumImpact:n,heavyImpact:r,success:s,warning:i,error:a,newOrder:l}}function EP({orders:t}){const{toast:e}=Yt();nu();const{newOrder:n,success:r}=Qx();return g.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(s=>{s.pushManager.getSubscription().then(i=>{i||s.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"YOUR_VAPID_PUBLIC_KEY"}).catch(console.error)})})},[]),g.useEffect(()=>{const s=t.filter(l=>l.status==="confirmed"),i=JSON.parse(localStorage.getItem("previousOrderIds")||"[]");s.forEach(l=>{i.includes(l.id)||("Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Received!",{body:`Order #${l.id} from ${l.customerInfo.firstName} ${l.customerInfo.lastName}`,icon:"/icon-192.svg",badge:"/icon-192.svg",tag:`order-${l.id}`,requireInteraction:!0}),e({title:"New Order!",description:`Order #${l.id} - ${l.customerInfo.firstName} ${l.customerInfo.lastName}`}),n())});const a=t.map(l=>l.id);localStorage.setItem("previousOrderIds",JSON.stringify(a))},[t,e]),null}function Q8(){const[t,e]=g.useState("new"),[n,r]=g.useState(null),[s,i]=g.useState(""),a=nu(),{toast:l}=Yt(),{isInstallable:c,installApp:d}=bP(),{success:h,mediumImpact:f}=Qx(),{data:m=[],isLoading:x}=mh({queryKey:["/api/orders"],refetchInterval:5e3}),T=wg({mutationFn:async({orderId:E,status:I,estimatedTime:k})=>{const C={status:I};return k&&(C.estimatedTime=k),await jt("PATCH",`/api/orders/${E}`,C)},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/orders"]}),h(),l({title:"Order updated",description:"Order status has been updated successfully"}),r(null)},onError:()=>{l({title:"Error",description:"Failed to update order status",variant:"destructive"})}}),v=m.filter(E=>E.status==="confirmed"),_=m.filter(E=>E.status==="preparing"),b=m.filter(E=>E.status==="ready"),y=m.filter(E=>E.status==="completed"),S=E=>{switch(E){case"confirmed":return"bg-blue-500";case"preparing":return"bg-yellow-500";case"ready":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-500"}},A=E=>{switch(E){case"confirmed":return o.jsx(Oa,{className:"h-4 w-4"});case"preparing":return o.jsx(Wt,{className:"h-4 w-4"});case"ready":return o.jsx(rn,{className:"h-4 w-4"});case"completed":return o.jsx(Da,{className:"h-4 w-4"});default:return o.jsx(oo,{className:"h-4 w-4"})}},O=(E,I)=>{const k=s?parseInt(s):void 0;T.mutate({orderId:E,status:I,estimatedTime:k}),i("")},M=E=>new Date(E).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),j=({order:E})=>o.jsxs(ie,{className:"mb-4 cursor-pointer hover:shadow-md transition-shadow active:scale-95 transition-transform",onClick:()=>{f(),r(E)},children:[o.jsxs(me,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs(pe,{className:"text-lg",children:["Order #",E.id]}),o.jsx(ft,{className:`${S(E.status)} text-white`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[A(E.status),E.status]})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsxs("span",{children:[E.customerInfo.firstName," ",E.customerInfo.lastName]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Pn,{className:"h-4 w-4"}),o.jsx("span",{children:E.customerInfo.phone})]})]}),o.jsx(oe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-medium",children:["Total: $",E.total.toFixed(2)]}),o.jsx("span",{className:"text-sm text-gray-500",children:M(E.createdAt)})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Items: ",E.items.reduce((I,k)=>I+k.quantity,0)]}),E.estimatedTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-orange-600",children:[o.jsx(Wt,{className:"h-4 w-4"}),o.jsxs("span",{children:[E.estimatedTime," min"]})]}),E.orderType==="delivery"&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[o.jsx(gf,{className:"h-4 w-4"}),o.jsx("span",{children:"Delivery"})]})]})})]}),N=({order:E})=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs(ie,{className:"w-full max-w-md max-h-[90vh] overflow-hidden",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs(pe,{children:["Order #",E.id]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>r(null),children:"×"})]})}),o.jsx(Gx,{className:"max-h-[60vh]",children:o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsxs("span",{children:[E.customerInfo.firstName," ",E.customerInfo.lastName]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pn,{className:"h-4 w-4"}),o.jsx("span",{children:E.customerInfo.phone})]}),E.customerInfo.email&&o.jsx("div",{className:"text-gray-600",children:E.customerInfo.email})]})]}),o.jsx(xr,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Order Items"}),o.jsx("div",{className:"space-y-3",children:E.items.map((I,k)=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"font-medium",children:I.name}),o.jsxs("span",{className:"text-sm",children:["×",I.quantity]})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:["Size: ",I.size]}),I.crust&&o.jsxs("div",{children:["Crust: ",I.crust]}),I.toppings.length>0&&o.jsxs("div",{children:["Toppings: ",I.toppings.join(", ")]}),o.jsxs("div",{className:"font-medium",children:["$",I.price.toFixed(2)]})]})]},k))})]}),o.jsx(xr,{}),E.specialInstructions&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Special Instructions"}),o.jsx("p",{className:"text-sm text-gray-600",children:E.specialInstructions})]}),o.jsx(xr,{})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",E.total.toFixed(2)]})]}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Order Type: ",E.orderType]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Placed: ",new Date(E.createdAt).toLocaleString()]})]}),E.status!=="completed"&&o.jsxs(o.Fragment,{children:[o.jsx(xr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Update Status"}),E.status==="confirmed"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"estimated-time",children:"Estimated Time (minutes)"}),o.jsx(Ze,{id:"estimated-time",type:"number",placeholder:"e.g., 15",value:s,onChange:I=>i(I.target.value)})]}),o.jsx(U,{onClick:()=>O(E.id,"preparing"),className:"w-full",disabled:T.isPending,children:"Start Preparing"})]}),E.status==="preparing"&&o.jsx(U,{onClick:()=>O(E.id,"ready"),className:"w-full",disabled:T.isPending,children:"Mark as Ready"}),E.status==="ready"&&o.jsx(U,{onClick:()=>O(E.id,"completed"),className:"w-full",disabled:T.isPending,children:"Complete Order"})]})]})]})})]})});return x?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Loading orders..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-orange-500 text-white p-4 sticky top-0 z-40",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold text-center",children:"Lemur Express 11"}),o.jsx("p",{className:"text-center text-orange-100",children:"Employee Kitchen App"})]}),c&&o.jsx(U,{variant:"ghost",size:"sm",onClick:d,className:"text-white hover:bg-orange-600",children:o.jsx(Rv,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"New"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:_.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Preparing"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Ready"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-600",children:y.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Done"})]})]})}),o.jsxs(Wf,{value:t,onValueChange:e,className:"flex-1",children:[o.jsxs(wu,{className:"grid w-full grid-cols-4 bg-white border-b",children:[o.jsxs(sn,{value:"new",className:"relative",children:["New",v.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-red-500 text-xs p-0 flex items-center justify-center",children:v.length})]}),o.jsxs(sn,{value:"preparing",className:"relative",children:["Preparing",_.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-yellow-500 text-xs p-0 flex items-center justify-center",children:_.length})]}),o.jsxs(sn,{value:"ready",className:"relative",children:["Ready",b.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-green-500 text-xs p-0 flex items-center justify-center",children:b.length})]}),o.jsx(sn,{value:"completed",children:"Completed"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx(on,{value:"new",className:"mt-0",children:v.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No new orders"})]}):v.map(E=>o.jsx(j,{order:E},E.id))}),o.jsx(on,{value:"preparing",className:"mt-0",children:_.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Wt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No orders being prepared"})]}):_.map(E=>o.jsx(j,{order:E},E.id))}),o.jsx(on,{value:"ready",className:"mt-0",children:b.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(rn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No orders ready for pickup"})]}):b.map(E=>o.jsx(j,{order:E},E.id))}),o.jsx(on,{value:"completed",className:"mt-0",children:y.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No completed orders today"})]}):y.slice(0,20).map(E=>o.jsx(j,{order:E},E.id))})]})]}),n&&o.jsx(N,{order:n}),o.jsx(EP,{orders:m})]})}class Y8{constructor(){this.ordersCollection=EU($U,"orders")}subscribeToOrders(e){const n=Pi(this.ordersCollection,_1("createdAt","desc"));return N1(n,r=>{const s=r.docs.map(i=>{var a,l,c,d;return{firebaseId:i.id,...i.data(),createdAt:((l=(a=i.data().createdAt)==null?void 0:a.toDate())==null?void 0:l.toISOString())||new Date().toISOString(),updatedAt:((d=(c=i.data().updatedAt)==null?void 0:c.toDate())==null?void 0:d.toISOString())||new Date().toISOString()}});e(s)})}subscribeToOrdersByStatus(e,n){const r=Pi(this.ordersCollection,Ro("status","==",e),_1("createdAt","desc"));return N1(r,s=>{const i=s.docs.map(a=>{var l,c,d,h;return{firebaseId:a.id,...a.data(),createdAt:((c=(l=a.data().createdAt)==null?void 0:l.toDate())==null?void 0:c.toISOString())||new Date().toISOString(),updatedAt:((h=(d=a.data().updatedAt)==null?void 0:d.toDate())==null?void 0:h.toISOString())||new Date().toISOString()}});n(i)})}async updateOrderStatus(e,n){try{const r=l2(this.ordersCollection,e);return await VU(r,{...n,updatedAt:up()}),!0}catch(r){return console.error("Error updating order:",r),!1}}async addOrder(e){try{return(await FU(this.ordersCollection,{...e,createdAt:up(),updatedAt:up()})).id}catch(n){return console.error("Error adding order:",n),null}}async syncOrdersToFirebase(e){try{for(const n of e){const r=Pi(this.ordersCollection,Ro("orderId","==",n.id));(await Ol(r)).empty&&await this.addOrder({orderId:n.id,customerInfo:n.customerInfo,items:n.items,total:n.total,status:n.status,orderType:n.orderType,specialInstructions:n.specialInstructions,estimatedTime:n.estimatedTime,paymentId:n.paymentId})}return!0}catch(n){return console.error("Error syncing orders:",n),!1}}async getOrderStats(){try{new Date().setHours(0,0,0,0);const[n,r,s,i]=await Promise.all([Ol(Pi(this.ordersCollection,Ro("status","==","confirmed"))),Ol(Pi(this.ordersCollection,Ro("status","==","preparing"))),Ol(Pi(this.ordersCollection,Ro("status","==","ready"))),Ol(Pi(this.ordersCollection,Ro("status","==","completed")))]);return{confirmed:n.size,preparing:r.size,ready:s.size,completed:i.size}}catch(e){return console.error("Error getting order stats:",e),{confirmed:0,preparing:0,ready:0,completed:0}}}}const fp=new Y8;function X8(){const[t,e]=g.useState("new"),[n,r]=g.useState(null),[s,i]=g.useState(""),[a,l]=g.useState([]),[c,d]=g.useState(!0),[h,f]=g.useState(!0),{toast:m}=Yt(),{isInstallable:x,installApp:T}=bP(),{success:v,mediumImpact:_,newOrder:b}=Qx();g.useEffect(()=>{f(!0);let C=null,R;const V=async()=>{try{C=fp.subscribeToOrders(G=>{const J=G.map(F=>({id:F.orderId||F.id,firebaseId:F.firebaseId,customerInfo:F.customerInfo,items:F.items,total:F.total,status:F.status,orderType:F.orderType,specialInstructions:F.specialInstructions,estimatedTime:F.estimatedTime,paymentId:F.paymentId,createdAt:F.createdAt,updatedAt:F.updatedAt}));l(J),d(!0),f(!1)})}catch(G){console.error("Firebase connection failed, falling back to REST API:",G),Y()}},Y=async()=>{try{const G=await fetch("/api/orders");if(G.ok){const J=await G.json();l(J),d(!1),f(!1),R=setInterval(async()=>{try{const F=await fetch("/api/orders");if(F.ok){const K=await F.json();l(K)}}catch(F){console.error("Fallback polling failed:",F)}},5e3)}}catch(G){console.error("Both Firebase and REST API failed:",G),d(!1),f(!1)}};return V(),()=>{C&&C(),R&&clearInterval(R)}},[]),g.useEffect(()=>{(async()=>{try{const R=await fetch("/api/orders");if(R.ok){const V=await R.json();await fp.syncOrdersToFirebase(V)}}catch(R){console.error("Failed to sync existing orders:",R)}})()},[]);const y=async(C,R)=>{const V=s?parseInt(s):void 0,Y={status:R};V&&(Y.estimatedTime=V);try{const G=C.id||C.orderId;if(G)if((await fetch(`/api/orders/${G}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok){if(v(),m({title:"Order updated",description:"Order status has been updated successfully"}),r(null),i(""),C.firebaseId&&c)try{await fp.updateOrderStatus(C.firebaseId,Y)}catch(F){console.log("Firebase sync failed, but REST API succeeded:",F)}}else throw new Error("Failed to update order");else throw new Error("Order ID not found")}catch(G){console.error("Error updating order:",G),m({title:"Error",description:"Failed to update order status",variant:"destructive"})}},S=a.filter(C=>C.status==="confirmed"),A=a.filter(C=>C.status==="preparing"),O=a.filter(C=>C.status==="ready"),M=a.filter(C=>C.status==="completed"),j=C=>{switch(C){case"confirmed":return"bg-blue-500";case"preparing":return"bg-yellow-500";case"ready":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-500"}},N=C=>{switch(C){case"confirmed":return o.jsx(Oa,{className:"h-4 w-4"});case"preparing":return o.jsx(Wt,{className:"h-4 w-4"});case"ready":return o.jsx(rn,{className:"h-4 w-4"});case"completed":return o.jsx(Da,{className:"h-4 w-4"});default:return o.jsx(oo,{className:"h-4 w-4"})}},E=C=>new Date(C).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),I=({order:C})=>o.jsxs(ie,{className:"mb-4 cursor-pointer hover:shadow-md transition-shadow active:scale-95 transition-transform",onClick:()=>{_(),r(C)},children:[o.jsxs(me,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs(pe,{className:"text-lg",children:["Order #",C.id||C.orderId]}),o.jsx(ft,{className:`${j(C.status)} text-white`,children:o.jsxs("div",{className:"flex items-center gap-1",children:[N(C.status),C.status]})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsxs("span",{children:[C.customerInfo.firstName," ",C.customerInfo.lastName]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Pn,{className:"h-4 w-4"}),o.jsx("span",{children:C.customerInfo.phone})]})]}),o.jsx(oe,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-medium",children:["Total: $",C.total.toFixed(2)]}),o.jsx("span",{className:"text-sm text-gray-500",children:E(C.createdAt)})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Items: ",C.items.reduce((R,V)=>R+V.quantity,0)]}),C.estimatedTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-orange-600",children:[o.jsx(Wt,{className:"h-4 w-4"}),o.jsxs("span",{children:[C.estimatedTime," min"]})]}),C.orderType==="delivery"&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[o.jsx(gf,{className:"h-4 w-4"}),o.jsx("span",{children:"Delivery"})]})]})})]}),k=({order:C})=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs(ie,{className:"w-full max-w-md max-h-[90vh] overflow-hidden",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs(pe,{children:["Order #",C.id||C.orderId]}),o.jsx(U,{variant:"ghost",size:"sm",onClick:()=>r(null),children:"×"})]})}),o.jsx(Gx,{className:"max-h-[60vh]",children:o.jsxs(oe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oi,{className:"h-4 w-4"}),o.jsxs("span",{children:[C.customerInfo.firstName," ",C.customerInfo.lastName]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pn,{className:"h-4 w-4"}),o.jsx("span",{children:C.customerInfo.phone})]}),C.customerInfo.email&&o.jsx("div",{className:"text-gray-600",children:C.customerInfo.email})]})]}),o.jsx(xr,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Order Items"}),o.jsx("div",{className:"space-y-3",children:C.items.map((R,V)=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"font-medium",children:R.name}),o.jsxs("span",{className:"text-sm",children:["×",R.quantity]})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:["Size: ",R.size]}),R.crust&&o.jsxs("div",{children:["Crust: ",R.crust]}),R.toppings.length>0&&o.jsxs("div",{children:["Toppings: ",R.toppings.join(", ")]}),o.jsxs("div",{className:"font-medium",children:["$",R.price.toFixed(2)]})]})]},V))})]}),o.jsx(xr,{}),C.specialInstructions&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Special Instructions"}),o.jsx("p",{className:"text-sm text-gray-600",children:C.specialInstructions})]}),o.jsx(xr,{})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",C.total.toFixed(2)]})]}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Order Type: ",C.orderType]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Placed: ",new Date(C.createdAt).toLocaleString()]})]}),C.status!=="completed"&&o.jsxs(o.Fragment,{children:[o.jsx(xr,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold",children:"Update Status"}),C.status==="confirmed"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Se,{htmlFor:"estimated-time",children:"Estimated Time (minutes)"}),o.jsx(Ze,{id:"estimated-time",type:"number",placeholder:"e.g., 15",value:s,onChange:R=>i(R.target.value)})]}),o.jsx(U,{onClick:()=>y(C,"preparing"),className:"w-full",children:"Start Preparing"})]}),C.status==="preparing"&&o.jsx(U,{onClick:()=>y(C,"ready"),className:"w-full",children:"Mark as Ready"}),C.status==="ready"&&o.jsx(U,{onClick:()=>y(C,"completed"),className:"w-full",children:"Complete Order"})]})]})]})})]})});return h?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),o.jsx("p",{children:"Connecting to Firebase..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-orange-500 text-white p-4 sticky top-0 z-40",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold text-center",children:"Lemur Express 11"}),o.jsx("p",{className:"text-center text-orange-100",children:"Employee Kitchen App"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center gap-1",title:c?"Firebase Real-time":"REST API Fallback",children:c?o.jsx(AM,{className:"h-4 w-4 text-green-300"}):o.jsx(RM,{className:"h-4 w-4 text-yellow-300"})}),x&&o.jsx(U,{variant:"ghost",size:"sm",onClick:T,className:"text-white hover:bg-orange-600",children:o.jsx(Rv,{className:"h-4 w-4"})})]})]})}),o.jsx("div",{className:"bg-white p-4 shadow-sm",children:o.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"New"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Preparing"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Ready"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-600",children:M.length}),o.jsx("div",{className:"text-xs text-gray-600",children:"Done"})]})]})}),o.jsxs(Wf,{value:t,onValueChange:e,className:"flex-1",children:[o.jsxs(wu,{className:"grid w-full grid-cols-4 bg-white border-b",children:[o.jsxs(sn,{value:"new",className:"relative",children:["New",S.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-red-500 text-xs p-0 flex items-center justify-center",children:S.length})]}),o.jsxs(sn,{value:"preparing",className:"relative",children:["Preparing",A.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-yellow-500 text-xs p-0 flex items-center justify-center",children:A.length})]}),o.jsxs(sn,{value:"ready",className:"relative",children:["Ready",O.length>0&&o.jsx(ft,{className:"absolute -top-2 -right-2 h-5 w-5 rounded-full bg-green-500 text-xs p-0 flex items-center justify-center",children:O.length})]}),o.jsx(sn,{value:"completed",children:"Completed"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx(on,{value:"new",className:"mt-0",children:S.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No new orders"})]}):S.map(C=>o.jsx(I,{order:C},C.firebaseId||C.id))}),o.jsx(on,{value:"preparing",className:"mt-0",children:A.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Wt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No orders being prepared"})]}):A.map(C=>o.jsx(I,{order:C},C.firebaseId||C.id))}),o.jsx(on,{value:"ready",className:"mt-0",children:O.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(rn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No orders ready for pickup"})]}):O.map(C=>o.jsx(I,{order:C},C.firebaseId||C.id))}),o.jsx(on,{value:"completed",className:"mt-0",children:M.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Da,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:"No completed orders today"})]}):M.slice(0,20).map(C=>o.jsx(I,{order:C},C.firebaseId||C.id))})]})]}),n&&o.jsx(k,{order:n}),o.jsx(EP,{orders:a})]})}function J8(){return o.jsxs(Xk,{children:[o.jsx(On,{path:"/",component:LM}),o.jsx(On,{path:"/cart",component:T3}),o.jsx(On,{path:"/build-pizza",component:C3}),o.jsx(On,{path:"/checkout",component:p8}),o.jsx(On,{path:"/track-order",component:g8}),o.jsx(On,{path:"/order-tracking",component:N8}),o.jsx(On,{path:"/customer-response/:id",component:D8}),o.jsx(On,{path:"/kitchen-display-system",component:v8}),o.jsx(On,{path:"/employee",component:X8}),o.jsx(On,{path:"/employee-rest",component:Q8}),o.jsx(On,{path:"/management-portal",component:b8}),o.jsx(On,{component:E8})]})}function Z8(){return o.jsx(yO,{client:PO,children:o.jsxs(oM,{children:[o.jsx(J8,{}),o.jsx(OM,{})]})})}function e7(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}e7();JN(document.getElementById("root")).render(o.jsx(Z8,{}));
